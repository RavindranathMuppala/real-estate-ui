{"version":3,"file":"static/js/main.620f1684.js","mappings":"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","sources":["../node_modules/react/index.js","../node_modules/react/cjs/react.production.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../node_modules/@aws-amplify/core/src/errors/AmplifyError.ts","../node_modules/@aws-amplify/core/src/errors/APIError.ts","../node_modules/@aws-amplify/api-rest/src/errors/RestApiError.ts","../node_modules/@aws-amplify/api-rest/src/errors/CanceledError.ts","../node_modules/@aws-amplify/core/src/Logger/types.ts","../node_modules/@aws-amplify/core/src/Logger/ConsoleLogger.ts","../node_modules/@aws-amplify/core/src/constants.ts","../node_modules/@aws-amplify/core/src/Hub/index.ts","../node_modules/@aws-amplify/core/src/utils/deepFreeze.ts","../node_modules/@aws-amplify/core/src/singleton/constants.ts","../node_modules/@aws-amplify/core/src/parseAWSExports.ts","../node_modules/@aws-amplify/core/src/parseAmplifyOutputs.ts","../node_modules/@aws-amplify/core/src/utils/parseAmplifyConfig.ts","../node_modules/tslib/tslib.es6.mjs","../node_modules/@aws-crypto/sha256-js/src/constants.ts","../node_modules/@aws-crypto/sha256-js/src/RawSha256.ts","../node_modules/@aws-crypto/util/src/convertToBuffer.ts","../node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js","../node_modules/@aws-crypto/sha256-js/src/jsSha256.ts","../node_modules/@aws-crypto/util/src/isEmptyData.ts","../node_modules/@smithy/util-hex-encoding/dist-es/index.js","../node_modules/@aws-amplify/core/src/singleton/Auth/index.ts","../node_modules/@aws-amplify/core/src/singleton/Amplify.ts","../node_modules/@aws-amplify/api-rest/src/errors/validation.ts","../node_modules/@aws-amplify/core/src/clients/serde/responseInfo.ts","../node_modules/@aws-amplify/core/src/clients/serde/json.ts","../node_modules/@aws-amplify/api-rest/src/utils/serviceError.ts","../node_modules/@aws-amplify/api-rest/src/utils/logger.ts","../node_modules/@aws-amplify/api-rest/src/utils/constants.ts","../node_modules/@aws-amplify/api-rest/src/utils/parseSigningInfo.ts","../node_modules/@aws-amplify/core/src/utils/amplifyUrl/index.ts","../node_modules/@aws-amplify/api-rest/src/utils/resolveApiUrl.ts","../node_modules/@aws-amplify/api-rest/src/errors/assertValidatonError.ts","../node_modules/@aws-amplify/api-rest/src/utils/isIamAuthApplicable.ts","../node_modules/@aws-amplify/core/src/clients/middleware/retry/constants.ts","../node_modules/@aws-amplify/core/src/clients/middleware/retry/jitteredBackoff.ts","../node_modules/@aws-amplify/core/src/utils/retry/jitteredBackoff.ts","../node_modules/@aws-amplify/core/src/utils/retry/constants.ts","../node_modules/@aws-amplify/core/src/types/errors.ts","../node_modules/@aws-amplify/core/src/clients/middleware/retry/isClockSkewError.ts","../node_modules/@aws-amplify/core/src/clients/middleware/retry/defaultRetryDecider.ts","../node_modules/@aws-amplify/core/src/clients/utils/memoization.ts","../node_modules/@aws-amplify/core/src/clients/handlers/fetch.ts","../node_modules/@aws-amplify/core/src/clients/middleware/userAgent/middleware.ts","../node_modules/@aws-amplify/core/src/clients/middleware/retry/retryMiddleware.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getSignedHeaders.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/constants.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getSigningValues.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getFormattedDates.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getCredentialScope.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/dataHashHelpers.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getCanonicalHeaders.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getCanonicalQueryString.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getCanonicalUri.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getHashedPayload.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getSignature.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getCanonicalRequest.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getStringToSign.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/utils/getSigningKey.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/utils/getSkewCorrectedDate.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/utils/getUpdatedSystemClockOffset.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/utils/isClockSkewed.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/middleware.ts","../node_modules/@aws-amplify/core/src/clients/internal/composeTransferHandler.ts","../node_modules/@aws-amplify/api-rest/src/apis/common/baseHandlers/authenticatedHandler.ts","../node_modules/@aws-amplify/core/src/clients/middleware/signing/signer/signatureV4/signRequest.ts","../node_modules/@aws-amplify/api-rest/src/apis/common/baseHandlers/unauthenticatedHandler.ts","../node_modules/@aws-amplify/api-rest/src/apis/common/transferHandler.ts","../node_modules/@aws-amplify/api-rest/src/utils/resolveHeaders.ts","../node_modules/@aws-amplify/api-rest/src/apis/common/publicApis.ts","../node_modules/@aws-amplify/api-rest/src/utils/createCancellableOperation.ts","../node_modules/@aws-amplify/api-rest/src/apis/index.ts","App.js","../node_modules/js-cookie/dist/js.cookie.mjs","../node_modules/@aws-amplify/core/src/storage/CookieStorage.ts","../node_modules/@aws-amplify/core/src/errors/PlatformNotSupportedError.ts","../node_modules/@aws-amplify/core/src/storage/KeyValueStorage.ts","../node_modules/@aws-amplify/core/src/storage/InMemoryStorage.ts","../node_modules/@aws-amplify/core/src/storage/utils.ts","../node_modules/@aws-amplify/core/src/storage/SyncKeyValueStorage.ts","../node_modules/@aws-amplify/core/src/storage/index.ts","../node_modules/@aws-amplify/core/src/storage/DefaultStorage.ts","../node_modules/@aws-amplify/core/src/clients/internal/composeServiceApi.ts","../node_modules/@aws-amplify/core/src/storage/SessionStorage.ts","../node_modules/@aws-amplify/core/src/storage/SyncSessionStorage.ts","../node_modules/@aws-amplify/core/src/clients/endpoints/partitions.ts","../node_modules/@aws-amplify/core/src/clients/endpoints/getDnsSuffix.ts","../node_modules/uuid/dist/esm-browser/native.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","../node_modules/@aws-amplify/core/src/utils/amplifyUuid/index.ts","../node_modules/@aws-amplify/core/src/clients/handlers/aws/unauthenticated.ts","../node_modules/@aws-amplify/core/src/clients/middleware/retry/amzSdkInvocationIdHeaderMiddleware.ts","../node_modules/@aws-amplify/core/src/clients/middleware/retry/amzSdkRequestHeaderMiddleware.ts","../node_modules/@aws-amplify/core/src/Platform/types.ts","../node_modules/@aws-amplify/core/src/Platform/version.ts","../node_modules/@aws-amplify/core/src/Platform/detection/helpers.ts","../node_modules/@aws-amplify/core/src/Platform/detection/index.ts","../node_modules/@aws-amplify/core/src/Platform/detection/Expo.ts","../node_modules/@aws-amplify/core/src/Platform/detection/ReactNative.ts","../node_modules/@aws-amplify/core/src/Platform/detection/Next.ts","../node_modules/@aws-amplify/core/src/Platform/detection/Nuxt.ts","../node_modules/@aws-amplify/core/src/Platform/detection/Angular.ts","../node_modules/@aws-amplify/core/src/Platform/detection/React.ts","../node_modules/@aws-amplify/core/src/Platform/detection/Vue.ts","../node_modules/@aws-amplify/core/src/Platform/detection/Svelte.ts","../node_modules/@aws-amplify/core/src/Platform/detection/Web.ts","../node_modules/@aws-amplify/core/src/Platform/detectFramework.ts","../node_modules/@aws-amplify/core/src/Platform/customUserAgent.ts","../node_modules/@aws-amplify/core/src/Platform/index.ts","../node_modules/@aws-amplify/core/src/awsClients/cognitoIdentity/base.ts","../node_modules/@aws-amplify/core/src/awsClients/cognitoIdentity/getCredentialsForIdentity.ts","../node_modules/@aws-amplify/core/src/utils/convert/base64/base64Decoder.ts","../node_modules/@aws-amplify/core/src/utils/globalHelpers/index.ts","../node_modules/@aws-amplify/core/src/errors/createAssertionFunction.ts","../node_modules/@aws-amplify/core/src/singleton/Auth/utils/errorHelpers.ts","../node_modules/@aws-amplify/core/src/singleton/Auth/utils/index.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/errors/AuthError.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/errors/utils/assertServiceError.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/parsers/regionParsers.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/errors/constants.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/utils/types.ts","../node_modules/@aws-amplify/core/src/awsClients/cognitoIdentity/getId.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/credentialsProvider/utils.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/credentialsProvider/IdentityIdProvider.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/credentialsProvider/credentialsProvider.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/types.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/errorHelpers.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/constants.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/TokenStore.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/credentialsProvider/types.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/credentialsProvider/IdentityIdStore.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/credentialsProvider/index.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/factories/serviceClients/cognitoIdentityProvider/shared/serde/createUserPoolSerializer.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/factories/serviceClients/cognitoIdentityProvider/shared/handler/cognitoUserPoolTransferHandler.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/constants.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/factories/serviceClients/cognitoIdentityProvider/constants.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/factories/serviceClients/cognitoIdentityProvider/createInitiateAuthClient.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/factories/serviceClients/cognitoIdentityProvider/shared/serde/createUserPoolDeserializer.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/factories/createCognitoUserPoolEndpointResolver.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/foundation/cognitoUserPoolEndpointResolver.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/utils/refreshAuthTokens.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/utils/userContextData.ts","../node_modules/@aws-amplify/core/src/utils/deDupeAsyncFunction.ts","../node_modules/@aws-amplify/core/src/utils/isTokenExpired.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/utils/signInWithRedirectStore.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/utils/oauth/oAuthStore.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/utils/oauth/inflightPromise.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/TokenOrchestrator.ts","../node_modules/@aws-amplify/core/src/utils/isBrowser.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/tokenProvider.ts","../node_modules/aws-amplify/node_modules/@aws-amplify/auth/src/providers/cognito/tokenProvider/CognitoUserPoolsTokenProvider.ts","aws-exports.js","../node_modules/aws-amplify/src/initSingleton.ts","index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null, V: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, createDeps, update) {\n  var dispatcher = ReactSharedInternals.H;\n  if (\"function\" === typeof update)\n    throw Error(\n      \"useEffect CRUD overload is not enabled in this build of React.\"\n    );\n  return dispatcher.useEffect(create, createDeps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.1.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.1.0\";\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export class AmplifyError extends Error {\n    /**\n     *  Constructs an AmplifyError.\n     *\n     * @param message text that describes the main problem.\n     * @param underlyingError the underlying cause of the error.\n     * @param recoverySuggestion suggestion to recover from the error.\n     *\n     */\n    constructor({ message, name, recoverySuggestion, underlyingError, metadata, }) {\n        super(message);\n        this.name = name;\n        this.underlyingError = underlyingError;\n        this.recoverySuggestion = recoverySuggestion;\n        if (metadata) {\n            // If metadata exists, explicitly only record the following properties.\n            const { extendedRequestId, httpStatusCode, requestId } = metadata;\n            this.metadata = { extendedRequestId, httpStatusCode, requestId };\n        }\n        // Hack for making the custom error class work when transpiled to es5\n        // TODO: Delete the following 2 lines after we change the build target to >= es2015\n        this.constructor = AmplifyError;\n        Object.setPrototypeOf(this, AmplifyError.prototype);\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyError } from './AmplifyError';\n/**\n * Error class for errors that associated with unsuccessful HTTP responses.\n * It's throw by API category REST API handlers and GraphQL query handlers for now.\n */\nexport class ApiError extends AmplifyError {\n    /**\n     * The unwrapped HTTP response causing the given API error.\n     */\n    get response() {\n        return this._response\n            ? replicateApiErrorResponse(this._response)\n            : undefined;\n    }\n    constructor(params) {\n        super(params);\n        // TODO: Delete the following 2 lines after we change the build target to >= es2015\n        this.constructor = ApiError;\n        Object.setPrototypeOf(this, ApiError.prototype);\n        if (params.response) {\n            this._response = params.response;\n        }\n    }\n}\nconst replicateApiErrorResponse = (response) => ({\n    ...response,\n    headers: { ...response.headers },\n});\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ApiError } from '@aws-amplify/core/internals/utils';\nexport class RestApiError extends ApiError {\n    constructor(params) {\n        super(params);\n        // TODO: Delete the following 2 lines after we change the build target to >= es2015\n        this.constructor = RestApiError;\n        Object.setPrototypeOf(this, RestApiError.prototype);\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { RestApiError } from './RestApiError';\n/**\n * Internal-only class for CanceledError.\n *\n * @internal\n */\nexport class CanceledError extends RestApiError {\n    constructor(params = {}) {\n        super({\n            name: 'CanceledError',\n            message: 'Request is canceled by user',\n            ...params,\n        });\n        // TODO: Delete the following 2 lines after we change the build target to >= es2015\n        this.constructor = CanceledError;\n        Object.setPrototypeOf(this, CanceledError.prototype);\n    }\n}\n/**\n * Check if an error is caused by user calling `cancel()` in REST API.\n *\n * @note This function works **ONLY** for errors thrown by REST API. For GraphQL APIs, use `client.isCancelError(error)`\n *   instead. `client` is generated from  `generateClient()` API from `aws-amplify/api`.\n *\n * @param {unknown} error The unknown exception to be checked.\n * @returns - A boolean indicating if the error was from an upload cancellation\n */\nexport const isCancelError = (error) => !!error && error instanceof CanceledError;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport var LogType;\n(function (LogType) {\n    LogType[\"DEBUG\"] = \"DEBUG\";\n    LogType[\"ERROR\"] = \"ERROR\";\n    LogType[\"INFO\"] = \"INFO\";\n    LogType[\"WARN\"] = \"WARN\";\n    LogType[\"VERBOSE\"] = \"VERBOSE\";\n    LogType[\"NONE\"] = \"NONE\";\n})(LogType || (LogType = {}));\n","/* eslint-disable no-console */\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AWS_CLOUDWATCH_CATEGORY } from '../constants';\nimport { LogType } from './types';\nconst LOG_LEVELS = {\n    VERBOSE: 1,\n    DEBUG: 2,\n    INFO: 3,\n    WARN: 4,\n    ERROR: 5,\n    NONE: 6,\n};\n/**\n * Write logs\n * @class Logger\n */\nexport class ConsoleLogger {\n    /**\n     * @constructor\n     * @param {string} name - Name of the logger\n     */\n    constructor(name, level = LogType.WARN) {\n        this.name = name;\n        this.level = level;\n        this._pluggables = [];\n    }\n    _padding(n) {\n        return n < 10 ? '0' + n : '' + n;\n    }\n    _ts() {\n        const dt = new Date();\n        return ([this._padding(dt.getMinutes()), this._padding(dt.getSeconds())].join(':') +\n            '.' +\n            dt.getMilliseconds());\n    }\n    configure(config) {\n        if (!config)\n            return this._config;\n        this._config = config;\n        return this._config;\n    }\n    /**\n     * Write log\n     * @method\n     * @memeberof Logger\n     * @param {LogType|string} type - log type, default INFO\n     * @param {string|object} msg - Logging message or object\n     */\n    _log(type, ...msg) {\n        let loggerLevelName = this.level;\n        if (ConsoleLogger.LOG_LEVEL) {\n            loggerLevelName = ConsoleLogger.LOG_LEVEL;\n        }\n        if (typeof window !== 'undefined' && window.LOG_LEVEL) {\n            loggerLevelName = window.LOG_LEVEL;\n        }\n        const loggerLevel = LOG_LEVELS[loggerLevelName];\n        const typeLevel = LOG_LEVELS[type];\n        if (!(typeLevel >= loggerLevel)) {\n            // Do nothing if type is not greater than or equal to logger level (handle undefined)\n            return;\n        }\n        let log = console.log.bind(console);\n        if (type === LogType.ERROR && console.error) {\n            log = console.error.bind(console);\n        }\n        if (type === LogType.WARN && console.warn) {\n            log = console.warn.bind(console);\n        }\n        if (ConsoleLogger.BIND_ALL_LOG_LEVELS) {\n            if (type === LogType.INFO && console.info) {\n                log = console.info.bind(console);\n            }\n            if (type === LogType.DEBUG && console.debug) {\n                log = console.debug.bind(console);\n            }\n        }\n        const prefix = `[${type}] ${this._ts()} ${this.name}`;\n        let message = '';\n        if (msg.length === 1 && typeof msg[0] === 'string') {\n            message = `${prefix} - ${msg[0]}`;\n            log(message);\n        }\n        else if (msg.length === 1) {\n            message = `${prefix} ${msg[0]}`;\n            log(prefix, msg[0]);\n        }\n        else if (typeof msg[0] === 'string') {\n            let obj = msg.slice(1);\n            if (obj.length === 1) {\n                obj = obj[0];\n            }\n            message = `${prefix} - ${msg[0]} ${obj}`;\n            log(`${prefix} - ${msg[0]}`, obj);\n        }\n        else {\n            message = `${prefix} ${msg}`;\n            log(prefix, msg);\n        }\n        for (const plugin of this._pluggables) {\n            const logEvent = { message, timestamp: Date.now() };\n            plugin.pushLogs([logEvent]);\n        }\n    }\n    /**\n     * Write General log. Default to INFO\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    log(...msg) {\n        this._log(LogType.INFO, ...msg);\n    }\n    /**\n     * Write INFO log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    info(...msg) {\n        this._log(LogType.INFO, ...msg);\n    }\n    /**\n     * Write WARN log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    warn(...msg) {\n        this._log(LogType.WARN, ...msg);\n    }\n    /**\n     * Write ERROR log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    error(...msg) {\n        this._log(LogType.ERROR, ...msg);\n    }\n    /**\n     * Write DEBUG log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    debug(...msg) {\n        this._log(LogType.DEBUG, ...msg);\n    }\n    /**\n     * Write VERBOSE log\n     * @method\n     * @memeberof Logger\n     * @param {string|object} msg - Logging message or object\n     */\n    verbose(...msg) {\n        this._log(LogType.VERBOSE, ...msg);\n    }\n    addPluggable(pluggable) {\n        if (pluggable && pluggable.getCategoryName() === AWS_CLOUDWATCH_CATEGORY) {\n            this._pluggables.push(pluggable);\n            pluggable.configure(this._config);\n        }\n    }\n    listPluggables() {\n        return this._pluggables;\n    }\n}\nConsoleLogger.LOG_LEVEL = null;\nConsoleLogger.BIND_ALL_LOG_LEVELS = false;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Logging constants\nexport const AWS_CLOUDWATCH_CATEGORY = 'Logging';\nexport const USER_AGENT_HEADER = 'x-amz-user-agent';\n// Error exception code constants\nexport const NO_HUBCALLBACK_PROVIDED_EXCEPTION = 'NoHubcallbackProvidedException';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger } from '../Logger';\nimport { NO_HUBCALLBACK_PROVIDED_EXCEPTION } from '../constants';\nimport { AmplifyError } from '../errors';\nexport const AMPLIFY_SYMBOL = (typeof Symbol !== 'undefined'\n    ? Symbol('amplify_default')\n    : '@@amplify_default');\nconst logger = new ConsoleLogger('Hub');\nexport class HubClass {\n    constructor(name) {\n        this.listeners = new Map();\n        this.protectedChannels = [\n            'core',\n            'auth',\n            'api',\n            'analytics',\n            'interactions',\n            'pubsub',\n            'storage',\n            'ui',\n            'xr',\n        ];\n        this.name = name;\n    }\n    /**\n     * Used internally to remove a Hub listener.\n     *\n     * @remarks\n     * This private method is for internal use only. Instead of calling Hub.remove, call the result of Hub.listen.\n     */\n    _remove(channel, listener) {\n        const holder = this.listeners.get(channel);\n        if (!holder) {\n            logger.warn(`No listeners for ${channel}`);\n            return;\n        }\n        this.listeners.set(channel, [\n            ...holder.filter(({ callback }) => callback !== listener),\n        ]);\n    }\n    dispatch(channel, payload, source, ampSymbol) {\n        if (typeof channel === 'string' &&\n            this.protectedChannels.indexOf(channel) > -1) {\n            const hasAccess = ampSymbol === AMPLIFY_SYMBOL;\n            if (!hasAccess) {\n                logger.warn(`WARNING: ${channel} is protected and dispatching on it can have unintended consequences`);\n            }\n        }\n        const capsule = {\n            channel,\n            payload: { ...payload },\n            source,\n            patternInfo: [],\n        };\n        try {\n            this._toListeners(capsule);\n        }\n        catch (e) {\n            logger.error(e);\n        }\n    }\n    listen(channel, callback, listenerName = 'noname') {\n        let cb;\n        if (typeof callback !== 'function') {\n            throw new AmplifyError({\n                name: NO_HUBCALLBACK_PROVIDED_EXCEPTION,\n                message: 'No callback supplied to Hub',\n            });\n        }\n        else {\n            // Needs to be casted as a more generic type\n            cb = callback;\n        }\n        let holder = this.listeners.get(channel);\n        if (!holder) {\n            holder = [];\n            this.listeners.set(channel, holder);\n        }\n        holder.push({\n            name: listenerName,\n            callback: cb,\n        });\n        return () => {\n            this._remove(channel, cb);\n        };\n    }\n    _toListeners(capsule) {\n        const { channel, payload } = capsule;\n        const holder = this.listeners.get(channel);\n        if (holder) {\n            holder.forEach(listener => {\n                logger.debug(`Dispatching to ${channel} with `, payload);\n                try {\n                    listener.callback(capsule);\n                }\n                catch (e) {\n                    logger.error(e);\n                }\n            });\n        }\n    }\n}\n/* We export a __default__ instance of HubClass to use it as a\npseudo Singleton for the main messaging bus, however you can still create\nyour own instance of HubClass() for a separate \"private bus\" of events. */\nexport const Hub = new HubClass('__default__');\n/**\n * @internal\n *\n * Internal hub used for core Amplify functionality. Not intended for use outside of Amplify.\n *\n */\nexport const HubInternal = new HubClass('internal-hub');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const deepFreeze = (object) => {\n    const propNames = Reflect.ownKeys(object);\n    for (const name of propNames) {\n        const value = object[name];\n        if ((value && typeof value === 'object') || typeof value === 'function') {\n            deepFreeze(value);\n        }\n    }\n    return Object.freeze(object);\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const ADD_OAUTH_LISTENER = Symbol('oauth-listener');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger } from './Logger';\nimport { AmplifyError } from './errors';\nconst logger = new ConsoleLogger('parseAWSExports');\nconst authTypeMapping = {\n    API_KEY: 'apiKey',\n    AWS_IAM: 'iam',\n    AMAZON_COGNITO_USER_POOLS: 'userPool',\n    OPENID_CONNECT: 'oidc',\n    NONE: 'none',\n    AWS_LAMBDA: 'lambda',\n    // `LAMBDA` is an incorrect value that was added during the v6 rewrite.\n    // Keeping it as a valid value until v7 to prevent breaking customers who might\n    // be relying on it as a workaround.\n    // ref: https://github.com/aws-amplify/amplify-js/pull/12922\n    // TODO: @v7 remove next line\n    LAMBDA: 'lambda',\n};\n/**\n * Converts the object imported from `aws-exports.js` or `amplifyconfiguration.json` files generated by\n * the Amplify CLI into an object that conforms to the {@link ResourcesConfig}.\n *\n * @param config A configuration object imported  from `aws-exports.js` or `amplifyconfiguration.json`.\n *\n * @returns An object that conforms to the {@link ResourcesConfig} .\n */\nexport const parseAWSExports = (config = {}) => {\n    if (!Object.prototype.hasOwnProperty.call(config, 'aws_project_region')) {\n        throw new AmplifyError({\n            name: 'InvalidParameterException',\n            message: 'Invalid config parameter.',\n            recoverySuggestion: 'Ensure passing the config object imported from  `amplifyconfiguration.json`.',\n        });\n    }\n    const { aws_appsync_apiKey, aws_appsync_authenticationType, aws_appsync_graphqlEndpoint, aws_appsync_region, aws_bots_config, aws_cognito_identity_pool_id, aws_cognito_sign_up_verification_method, aws_cognito_mfa_configuration, aws_cognito_mfa_types, aws_cognito_password_protection_settings, aws_cognito_verification_mechanisms, aws_cognito_signup_attributes, aws_cognito_social_providers, aws_cognito_username_attributes, aws_mandatory_sign_in, aws_mobile_analytics_app_id, aws_mobile_analytics_app_region, aws_user_files_s3_bucket, aws_user_files_s3_bucket_region, aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing, aws_user_pools_id, aws_user_pools_web_client_id, geo, oauth, predictions, aws_cloud_logic_custom, Notifications, modelIntrospection, } = config;\n    const amplifyConfig = {};\n    // Analytics\n    if (aws_mobile_analytics_app_id) {\n        amplifyConfig.Analytics = {\n            Pinpoint: {\n                appId: aws_mobile_analytics_app_id,\n                region: aws_mobile_analytics_app_region,\n            },\n        };\n    }\n    // Notifications\n    const { InAppMessaging, Push } = Notifications ?? {};\n    if (InAppMessaging?.AWSPinpoint || Push?.AWSPinpoint) {\n        if (InAppMessaging?.AWSPinpoint) {\n            const { appId, region } = InAppMessaging.AWSPinpoint;\n            amplifyConfig.Notifications = {\n                InAppMessaging: {\n                    Pinpoint: {\n                        appId,\n                        region,\n                    },\n                },\n            };\n        }\n        if (Push?.AWSPinpoint) {\n            const { appId, region } = Push.AWSPinpoint;\n            amplifyConfig.Notifications = {\n                ...amplifyConfig.Notifications,\n                PushNotification: {\n                    Pinpoint: {\n                        appId,\n                        region,\n                    },\n                },\n            };\n        }\n    }\n    // Interactions\n    if (Array.isArray(aws_bots_config)) {\n        amplifyConfig.Interactions = {\n            LexV1: Object.fromEntries(aws_bots_config.map(bot => [bot.name, bot])),\n        };\n    }\n    // API\n    if (aws_appsync_graphqlEndpoint) {\n        const defaultAuthMode = authTypeMapping[aws_appsync_authenticationType];\n        if (!defaultAuthMode) {\n            logger.debug(`Invalid authentication type ${aws_appsync_authenticationType}. Falling back to IAM.`);\n        }\n        amplifyConfig.API = {\n            GraphQL: {\n                endpoint: aws_appsync_graphqlEndpoint,\n                apiKey: aws_appsync_apiKey,\n                region: aws_appsync_region,\n                defaultAuthMode: defaultAuthMode ?? 'iam',\n            },\n        };\n        if (modelIntrospection) {\n            amplifyConfig.API.GraphQL.modelIntrospection = modelIntrospection;\n        }\n    }\n    // Auth\n    const mfaConfig = aws_cognito_mfa_configuration\n        ? {\n            status: aws_cognito_mfa_configuration &&\n                aws_cognito_mfa_configuration.toLowerCase(),\n            totpEnabled: aws_cognito_mfa_types?.includes('TOTP') ?? false,\n            smsEnabled: aws_cognito_mfa_types?.includes('SMS') ?? false,\n        }\n        : undefined;\n    const passwordFormatConfig = aws_cognito_password_protection_settings\n        ? {\n            minLength: aws_cognito_password_protection_settings.passwordPolicyMinLength,\n            requireLowercase: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_LOWERCASE') ?? false,\n            requireUppercase: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_UPPERCASE') ?? false,\n            requireNumbers: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_NUMBERS') ?? false,\n            requireSpecialCharacters: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_SYMBOLS') ?? false,\n        }\n        : undefined;\n    const mergedUserAttributes = Array.from(new Set([\n        ...(aws_cognito_verification_mechanisms ?? []),\n        ...(aws_cognito_signup_attributes ?? []),\n    ]));\n    const userAttributes = mergedUserAttributes.reduce((attributes, key) => ({\n        ...attributes,\n        // All user attributes generated by the CLI are required\n        [key.toLowerCase()]: { required: true },\n    }), {});\n    const loginWithEmailEnabled = aws_cognito_username_attributes?.includes('EMAIL') ?? false;\n    const loginWithPhoneEnabled = aws_cognito_username_attributes?.includes('PHONE_NUMBER') ?? false;\n    if (aws_cognito_identity_pool_id || aws_user_pools_id) {\n        amplifyConfig.Auth = {\n            Cognito: {\n                identityPoolId: aws_cognito_identity_pool_id,\n                allowGuestAccess: aws_mandatory_sign_in !== 'enable',\n                signUpVerificationMethod: aws_cognito_sign_up_verification_method,\n                userAttributes,\n                userPoolClientId: aws_user_pools_web_client_id,\n                userPoolId: aws_user_pools_id,\n                mfa: mfaConfig,\n                passwordFormat: passwordFormatConfig,\n                loginWith: {\n                    username: !(loginWithEmailEnabled || loginWithPhoneEnabled),\n                    email: loginWithEmailEnabled,\n                    phone: loginWithPhoneEnabled,\n                },\n            },\n        };\n    }\n    const hasOAuthConfig = oauth ? Object.keys(oauth).length > 0 : false;\n    const hasSocialProviderConfig = aws_cognito_social_providers\n        ? aws_cognito_social_providers.length > 0\n        : false;\n    if (amplifyConfig.Auth && hasOAuthConfig) {\n        amplifyConfig.Auth.Cognito.loginWith = {\n            ...amplifyConfig.Auth.Cognito.loginWith,\n            oauth: {\n                ...getOAuthConfig(oauth),\n                ...(hasSocialProviderConfig && {\n                    providers: parseSocialProviders(aws_cognito_social_providers),\n                }),\n            },\n        };\n    }\n    // Storage\n    if (aws_user_files_s3_bucket) {\n        amplifyConfig.Storage = {\n            S3: {\n                bucket: aws_user_files_s3_bucket,\n                region: aws_user_files_s3_bucket_region,\n                dangerouslyConnectToHttpEndpointForTesting: aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing,\n            },\n        };\n    }\n    // Geo\n    if (geo) {\n        const { amazon_location_service } = geo;\n        amplifyConfig.Geo = {\n            LocationService: {\n                maps: amazon_location_service.maps,\n                geofenceCollections: amazon_location_service.geofenceCollections,\n                searchIndices: amazon_location_service.search_indices,\n                region: amazon_location_service.region,\n            },\n        };\n    }\n    // REST API\n    if (aws_cloud_logic_custom) {\n        amplifyConfig.API = {\n            ...amplifyConfig.API,\n            REST: aws_cloud_logic_custom.reduce((acc, api) => {\n                const { name, endpoint, region, service } = api;\n                return {\n                    ...acc,\n                    [name]: {\n                        endpoint,\n                        ...(service ? { service } : undefined),\n                        ...(region ? { region } : undefined),\n                    },\n                };\n            }, {}),\n        };\n    }\n    // Predictions\n    if (predictions) {\n        // map VoiceId from speechGenerator defaults to voiceId\n        const { VoiceId: voiceId } = predictions?.convert?.speechGenerator?.defaults ?? {};\n        amplifyConfig.Predictions = voiceId\n            ? {\n                ...predictions,\n                convert: {\n                    ...predictions.convert,\n                    speechGenerator: {\n                        ...predictions.convert.speechGenerator,\n                        defaults: { voiceId },\n                    },\n                },\n            }\n            : predictions;\n    }\n    return amplifyConfig;\n};\nconst getRedirectUrl = (redirectStr) => redirectStr?.split(',') ?? [];\nconst getOAuthConfig = ({ domain, scope, redirectSignIn, redirectSignOut, responseType, }) => ({\n    domain,\n    scopes: scope,\n    redirectSignIn: getRedirectUrl(redirectSignIn),\n    redirectSignOut: getRedirectUrl(redirectSignOut),\n    responseType,\n});\nconst parseSocialProviders = (aws_cognito_social_providers) => {\n    return aws_cognito_social_providers.map((provider) => {\n        const updatedProvider = provider.toLowerCase();\n        return updatedProvider.charAt(0).toUpperCase() + updatedProvider.slice(1);\n    });\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function isAmplifyOutputs(config) {\n    // version format initially will be '1' but is expected to be something like x.y where x is major and y minor version\n    const { version } = config;\n    if (!version) {\n        return false;\n    }\n    return version.startsWith('1');\n}\nfunction parseStorage(amplifyOutputsStorageProperties) {\n    if (!amplifyOutputsStorageProperties) {\n        return undefined;\n    }\n    const { bucket_name, aws_region, buckets } = amplifyOutputsStorageProperties;\n    return {\n        S3: {\n            bucket: bucket_name,\n            region: aws_region,\n            buckets: buckets && createBucketInfoMap(buckets),\n        },\n    };\n}\nfunction parseAuth(amplifyOutputsAuthProperties) {\n    if (!amplifyOutputsAuthProperties) {\n        return undefined;\n    }\n    const { user_pool_id, user_pool_client_id, identity_pool_id, password_policy, mfa_configuration, mfa_methods, unauthenticated_identities_enabled, oauth, username_attributes, standard_required_attributes, groups, } = amplifyOutputsAuthProperties;\n    const authConfig = {\n        Cognito: {\n            userPoolId: user_pool_id,\n            userPoolClientId: user_pool_client_id,\n            groups,\n        },\n    };\n    if (identity_pool_id) {\n        authConfig.Cognito = {\n            ...authConfig.Cognito,\n            identityPoolId: identity_pool_id,\n        };\n    }\n    if (password_policy) {\n        authConfig.Cognito.passwordFormat = {\n            requireLowercase: password_policy.require_lowercase,\n            requireNumbers: password_policy.require_numbers,\n            requireUppercase: password_policy.require_uppercase,\n            requireSpecialCharacters: password_policy.require_symbols,\n            minLength: password_policy.min_length ?? 6,\n        };\n    }\n    if (mfa_configuration) {\n        authConfig.Cognito.mfa = {\n            status: getMfaStatus(mfa_configuration),\n            smsEnabled: mfa_methods?.includes('SMS'),\n            totpEnabled: mfa_methods?.includes('TOTP'),\n        };\n    }\n    if (unauthenticated_identities_enabled) {\n        authConfig.Cognito.allowGuestAccess = unauthenticated_identities_enabled;\n    }\n    if (oauth) {\n        authConfig.Cognito.loginWith = {\n            oauth: {\n                domain: oauth.domain,\n                redirectSignIn: oauth.redirect_sign_in_uri,\n                redirectSignOut: oauth.redirect_sign_out_uri,\n                responseType: oauth.response_type === 'token' ? 'token' : 'code',\n                scopes: oauth.scopes,\n                providers: getOAuthProviders(oauth.identity_providers),\n            },\n        };\n    }\n    if (username_attributes) {\n        authConfig.Cognito.loginWith = {\n            ...authConfig.Cognito.loginWith,\n            email: username_attributes.includes('email'),\n            phone: username_attributes.includes('phone_number'),\n            // Signing in with a username is not currently supported in Gen2, this should always evaluate to false\n            username: username_attributes.includes('username'),\n        };\n    }\n    if (standard_required_attributes) {\n        authConfig.Cognito.userAttributes = standard_required_attributes.reduce((acc, curr) => ({ ...acc, [curr]: { required: true } }), {});\n    }\n    return authConfig;\n}\nexport function parseAnalytics(amplifyOutputsAnalyticsProperties) {\n    if (!amplifyOutputsAnalyticsProperties?.amazon_pinpoint) {\n        return undefined;\n    }\n    const { amazon_pinpoint } = amplifyOutputsAnalyticsProperties;\n    return {\n        Pinpoint: {\n            appId: amazon_pinpoint.app_id,\n            region: amazon_pinpoint.aws_region,\n        },\n    };\n}\nfunction parseGeo(amplifyOutputsAnalyticsProperties) {\n    if (!amplifyOutputsAnalyticsProperties) {\n        return undefined;\n    }\n    const { aws_region, geofence_collections, maps, search_indices } = amplifyOutputsAnalyticsProperties;\n    return {\n        LocationService: {\n            region: aws_region,\n            searchIndices: search_indices,\n            geofenceCollections: geofence_collections,\n            maps,\n        },\n    };\n}\nfunction parseData(amplifyOutputsDataProperties) {\n    if (!amplifyOutputsDataProperties) {\n        return undefined;\n    }\n    const { aws_region, default_authorization_type, url, api_key, model_introspection, } = amplifyOutputsDataProperties;\n    const GraphQL = {\n        endpoint: url,\n        defaultAuthMode: getGraphQLAuthMode(default_authorization_type),\n        region: aws_region,\n        apiKey: api_key,\n        modelIntrospection: model_introspection,\n    };\n    return {\n        GraphQL,\n    };\n}\nfunction parseCustom(amplifyOutputsCustomProperties) {\n    if (!amplifyOutputsCustomProperties?.events) {\n        return undefined;\n    }\n    const { url, aws_region, api_key, default_authorization_type } = amplifyOutputsCustomProperties.events;\n    const Events = {\n        endpoint: url,\n        defaultAuthMode: getGraphQLAuthMode(default_authorization_type),\n        region: aws_region,\n        apiKey: api_key,\n    };\n    return {\n        Events,\n    };\n}\nfunction parseNotifications(amplifyOutputsNotificationsProperties) {\n    if (!amplifyOutputsNotificationsProperties) {\n        return undefined;\n    }\n    const { aws_region, channels, amazon_pinpoint_app_id } = amplifyOutputsNotificationsProperties;\n    const hasInAppMessaging = channels.includes('IN_APP_MESSAGING');\n    const hasPushNotification = channels.includes('APNS') || channels.includes('FCM');\n    if (!(hasInAppMessaging || hasPushNotification)) {\n        return undefined;\n    }\n    // At this point, we know the Amplify outputs contains at least one supported channel\n    const notificationsConfig = {};\n    if (hasInAppMessaging) {\n        notificationsConfig.InAppMessaging = {\n            Pinpoint: {\n                appId: amazon_pinpoint_app_id,\n                region: aws_region,\n            },\n        };\n    }\n    if (hasPushNotification) {\n        notificationsConfig.PushNotification = {\n            Pinpoint: {\n                appId: amazon_pinpoint_app_id,\n                region: aws_region,\n            },\n        };\n    }\n    return notificationsConfig;\n}\nexport function parseAmplifyOutputs(amplifyOutputs) {\n    const resourcesConfig = {};\n    if (amplifyOutputs.storage) {\n        resourcesConfig.Storage = parseStorage(amplifyOutputs.storage);\n    }\n    if (amplifyOutputs.auth) {\n        resourcesConfig.Auth = parseAuth(amplifyOutputs.auth);\n    }\n    if (amplifyOutputs.analytics) {\n        resourcesConfig.Analytics = parseAnalytics(amplifyOutputs.analytics);\n    }\n    if (amplifyOutputs.geo) {\n        resourcesConfig.Geo = parseGeo(amplifyOutputs.geo);\n    }\n    if (amplifyOutputs.data) {\n        resourcesConfig.API = parseData(amplifyOutputs.data);\n    }\n    if (amplifyOutputs.custom) {\n        const customConfig = parseCustom(amplifyOutputs.custom);\n        if (customConfig && 'Events' in customConfig) {\n            resourcesConfig.API = { ...resourcesConfig.API, ...customConfig };\n        }\n    }\n    if (amplifyOutputs.notifications) {\n        resourcesConfig.Notifications = parseNotifications(amplifyOutputs.notifications);\n    }\n    return resourcesConfig;\n}\nconst authModeNames = {\n    AMAZON_COGNITO_USER_POOLS: 'userPool',\n    API_KEY: 'apiKey',\n    AWS_IAM: 'iam',\n    AWS_LAMBDA: 'lambda',\n    OPENID_CONNECT: 'oidc',\n};\nfunction getGraphQLAuthMode(authType) {\n    return authModeNames[authType];\n}\nconst providerNames = {\n    GOOGLE: 'Google',\n    LOGIN_WITH_AMAZON: 'Amazon',\n    FACEBOOK: 'Facebook',\n    SIGN_IN_WITH_APPLE: 'Apple',\n};\nfunction getOAuthProviders(providers = []) {\n    return providers.reduce((oAuthProviders, provider) => {\n        if (providerNames[provider] !== undefined) {\n            oAuthProviders.push(providerNames[provider]);\n        }\n        return oAuthProviders;\n    }, []);\n}\nfunction getMfaStatus(mfaConfiguration) {\n    if (mfaConfiguration === 'OPTIONAL')\n        return 'optional';\n    if (mfaConfiguration === 'REQUIRED')\n        return 'on';\n    return 'off';\n}\nfunction createBucketInfoMap(buckets) {\n    const mappedBuckets = {};\n    buckets.forEach(({ name, bucket_name: bucketName, aws_region: region, paths }) => {\n        if (name in mappedBuckets) {\n            throw new Error(`Duplicate friendly name found: ${name}. Name must be unique.`);\n        }\n        const sanitizedPaths = paths\n            ? Object.entries(paths).reduce((acc, [key, value]) => {\n                if (value !== undefined) {\n                    acc[key] = value;\n                }\n                return acc;\n            }, {})\n            : undefined;\n        mappedBuckets[name] = {\n            bucketName,\n            region,\n            paths: sanitizedPaths,\n        };\n    });\n    return mappedBuckets;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseAWSExports } from '../parseAWSExports';\nimport { isAmplifyOutputs, parseAmplifyOutputs } from '../parseAmplifyOutputs';\n/**\n * Parses the variety of configuration shapes that Amplify can accept into a ResourcesConfig.\n *\n * @param amplifyConfig An Amplify configuration object conforming to one of the supported schemas.\n * @return A ResourcesConfig for the provided configuration object.\n */\nexport const parseAmplifyConfig = (amplifyConfig) => {\n    if (Object.keys(amplifyConfig).some(key => key.startsWith('aws_'))) {\n        return parseAWSExports(amplifyConfig);\n    }\n    else if (isAmplifyOutputs(amplifyConfig)) {\n        return parseAmplifyOutputs(amplifyConfig);\n    }\n    else {\n        return amplifyConfig;\n    }\n};\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","/**\n * @internal\n */\nexport const BLOCK_SIZE: number = 64;\n\n/**\n * @internal\n */\nexport const DIGEST_LENGTH: number = 32;\n\n/**\n * @internal\n */\nexport const KEY = new Uint32Array([\n  0x428a2f98,\n  0x71374491,\n  0xb5c0fbcf,\n  0xe9b5dba5,\n  0x3956c25b,\n  0x59f111f1,\n  0x923f82a4,\n  0xab1c5ed5,\n  0xd807aa98,\n  0x12835b01,\n  0x243185be,\n  0x550c7dc3,\n  0x72be5d74,\n  0x80deb1fe,\n  0x9bdc06a7,\n  0xc19bf174,\n  0xe49b69c1,\n  0xefbe4786,\n  0x0fc19dc6,\n  0x240ca1cc,\n  0x2de92c6f,\n  0x4a7484aa,\n  0x5cb0a9dc,\n  0x76f988da,\n  0x983e5152,\n  0xa831c66d,\n  0xb00327c8,\n  0xbf597fc7,\n  0xc6e00bf3,\n  0xd5a79147,\n  0x06ca6351,\n  0x14292967,\n  0x27b70a85,\n  0x2e1b2138,\n  0x4d2c6dfc,\n  0x53380d13,\n  0x650a7354,\n  0x766a0abb,\n  0x81c2c92e,\n  0x92722c85,\n  0xa2bfe8a1,\n  0xa81a664b,\n  0xc24b8b70,\n  0xc76c51a3,\n  0xd192e819,\n  0xd6990624,\n  0xf40e3585,\n  0x106aa070,\n  0x19a4c116,\n  0x1e376c08,\n  0x2748774c,\n  0x34b0bcb5,\n  0x391c0cb3,\n  0x4ed8aa4a,\n  0x5b9cca4f,\n  0x682e6ff3,\n  0x748f82ee,\n  0x78a5636f,\n  0x84c87814,\n  0x8cc70208,\n  0x90befffa,\n  0xa4506ceb,\n  0xbef9a3f7,\n  0xc67178f2\n]);\n\n/**\n * @internal\n */\nexport const INIT = [\n  0x6a09e667,\n  0xbb67ae85,\n  0x3c6ef372,\n  0xa54ff53a,\n  0x510e527f,\n  0x9b05688c,\n  0x1f83d9ab,\n  0x5be0cd19\n];\n\n/**\n * @internal\n */\nexport const MAX_HASHABLE_LENGTH = 2 ** 53 - 1;\n","import {\n  BLOCK_SIZE,\n  DIGEST_LENGTH,\n  INIT,\n  KEY,\n  MAX_HASHABLE_LENGTH\n} from \"./constants\";\n\n/**\n * @internal\n */\nexport class RawSha256 {\n  private state: Int32Array = Int32Array.from(INIT);\n  private temp: Int32Array = new Int32Array(64);\n  private buffer: Uint8Array = new Uint8Array(64);\n  private bufferLength: number = 0;\n  private bytesHashed: number = 0;\n\n  /**\n   * @internal\n   */\n  finished: boolean = false;\n\n  update(data: Uint8Array): void {\n    if (this.finished) {\n      throw new Error(\"Attempted to update an already finished hash.\");\n    }\n\n    let position = 0;\n    let { byteLength } = data;\n    this.bytesHashed += byteLength;\n\n    if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {\n      throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n    }\n\n    while (byteLength > 0) {\n      this.buffer[this.bufferLength++] = data[position++];\n      byteLength--;\n\n      if (this.bufferLength === BLOCK_SIZE) {\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n    }\n  }\n\n  digest(): Uint8Array {\n    if (!this.finished) {\n      const bitsHashed = this.bytesHashed * 8;\n      const bufferView = new DataView(\n        this.buffer.buffer,\n        this.buffer.byteOffset,\n        this.buffer.byteLength\n      );\n\n      const undecoratedLength = this.bufferLength;\n      bufferView.setUint8(this.bufferLength++, 0x80);\n\n      // Ensure the final block has enough room for the hashed length\n      if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n        for (let i = this.bufferLength; i < BLOCK_SIZE; i++) {\n          bufferView.setUint8(i, 0);\n        }\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n\n      for (let i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n        bufferView.setUint8(i, 0);\n      }\n      bufferView.setUint32(\n        BLOCK_SIZE - 8,\n        Math.floor(bitsHashed / 0x100000000),\n        true\n      );\n      bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);\n\n      this.hashBuffer();\n\n      this.finished = true;\n    }\n\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    const out = new Uint8Array(DIGEST_LENGTH);\n    for (let i = 0; i < 8; i++) {\n      out[i * 4] = (this.state[i] >>> 24) & 0xff;\n      out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n      out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n      out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n    }\n\n    return out;\n  }\n\n  private hashBuffer(): void {\n    const { buffer, state } = this;\n\n    let state0 = state[0],\n      state1 = state[1],\n      state2 = state[2],\n      state3 = state[3],\n      state4 = state[4],\n      state5 = state[5],\n      state6 = state[6],\n      state7 = state[7];\n\n    for (let i = 0; i < BLOCK_SIZE; i++) {\n      if (i < 16) {\n        this.temp[i] =\n          ((buffer[i * 4] & 0xff) << 24) |\n          ((buffer[i * 4 + 1] & 0xff) << 16) |\n          ((buffer[i * 4 + 2] & 0xff) << 8) |\n          (buffer[i * 4 + 3] & 0xff);\n      } else {\n        let u = this.temp[i - 2];\n        const t1 =\n          ((u >>> 17) | (u << 15)) ^ ((u >>> 19) | (u << 13)) ^ (u >>> 10);\n\n        u = this.temp[i - 15];\n        const t2 =\n          ((u >>> 7) | (u << 25)) ^ ((u >>> 18) | (u << 14)) ^ (u >>> 3);\n\n        this.temp[i] =\n          ((t1 + this.temp[i - 7]) | 0) + ((t2 + this.temp[i - 16]) | 0);\n      }\n\n      const t1 =\n        ((((((state4 >>> 6) | (state4 << 26)) ^\n          ((state4 >>> 11) | (state4 << 21)) ^\n          ((state4 >>> 25) | (state4 << 7))) +\n          ((state4 & state5) ^ (~state4 & state6))) |\n          0) +\n          ((state7 + ((KEY[i] + this.temp[i]) | 0)) | 0)) |\n        0;\n\n      const t2 =\n        ((((state0 >>> 2) | (state0 << 30)) ^\n          ((state0 >>> 13) | (state0 << 19)) ^\n          ((state0 >>> 22) | (state0 << 10))) +\n          ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) |\n        0;\n\n      state7 = state6;\n      state6 = state5;\n      state5 = state4;\n      state4 = (state3 + t1) | 0;\n      state3 = state2;\n      state2 = state1;\n      state1 = state0;\n      state0 = (t1 + t2) | 0;\n    }\n\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n  }\n}\n","// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { SourceData } from \"@aws-sdk/types\";\nimport { fromUtf8 as fromUtf8Browser } from \"@smithy/util-utf8\";\n\n// Quick polyfill\nconst fromUtf8 =\n  typeof Buffer !== \"undefined\" && Buffer.from\n    ? (input: string) => Buffer.from(input, \"utf8\")\n    : fromUtf8Browser;\n\nexport function convertToBuffer(data: SourceData): Uint8Array {\n  // Already a Uint8, do nothing\n  if (data instanceof Uint8Array) return data;\n\n  if (typeof data === \"string\") {\n    return fromUtf8(data);\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    return new Uint8Array(\n      data.buffer,\n      data.byteOffset,\n      data.byteLength / Uint8Array.BYTES_PER_ELEMENT\n    );\n  }\n\n  return new Uint8Array(data);\n}\n","export const fromUtf8 = (input) => new TextEncoder().encode(input);\n","import { BLOCK_SIZE } from \"./constants\";\nimport { RawSha256 } from \"./RawSha256\";\nimport { Checksum, SourceData } from \"@aws-sdk/types\";\nimport { isEmptyData, convertToBuffer } from \"@aws-crypto/util\";\n\nexport class Sha256 implements Checksum {\n  private readonly secret?: SourceData;\n  private hash: RawSha256;\n  private outer?: RawSha256;\n  private error: any;\n\n  constructor(secret?: SourceData) {\n    this.secret = secret;\n    this.hash = new RawSha256();\n    this.reset();\n  }\n\n  update(toHash: SourceData): void {\n    if (isEmptyData(toHash) || this.error) {\n      return;\n    }\n\n    try {\n      this.hash.update(convertToBuffer(toHash));\n    } catch (e) {\n      this.error = e;\n    }\n  }\n\n  /* This synchronous method keeps compatibility\n   * with the v2 aws-sdk.\n   */\n  digestSync(): Uint8Array {\n    if (this.error) {\n      throw this.error;\n    }\n\n    if (this.outer) {\n      if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n      }\n\n      return this.outer.digest();\n    }\n\n    return this.hash.digest();\n  }\n\n  /* The underlying digest method here is synchronous.\n   * To keep the same interface with the other hash functions\n   * the default is to expose this as an async method.\n   * However, it can sometimes be useful to have a sync method.\n   */\n  async digest(): Promise<Uint8Array> {\n    return this.digestSync();\n  }\n\n  reset(): void {\n    this.hash = new RawSha256();\n    if (this.secret) {\n      this.outer = new RawSha256();\n      const inner = bufferFromSecret(this.secret);\n      const outer = new Uint8Array(BLOCK_SIZE);\n      outer.set(inner);\n\n      for (let i = 0; i < BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n      }\n\n      this.hash.update(inner);\n      this.outer.update(outer);\n\n      // overwrite the copied key in memory\n      for (let i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n      }\n    }\n  }\n}\n\nfunction bufferFromSecret(secret: SourceData): Uint8Array {\n  let input = convertToBuffer(secret);\n\n  if (input.byteLength > BLOCK_SIZE) {\n    const bufferHash = new RawSha256();\n    bufferHash.update(input);\n    input = bufferHash.digest();\n  }\n\n  const buffer = new Uint8Array(BLOCK_SIZE);\n  buffer.set(input);\n  return buffer;\n}\n","// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { SourceData } from \"@aws-sdk/types\";\n\nexport function isEmptyData(data: SourceData): boolean {\n  if (typeof data === \"string\") {\n    return data.length === 0;\n  }\n\n  return data.byteLength === 0;\n}\n","const SHORT_TO_HEX = {};\nconst HEX_TO_SHORT = {};\nfor (let i = 0; i < 256; i++) {\n    let encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = `0${encodedByte}`;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\nexport function fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    const out = new Uint8Array(encoded.length / 2);\n    for (let i = 0; i < encoded.length; i += 2) {\n        const encodedByte = encoded.slice(i, i + 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(`Cannot decode unrecognized sequence ${encodedByte} as hexadecimal`);\n        }\n    }\n    return out;\n}\nexport function toHex(bytes) {\n    let out = \"\";\n    for (let i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n","export class AuthClass {\n    /**\n     * Configure Auth category\n     *\n     * @internal\n     *\n     * @param authResourcesConfig - Resources configurations required by Auth providers.\n     * @param authOptions - Client options used by library\n     *\n     * @returns void\n     */\n    configure(authResourcesConfig, authOptions) {\n        this.authConfig = authResourcesConfig;\n        this.authOptions = authOptions;\n    }\n    /**\n     * Fetch the auth tokens, and the temporary AWS credentials and identity if they are configured. By default it\n     * does not refresh the auth tokens or credentials if they are loaded in storage already. You can force a refresh\n     * with `{ forceRefresh: true }` input.\n     *\n     * @param options - Options configuring the fetch behavior.\n     *\n     * @returns Promise of current auth session {@link AuthSession}.\n     */\n    async fetchAuthSession(options = {}) {\n        let credentialsAndIdentityId;\n        let userSub;\n        // Get tokens will throw if session cannot be refreshed (network or service error) or return null if not available\n        const tokens = await this.getTokens(options);\n        if (tokens) {\n            userSub = tokens.accessToken?.payload?.sub;\n            // getCredentialsAndIdentityId will throw if cannot get credentials (network or service error)\n            credentialsAndIdentityId =\n                await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({\n                    authConfig: this.authConfig,\n                    tokens,\n                    authenticated: true,\n                    forceRefresh: options.forceRefresh,\n                });\n        }\n        else {\n            // getCredentialsAndIdentityId will throw if cannot get credentials (network or service error)\n            credentialsAndIdentityId =\n                await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({\n                    authConfig: this.authConfig,\n                    authenticated: false,\n                    forceRefresh: options.forceRefresh,\n                });\n        }\n        return {\n            tokens,\n            credentials: credentialsAndIdentityId?.credentials,\n            identityId: credentialsAndIdentityId?.identityId,\n            userSub,\n        };\n    }\n    async clearCredentials() {\n        await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId();\n    }\n    async getTokens(options) {\n        return ((await this.authOptions?.tokenProvider?.getTokens(options)) ?? undefined);\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AMPLIFY_SYMBOL, Hub } from '../Hub';\nimport { deepFreeze } from '../utils';\nimport { parseAmplifyConfig } from '../libraryUtils';\nimport { AuthClass } from './Auth';\nimport { ADD_OAUTH_LISTENER } from './constants';\nexport class AmplifyClass {\n    constructor() {\n        this.oAuthListener = undefined;\n        this.resourcesConfig = {};\n        this.libraryOptions = {};\n        this.Auth = new AuthClass();\n    }\n    /**\n     * Configures Amplify for use with your back-end resources.\n     *\n     * @remarks\n     * This API does not perform any merging of either `resourcesConfig` or `libraryOptions`. The most recently\n     * provided values will be used after configuration.\n     *\n     * @remarks\n     * `configure` can be used to specify additional library options where available for supported categories.\n     *\n     * @param resourceConfig - Back-end resource configuration. Typically provided via the `aws-exports.js` file.\n     * @param libraryOptions - Additional options for customizing the behavior of the library.\n     */\n    configure(resourcesConfig, libraryOptions) {\n        const resolvedResourceConfig = parseAmplifyConfig(resourcesConfig);\n        this.resourcesConfig = resolvedResourceConfig;\n        if (libraryOptions) {\n            this.libraryOptions = libraryOptions;\n        }\n        // Make resource config immutable\n        this.resourcesConfig = deepFreeze(this.resourcesConfig);\n        this.Auth.configure(this.resourcesConfig.Auth, this.libraryOptions.Auth);\n        Hub.dispatch('core', {\n            event: 'configure',\n            data: this.resourcesConfig,\n        }, 'Configure', AMPLIFY_SYMBOL);\n        this.notifyOAuthListener();\n    }\n    /**\n     * Provides access to the current back-end resource configuration for the Library.\n     *\n     * @returns Returns the immutable back-end resource configuration.\n     */\n    getConfig() {\n        return this.resourcesConfig;\n    }\n    /** @internal */\n    [ADD_OAUTH_LISTENER](listener) {\n        if (this.resourcesConfig.Auth?.Cognito.loginWith?.oauth) {\n            // when Amplify has been configured with a valid OAuth config while adding the listener, run it directly\n            listener(this.resourcesConfig.Auth?.Cognito);\n        }\n        else {\n            // otherwise register the listener and run it later when Amplify gets configured with a valid oauth config\n            this.oAuthListener = listener;\n        }\n    }\n    notifyOAuthListener() {\n        if (!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth ||\n            !this.oAuthListener) {\n            return;\n        }\n        this.oAuthListener(this.resourcesConfig.Auth?.Cognito);\n        // the listener should only be notified once with a valid oauth config\n        this.oAuthListener = undefined;\n    }\n}\n/**\n * The `Amplify` utility is used to configure the library.\n *\n * @remarks\n * `Amplify` orchestrates cross-category communication within the library.\n */\nexport const Amplify = new AmplifyClass();\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport var RestApiValidationErrorCode;\n(function (RestApiValidationErrorCode) {\n    RestApiValidationErrorCode[\"InvalidApiName\"] = \"InvalidApiName\";\n})(RestApiValidationErrorCode || (RestApiValidationErrorCode = {}));\nexport const validationErrorMap = {\n    [RestApiValidationErrorCode.InvalidApiName]: {\n        message: 'API name is invalid.',\n        recoverySuggestion: 'Check if the API name matches the one in your configuration or `aws-exports.js`',\n    },\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const parseMetadata = (response) => {\n    const { headers, statusCode } = response;\n    return {\n        ...(isMetadataBearer(response) ? response.$metadata : {}),\n        httpStatusCode: statusCode,\n        requestId: headers['x-amzn-requestid'] ??\n            headers['x-amzn-request-id'] ??\n            headers['x-amz-request-id'],\n        extendedRequestId: headers['x-amz-id-2'],\n        cfId: headers['x-amz-cf-id'],\n    };\n};\nconst isMetadataBearer = (response) => typeof response?.$metadata === 'object';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseMetadata } from './responseInfo';\n/**\n * Utility functions for serializing and deserializing of JSON protocol in general(including: REST-JSON, JSON-RPC, etc.)\n */\n/**\n * Error parser for AWS JSON protocol.\n */\nexport const parseJsonError = async (response) => {\n    if (!response || response.statusCode < 300) {\n        return;\n    }\n    const body = await parseJsonBody(response);\n    const sanitizeErrorCode = (rawValue) => {\n        const [cleanValue] = rawValue.toString().split(/[,:]+/);\n        if (cleanValue.includes('#')) {\n            return cleanValue.split('#')[1];\n        }\n        return cleanValue;\n    };\n    const code = sanitizeErrorCode(response.headers['x-amzn-errortype'] ??\n        body.code ??\n        body.__type ??\n        'UnknownError');\n    const message = body.message ?? body.Message ?? 'Unknown error';\n    const error = new Error(message);\n    return Object.assign(error, {\n        name: code,\n        $metadata: parseMetadata(response),\n    });\n};\n/**\n * Parse JSON response body to JavaScript object.\n */\nexport const parseJsonBody = async (response) => {\n    if (!response.body) {\n        throw new Error('Missing response payload');\n    }\n    const output = await response.body.json();\n    return Object.assign(output, {\n        $metadata: parseMetadata(response),\n    });\n};\n","import { parseJsonError as parseAwsJsonError, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { RestApiError } from '../errors';\n/**\n * Parses both AWS and non-AWS error responses coming from the users' backend code.\n * * AWS errors generated by the AWS services(e.g. API Gateway, Bedrock). They can be Signature errors,\n *   ClockSkew errors, etc. These responses will be parsed to errors with proper name and message from the AWS\n *   services.\n * * non-AWS errors thrown by the user code. They can contain any headers or body. Users need to access the\n *   error.response to get the headers and body and parse them accordingly. The JS error name and message will\n *   be `UnknownError` and `Unknown error` respectively.\n */\nexport const parseRestApiServiceError = async (response) => {\n    if (!response) {\n        // Response is not considered an error.\n        return;\n    }\n    const parsedAwsError = await parseAwsJsonError(stubErrorResponse(response));\n    if (!parsedAwsError) {\n        // Response is not considered an error.\n    }\n    else {\n        const bodyText = await response.body?.text();\n        return buildRestApiError(parsedAwsError, {\n            statusCode: response.statusCode,\n            headers: response.headers,\n            body: bodyText,\n        });\n    }\n};\n/**\n * The response object needs to be stub here because the parseAwsJsonError assumes the response body to be valid JSON.\n * Although this is true for AWS services, it is not true for responses from user's code. Once the response body is\n * unwrapped as JSON(and fail), it cannot be read as text again. Therefore, we need to stub the response body here to\n * make sure we can read the error response body as a JSON, and may fall back to read as text if it is not a valid JSON.\n */\nconst stubErrorResponse = (response) => {\n    let bodyTextPromise;\n    const bodyProxy = new Proxy(response.body, {\n        get(target, prop, receiver) {\n            if (prop === 'json') {\n                // For potential AWS errors, error parser will try to parse the body as JSON first.\n                return async () => {\n                    if (!bodyTextPromise) {\n                        bodyTextPromise = target.text();\n                    }\n                    try {\n                        return JSON.parse(await bodyTextPromise);\n                    }\n                    catch (error) {\n                        // If response body is not a valid JSON, we stub it to be an empty object and eventually parsed\n                        // as an unknown error\n                        return {};\n                    }\n                };\n            }\n            else if (prop === 'text') {\n                // For non-AWS errors, users can access the body as a string as a fallback.\n                return async () => {\n                    if (!bodyTextPromise) {\n                        bodyTextPromise = target.text();\n                    }\n                    return bodyTextPromise;\n                };\n            }\n            else {\n                return Reflect.get(target, prop, receiver);\n            }\n        },\n    });\n    const responseProxy = new Proxy(response, {\n        get(target, prop, receiver) {\n            if (prop === 'body') {\n                return bodyProxy;\n            }\n            else {\n                return Reflect.get(target, prop, receiver);\n            }\n        },\n    });\n    return responseProxy;\n};\n/**\n * Utility to create a new RestApiError from a service error.\n */\nconst buildRestApiError = (error, response) => {\n    const restApiError = new RestApiError({\n        name: error?.name,\n        message: error.message,\n        underlyingError: error,\n        response,\n    });\n    // $metadata is only required for backwards compatibility.\n    return Object.assign(restApiError, { $metadata: error.$metadata });\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger } from '@aws-amplify/core';\nexport const logger = new ConsoleLogger('RestApis');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const DEFAULT_REST_IAM_SIGNING_SERVICE = 'execute-api';\nexport const DEFAULT_APPSYNC_API_SERVICE = 'appsync-api';\nexport const DEFAULT_IAM_SIGNING_REGION = 'us-east-1';\n/**\n * The REST endpoints generated by API Gateway\n * @see {@link https://docs.aws.amazon.com/general/latest/gr/apigateway.html#apigateway_region_data_plane}\n */\nexport const APIG_HOSTNAME_PATTERN = /^.+\\.([a-z0-9-]+)\\.([a-z0-9-]+)\\.amazonaws\\.com/;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { APIG_HOSTNAME_PATTERN, DEFAULT_IAM_SIGNING_REGION, DEFAULT_REST_IAM_SIGNING_SERVICE, } from './constants';\n/**\n * Infer the signing service and region from the given URL, and for REST API only, from the Amplify configuration.\n * It supports raw API Gateway endpoint and AppSync endpoint.\n *\n * @internal\n */\nexport const parseSigningInfo = (url, restApiOptions) => {\n    const { service: signingService = DEFAULT_REST_IAM_SIGNING_SERVICE, region: signingRegion = DEFAULT_IAM_SIGNING_REGION, } = restApiOptions?.amplify.getConfig()?.API?.REST?.[restApiOptions?.apiName] ??\n        {};\n    const { hostname } = url;\n    const [, service, region] = APIG_HOSTNAME_PATTERN.exec(hostname) ?? [];\n    if (service === DEFAULT_REST_IAM_SIGNING_SERVICE) {\n        // The configured endpoint is an API Gateway endpoint\n        // @see: https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-call-api.html\n        return {\n            service,\n            region: region ?? signingRegion,\n        };\n    }\n    else if (service === 'appsync-api') {\n        // AppSync endpoint is internally supported because GraphQL operation will send request using POST handler.\n        // example: https://xxxx.appsync-api.us-east-1.amazonaws.com/graphql\n        return {\n            service: 'appsync',\n            region: region ?? signingRegion,\n        };\n    }\n    else {\n        return {\n            service: signingService,\n            region: signingRegion,\n        };\n    }\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst AmplifyUrl = URL;\nconst AmplifyUrlSearchParams = URLSearchParams;\nexport { AmplifyUrl, AmplifyUrlSearchParams };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyUrl, AmplifyUrlSearchParams, } from '@aws-amplify/core/internals/utils';\nimport { RestApiError, RestApiValidationErrorCode, assertValidationError, validationErrorMap, } from '../errors';\n/**\n * Resolve the REST API request URL by:\n * 1. Loading the REST API endpoint from the Amplify configuration with corresponding API name.\n * 2. Appending the path to the endpoint.\n * 3. Merge the query parameters from path and the queryParameter argument which is taken from the public REST API\n *   options.\n * 4. Validating the resulting URL string.\n *\n * @internal\n */\nexport const resolveApiUrl = (amplify, apiName, path, queryParams) => {\n    const urlStr = amplify.getConfig()?.API?.REST?.[apiName]?.endpoint;\n    assertValidationError(!!urlStr, RestApiValidationErrorCode.InvalidApiName);\n    try {\n        const url = new AmplifyUrl(urlStr + path);\n        if (queryParams) {\n            const mergedQueryParams = new AmplifyUrlSearchParams(url.searchParams);\n            Object.entries(queryParams).forEach(([key, value]) => {\n                mergedQueryParams.set(key, value);\n            });\n            url.search = new AmplifyUrlSearchParams(mergedQueryParams).toString();\n        }\n        return url;\n    }\n    catch (error) {\n        throw new RestApiError({\n            name: RestApiValidationErrorCode.InvalidApiName,\n            ...validationErrorMap[RestApiValidationErrorCode.InvalidApiName],\n            recoverySuggestion: `Please make sure the REST endpoint URL is a valid URL string. Got ${urlStr}`,\n        });\n    }\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { RestApiError } from './RestApiError';\nimport { validationErrorMap } from './validation';\n/**\n * @internal\n */\nexport function assertValidationError(assertion, name) {\n    const { message, recoverySuggestion } = validationErrorMap[name];\n    if (!assertion) {\n        throw new RestApiError({ name, message, recoverySuggestion });\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Determines if IAM authentication should be applied for a GraphQL request.\n *\n * This function checks the `headers` of the HTTP request to determine if IAM authentication\n * is applicable. IAM authentication is considered applicable if there is no `authorization`\n * header, no `x-api-key` header, and `signingServiceInfo` is provided.\n *\n * @param request - The HTTP request object containing headers.\n * @param signingServiceInfo - Optional signing service information,\n * including service and region.\n * @returns A boolean `true` if IAM authentication should be applied.\n *\n * @internal\n */\nexport const isIamAuthApplicableForGraphQL = ({ headers }, signingServiceInfo) => !headers.authorization && !headers['x-api-key'] && !!signingServiceInfo;\n/**\n * Determines if IAM authentication should be applied for a REST request.\n *\n * This function checks the `headers` of the HTTP request to determine if IAM authentication\n * is applicable. IAM authentication is considered applicable if there is no `authorization`\n * header and `signingServiceInfo` is provided.\n *\n * @param request - The HTTP request object containing headers.\n * @param signingServiceInfo - Optional signing service information,\n * including service and region.\n * @returns A boolean `true` if IAM authentication should be applied.\n *\n * @internal\n */\nexport const isIamAuthApplicableForRest = ({ headers }, signingServiceInfo) => !headers.authorization && !!signingServiceInfo;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const DEFAULT_RETRY_ATTEMPTS = 3;\nexport const AMZ_SDK_INVOCATION_ID_HEADER = 'amz-sdk-invocation-id';\nexport const AMZ_SDK_REQUEST_HEADER = 'amz-sdk-request';\nexport const DEFAULT_MAX_DELAY_MS = 5 * 60 * 1000;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { jitteredBackoff as jitteredBackoffUtil } from '../../../utils';\nimport { DEFAULT_MAX_DELAY_MS } from './constants';\n// TODO: [v6] The separate retry utility is used by Data packages now and will replaced by retry middleware.\nexport const jitteredBackoff = attempt => {\n    const delayFunction = jitteredBackoffUtil(DEFAULT_MAX_DELAY_MS);\n    const delay = delayFunction(attempt);\n    // The delayFunction returns false when the delay is greater than the max delay(5 mins).\n    // In this case, the retry middleware will delay 5 mins instead, as a ceiling of the delay.\n    return delay === false ? DEFAULT_MAX_DELAY_MS : delay;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { MAX_DELAY_MS } from './constants';\n/**\n * @private\n * Internal use of Amplify only\n */\nexport function jitteredBackoff(maxDelayMs = MAX_DELAY_MS) {\n    const BASE_TIME_MS = 100;\n    const JITTER_FACTOR = 100;\n    return attempt => {\n        const delay = 2 ** attempt * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n        return delay > maxDelayMs ? false : delay;\n    };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const MAX_DELAY_MS = 5 * 60 * 1000;\n","export var AmplifyErrorCode;\n(function (AmplifyErrorCode) {\n    AmplifyErrorCode[\"NoEndpointId\"] = \"NoEndpointId\";\n    AmplifyErrorCode[\"PlatformNotSupported\"] = \"PlatformNotSupported\";\n    AmplifyErrorCode[\"Unknown\"] = \"Unknown\";\n    AmplifyErrorCode[\"NetworkError\"] = \"NetworkError\";\n})(AmplifyErrorCode || (AmplifyErrorCode = {}));\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// via https://github.com/aws/aws-sdk-js-v3/blob/ab0e7be36e7e7f8a0c04834357aaad643c7912c3/packages/service-error-classification/src/constants.ts#L8\nconst CLOCK_SKEW_ERROR_CODES = [\n    'AuthFailure',\n    'InvalidSignatureException',\n    'RequestExpired',\n    'RequestInTheFuture',\n    'RequestTimeTooSkewed',\n    'SignatureDoesNotMatch',\n    'BadRequestException', // API Gateway\n];\n/**\n * Given an error code, returns true if it is related to a clock skew error.\n *\n * @param errorCode String representation of some error.\n * @returns True if given error is present in `CLOCK_SKEW_ERROR_CODES`, false otherwise.\n *\n * @internal\n */\nexport const isClockSkewError = (errorCode) => !!errorCode && CLOCK_SKEW_ERROR_CODES.includes(errorCode);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyErrorCode } from '../../../types';\nimport { isClockSkewError } from './isClockSkewError';\n/**\n * Get retry decider function\n * @param errorParser Function to load JavaScript error from HTTP response\n */\nexport const getRetryDecider = (errorParser) => async (response, error) => {\n    const parsedError = error ??\n        (await errorParser(response)) ??\n        undefined;\n    const errorCode = parsedError?.code || parsedError?.name;\n    const statusCode = response?.statusCode;\n    const isRetryable = isConnectionError(error) ||\n        isThrottlingError(statusCode, errorCode) ||\n        isClockSkewError(errorCode) ||\n        isServerSideError(statusCode, errorCode);\n    return {\n        retryable: isRetryable,\n    };\n};\n// reference: https://github.com/aws/aws-sdk-js-v3/blob/ab0e7be36e7e7f8a0c04834357aaad643c7912c3/packages/service-error-classification/src/constants.ts#L22-L37\nconst THROTTLING_ERROR_CODES = [\n    'BandwidthLimitExceeded',\n    'EC2ThrottledException',\n    'LimitExceededException',\n    'PriorRequestNotComplete',\n    'ProvisionedThroughputExceededException',\n    'RequestLimitExceeded',\n    'RequestThrottled',\n    'RequestThrottledException',\n    'SlowDown',\n    'ThrottledException',\n    'Throttling',\n    'ThrottlingException',\n    'TooManyRequestsException',\n];\nconst TIMEOUT_ERROR_CODES = [\n    'TimeoutError',\n    'RequestTimeout',\n    'RequestTimeoutException',\n];\nconst isThrottlingError = (statusCode, errorCode) => statusCode === 429 ||\n    (!!errorCode && THROTTLING_ERROR_CODES.includes(errorCode));\nconst isConnectionError = (error) => [\n    AmplifyErrorCode.NetworkError,\n    // TODO(vNext): unify the error code `ERR_NETWORK` used by the Storage XHR handler\n    'ERR_NETWORK',\n].includes(error?.name);\nconst isServerSideError = (statusCode, errorCode) => (!!statusCode && [500, 502, 503, 504].includes(statusCode)) ||\n    (!!errorCode && TIMEOUT_ERROR_CODES.includes(errorCode));\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Cache the payload of a response body. It allows multiple calls to the body,\n * for example, when reading the body in both retry decider and error deserializer.\n * Caching body is allowed here because we call the body accessor(blob(), json(),\n * etc.) when body is small or streaming implementation is not available(RN).\n *\n * @internal\n */\nexport const withMemoization = (payloadAccessor) => {\n    let cached;\n    return () => {\n        if (!cached) {\n            // Explicitly not awaiting. Intermediate await would add overhead and\n            // introduce a possible race in the event that this wrapper is called\n            // again before the first `payloadAccessor` call resolves.\n            cached = payloadAccessor();\n        }\n        return cached;\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyError } from '../../errors';\nimport { withMemoization } from '../utils/memoization';\nimport { AmplifyErrorCode } from '../../types';\nconst shouldSendBody = (method) => !['HEAD', 'GET', 'DELETE'].includes(method.toUpperCase());\n// TODO[AllanZhengYP]: we need to provide isCanceledError utility\nexport const fetchTransferHandler = async ({ url, method, headers, body }, { abortSignal, cache, withCrossDomainCredentials }) => {\n    let resp;\n    try {\n        resp = await fetch(url, {\n            method,\n            headers,\n            body: shouldSendBody(method) ? body : undefined,\n            signal: abortSignal,\n            cache,\n            credentials: withCrossDomainCredentials ? 'include' : 'same-origin',\n        });\n    }\n    catch (e) {\n        if (e instanceof TypeError) {\n            throw new AmplifyError({\n                name: AmplifyErrorCode.NetworkError,\n                message: 'A network error has occurred.',\n                underlyingError: e,\n            });\n        }\n        throw e;\n    }\n    const responseHeaders = {};\n    resp.headers?.forEach((value, key) => {\n        responseHeaders[key.toLowerCase()] = value;\n    });\n    const httpResponse = {\n        statusCode: resp.status,\n        headers: responseHeaders,\n        body: null,\n    };\n    // resp.body is a ReadableStream according to Fetch API spec, but React Native\n    // does not implement it.\n    const bodyWithMixin = Object.assign(resp.body ?? {}, {\n        text: withMemoization(() => resp.text()),\n        blob: withMemoization(() => resp.blob()),\n        json: withMemoization(() => resp.json()),\n    });\n    return {\n        ...httpResponse,\n        body: bodyWithMixin,\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects user agent string to specified header(default to 'x-amz-user-agent'),\n * if the header is not set already.\n *\n * TODO: incorporate new user agent design\n */\nexport const userAgentMiddlewareFactory = ({ userAgentHeader = 'x-amz-user-agent', userAgentValue = '', }) => next => {\n    return async function userAgentMiddleware(request) {\n        if (userAgentValue.trim().length === 0) {\n            const result = await next(request);\n            return result;\n        }\n        else {\n            const headerName = userAgentHeader.toLowerCase();\n            request.headers[headerName] = request.headers[headerName]\n                ? `${request.headers[headerName]} ${userAgentValue}`\n                : userAgentValue;\n            const response = await next(request);\n            return response;\n        }\n    };\n};\n","import { DEFAULT_RETRY_ATTEMPTS } from './constants';\n/**\n * Middleware that executes the retry logic.\n */\nexport const retryMiddlewareFactory = ({ maxAttempts = DEFAULT_RETRY_ATTEMPTS, retryDecider, computeDelay, abortSignal, }) => {\n    if (maxAttempts < 1) {\n        throw new Error('maxAttempts must be greater than 0');\n    }\n    return (next, context) => async function retryMiddleware(request) {\n        let error;\n        let attemptsCount = context.attemptsCount ?? 0;\n        let response;\n        // When retry is not needed or max attempts is reached, either error or response will be set. This function handles either cases.\n        const handleTerminalErrorOrResponse = () => {\n            if (response) {\n                addOrIncrementMetadataAttempts(response, attemptsCount);\n                return response;\n            }\n            else {\n                addOrIncrementMetadataAttempts(error, attemptsCount);\n                throw error;\n            }\n        };\n        while (!abortSignal?.aborted && attemptsCount < maxAttempts) {\n            try {\n                response = await next(request);\n                error = undefined;\n            }\n            catch (e) {\n                error = e;\n                response = undefined;\n            }\n            // context.attemptsCount may be updated after calling next handler which may retry the request by itself.\n            attemptsCount =\n                (context.attemptsCount ?? 0) > attemptsCount\n                    ? (context.attemptsCount ?? 0)\n                    : attemptsCount + 1;\n            context.attemptsCount = attemptsCount;\n            const { isCredentialsExpiredError, retryable } = await retryDecider(response, error, context);\n            if (retryable) {\n                // Setting isCredentialsInvalid flag to notify signing middleware to forceRefresh credentials provider.\n                context.isCredentialsExpired = !!isCredentialsExpiredError;\n                if (!abortSignal?.aborted && attemptsCount < maxAttempts) {\n                    // prevent sleep for last attempt or cancelled request;\n                    const delay = computeDelay(attemptsCount);\n                    await cancellableSleep(delay, abortSignal);\n                }\n                continue;\n            }\n            else {\n                return handleTerminalErrorOrResponse();\n            }\n        }\n        if (abortSignal?.aborted) {\n            throw new Error('Request aborted.');\n        }\n        else {\n            return handleTerminalErrorOrResponse();\n        }\n    };\n};\nconst cancellableSleep = (timeoutMs, abortSignal) => {\n    if (abortSignal?.aborted) {\n        return Promise.resolve();\n    }\n    let timeoutId;\n    let sleepPromiseResolveFn;\n    const sleepPromise = new Promise(resolve => {\n        sleepPromiseResolveFn = resolve;\n        timeoutId = setTimeout(resolve, timeoutMs);\n    });\n    abortSignal?.addEventListener('abort', function cancelSleep(_) {\n        clearTimeout(timeoutId);\n        abortSignal?.removeEventListener('abort', cancelSleep);\n        sleepPromiseResolveFn();\n    });\n    return sleepPromise;\n};\nconst addOrIncrementMetadataAttempts = (nextHandlerOutput, attempts) => {\n    if (Object.prototype.toString.call(nextHandlerOutput) !== '[object Object]') {\n        return;\n    }\n    nextHandlerOutput.$metadata = {\n        ...(nextHandlerOutput.$metadata ?? {}),\n        attempts,\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns signed headers.\n *\n * @param headers `headers` from the request.\n * @returns List of headers included in canonical headers, separated by semicolons (;). This indicates which headers\n * are part of the signing process. Header names must use lowercase characters and must appear in alphabetical order.\n *\n * @internal\n */\nexport const getSignedHeaders = (headers) => Object.keys(headers)\n    .map(key => key.toLowerCase())\n    .sort()\n    .join(';');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// query params\nexport const ALGORITHM_QUERY_PARAM = 'X-Amz-Algorithm';\nexport const AMZ_DATE_QUERY_PARAM = 'X-Amz-Date';\nexport const CREDENTIAL_QUERY_PARAM = 'X-Amz-Credential';\nexport const EXPIRES_QUERY_PARAM = 'X-Amz-Expires';\nexport const REGION_SET_PARAM = 'X-Amz-Region-Set';\nexport const SIGNATURE_QUERY_PARAM = 'X-Amz-Signature';\nexport const SIGNED_HEADERS_QUERY_PARAM = 'X-Amz-SignedHeaders';\nexport const TOKEN_QUERY_PARAM = 'X-Amz-Security-Token';\n// headers\nexport const AUTH_HEADER = 'authorization';\nexport const HOST_HEADER = 'host';\nexport const AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport const TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\n// identifiers\nexport const KEY_TYPE_IDENTIFIER = 'aws4_request';\nexport const SHA256_ALGORITHM_IDENTIFIER = 'AWS4-HMAC-SHA256';\nexport const SIGNATURE_IDENTIFIER = 'AWS4';\n// preset values\nexport const EMPTY_HASH = 'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855';\nexport const UNSIGNED_PAYLOAD = 'UNSIGNED-PAYLOAD';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getCredentialScope } from './getCredentialScope';\nimport { getFormattedDates } from './getFormattedDates';\n/**\n * Extracts common values used for signing both requests and urls.\n *\n * @param options `SignRequestOptions` object containing values used to construct the signature.\n * @returns Common `SigningValues` used for signing.\n *\n * @internal\n */\nexport const getSigningValues = ({ credentials, signingDate = new Date(), signingRegion, signingService, uriEscapePath = true, }) => {\n    // get properties from credentials\n    const { accessKeyId, secretAccessKey, sessionToken } = credentials;\n    // get formatted dates for signing\n    const { longDate, shortDate } = getFormattedDates(signingDate);\n    // copy header and set signing properties\n    const credentialScope = getCredentialScope(shortDate, signingRegion, signingService);\n    return {\n        accessKeyId,\n        credentialScope,\n        longDate,\n        secretAccessKey,\n        sessionToken,\n        shortDate,\n        signingRegion,\n        signingService,\n        uriEscapePath,\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns expected date strings to be used in signing.\n *\n * @param date JavaScript `Date` object.\n * @returns `FormattedDates` object containing the following:\n * - longDate: A date string in 'YYYYMMDDThhmmssZ' format\n * - shortDate: A date string in 'YYYYMMDD' format\n *\n * @internal\n */\nexport const getFormattedDates = (date) => {\n    const longDate = date.toISOString().replace(/[:-]|\\.\\d{3}/g, '');\n    return {\n        longDate,\n        shortDate: longDate.slice(0, 8),\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { KEY_TYPE_IDENTIFIER } from '../constants';\n/**\n * Returns the credential scope which restricts the resulting signature to the specified region and service.\n *\n * @param date Current date in the format 'YYYYMMDD'.\n * @param region AWS region in which the service resides.\n * @param service Service to which the signed request is being sent.\n *\n * @returns  A string representing the credential scope with format 'YYYYMMDD/region/service/aws4_request'.\n *\n * @internal\n */\nexport const getCredentialScope = (date, region, service) => `${date}/${region}/${service}/${KEY_TYPE_IDENTIFIER}`;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// TODO: V6 update to different crypto dependency?\nimport { Sha256 } from '@aws-crypto/sha256-js';\nimport { toHex } from '@smithy/util-hex-encoding';\n/**\n * Returns the hashed data a `Uint8Array`.\n *\n * @param key `SourceData` to be used as hashing key.\n * @param data Hashable `SourceData`.\n * @returns `Uint8Array` created from the data as input to a hash function.\n */\nexport const getHashedData = (key, data) => {\n    const sha256 = new Sha256(key ?? undefined);\n    sha256.update(data);\n    // TODO: V6 flip to async digest\n    const hashedData = sha256.digestSync();\n    return hashedData;\n};\n/**\n * Returns the hashed data as a hex string.\n *\n * @param key `SourceData` to be used as hashing key.\n * @param data Hashable `SourceData`.\n * @returns String using lowercase hexadecimal characters created from the data as input to a hash function.\n *\n * @internal\n */\nexport const getHashedDataAsHex = (key, data) => {\n    const hashedData = getHashedData(key, data);\n    return toHex(hashedData);\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns canonical headers.\n *\n * @param headers Headers from the request.\n * @returns Request headers that will be signed, and their values, separated by newline characters. Header names must\n * use lowercase characters, must appear in alphabetical order, and must be followed by a colon (:). For the values,\n * trim any leading or trailing spaces, convert sequential spaces to a single space, and separate the values\n * for a multi-value header using commas.\n *\n * @internal\n */\nexport const getCanonicalHeaders = (headers) => Object.entries(headers)\n    .map(([key, value]) => ({\n    key: key.toLowerCase(),\n    value: value?.trim().replace(/\\s+/g, ' ') ?? '',\n}))\n    .sort((a, b) => (a.key < b.key ? -1 : 1))\n    .map(entry => `${entry.key}:${entry.value}\\n`)\n    .join('');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a canonical query string.\n *\n * @param searchParams `searchParams` from the request url.\n * @returns URL-encoded query string parameters, separated by ampersands (&). Percent-encode reserved characters,\n * including the space character. Encode names and values separately. If there are empty parameters, append the equals\n * sign to the parameter name before encoding. After encoding, sort the parameters alphabetically by key name. If there\n * is no query string, use an empty string (\"\").\n *\n * @internal\n */\nexport const getCanonicalQueryString = (searchParams) => Array.from(searchParams)\n    .sort(([keyA, valA], [keyB, valB]) => {\n    if (keyA === keyB) {\n        return valA < valB ? -1 : 1;\n    }\n    return keyA < keyB ? -1 : 1;\n})\n    .map(([key, val]) => `${escapeUri(key)}=${escapeUri(val)}`)\n    .join('&');\nconst escapeUri = (uri) => encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\nconst hexEncode = (c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a canonical uri.\n *\n * @param pathname `pathname` from request url.\n * @param uriEscapePath Whether to uri encode the path as part of canonical uri. It's used for S3 only where the\n *   pathname is already uri encoded, and the signing process is not expected to uri encode it again. Defaults to true.\n * @returns URI-encoded version of the absolute path component URL (everything between the host and the question mark\n * character (?) that starts the query string parameters). If the absolute path is empty, a forward slash character (/).\n *\n * @internal\n */\nexport const getCanonicalUri = (pathname, uriEscapePath = true) => pathname\n    ? uriEscapePath\n        ? encodeURIComponent(pathname).replace(/%2F/g, '/')\n        : pathname\n    : '/';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { EMPTY_HASH, UNSIGNED_PAYLOAD } from '../constants';\nimport { getHashedDataAsHex } from './dataHashHelpers';\n/**\n * Returns the hashed payload.\n *\n * @param body `body` (payload) from the request.\n * @returns String created using the payload in the body of the HTTP request as input to a hash function. This string\n * uses lowercase hexadecimal characters. If the payload is empty, return precalculated result of an empty hash.\n *\n * @internal\n */\nexport const getHashedPayload = (body) => {\n    // return precalculated empty hash if body is undefined or null\n    if (body == null) {\n        return EMPTY_HASH;\n    }\n    if (isSourceData(body)) {\n        const hashedData = getHashedDataAsHex(null, body);\n        return hashedData;\n    }\n    // Defined body is not signable. Return unsigned payload which may or may not be accepted by the service.\n    return UNSIGNED_PAYLOAD;\n};\nconst isSourceData = (body) => typeof body === 'string' || ArrayBuffer.isView(body) || isArrayBuffer(body);\nconst isArrayBuffer = (arg) => (typeof ArrayBuffer === 'function' && arg instanceof ArrayBuffer) ||\n    Object.prototype.toString.call(arg) === '[object ArrayBuffer]';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getHashedDataAsHex } from './dataHashHelpers';\nimport { getCanonicalRequest } from './getCanonicalRequest';\nimport { getSigningKey } from './getSigningKey';\nimport { getStringToSign } from './getStringToSign';\n/**\n * Calculates and returns an AWS API Signature.\n * https://docs.aws.amazon.com/IAM/latest/UserGuide/create-signed-request.html\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns AWS API Signature to sign a request or url with.\n *\n * @internal\n */\nexport const getSignature = (request, { credentialScope, longDate, secretAccessKey, shortDate, signingRegion, signingService, uriEscapePath, }) => {\n    // step 1: create a canonical request\n    const canonicalRequest = getCanonicalRequest(request, uriEscapePath);\n    // step 2: create a hash of the canonical request\n    const hashedRequest = getHashedDataAsHex(null, canonicalRequest);\n    // step 3: create a string to sign\n    const stringToSign = getStringToSign(longDate, credentialScope, hashedRequest);\n    // step 4: calculate the signature\n    const signature = getHashedDataAsHex(getSigningKey(secretAccessKey, shortDate, signingRegion, signingService), stringToSign);\n    return signature;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getCanonicalHeaders } from './getCanonicalHeaders';\nimport { getCanonicalQueryString } from './getCanonicalQueryString';\nimport { getCanonicalUri } from './getCanonicalUri';\nimport { getHashedPayload } from './getHashedPayload';\nimport { getSignedHeaders } from './getSignedHeaders';\n/**\n * Returns a canonical request.\n *\n * @param request `HttpRequest` from which to create the canonical request from.\n * @param uriEscapePath Whether to uri encode the path as part of canonical uri. It's used for S3 only where the\n *   pathname is already uri encoded, and the signing process is not expected to uri encode it again. Defaults to true.\n * @returns String created by by concatenating the following strings, separated by newline characters:\n * - HTTPMethod\n * - CanonicalUri\n * - CanonicalQueryString\n * - CanonicalHeaders\n * - SignedHeaders\n * - HashedPayload\n *\n * @internal\n */\nexport const getCanonicalRequest = ({ body, headers, method, url }, uriEscapePath = true) => [\n    method,\n    getCanonicalUri(url.pathname, uriEscapePath),\n    getCanonicalQueryString(url.searchParams),\n    getCanonicalHeaders(headers),\n    getSignedHeaders(headers),\n    getHashedPayload(body),\n].join('\\n');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { SHA256_ALGORITHM_IDENTIFIER } from '../constants';\n/**\n * Returns a string to be signed.\n *\n * @param date Current date in the format 'YYYYMMDDThhmmssZ'.\n * @param credentialScope String representing the credential scope with format 'YYYYMMDD/region/service/aws4_request'.\n * @param hashedRequest Hashed canonical request.\n *\n * @returns A string created by by concatenating the following strings, separated by newline characters:\n * - Algorithm\n * - RequestDateTime\n * - CredentialScope\n * - HashedCanonicalRequest\n *\n * @internal\n */\nexport const getStringToSign = (date, credentialScope, hashedRequest) => [SHA256_ALGORITHM_IDENTIFIER, date, credentialScope, hashedRequest].join('\\n');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { KEY_TYPE_IDENTIFIER, SIGNATURE_IDENTIFIER } from '../constants';\nimport { getHashedData } from './dataHashHelpers';\n/**\n * Returns a signing key to be used for signing requests.\n *\n * @param secretAccessKey AWS secret access key from credentials.\n * @param date Current date in the format 'YYYYMMDD'.\n * @param region AWS region in which the service resides.\n * @param service Service to which the signed request is being sent.\n *\n * @returns `Uint8Array` calculated from its composite parts.\n *\n * @internal\n */\nexport const getSigningKey = (secretAccessKey, date, region, service) => {\n    const key = `${SIGNATURE_IDENTIFIER}${secretAccessKey}`;\n    const dateKey = getHashedData(key, date);\n    const regionKey = getHashedData(dateKey, region);\n    const serviceKey = getHashedData(regionKey, service);\n    const signingKey = getHashedData(serviceKey, KEY_TYPE_IDENTIFIER);\n    return signingKey;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Returns a `Date` that is corrected for clock skew.\n *\n * @param systemClockOffset The offset of the system clock in milliseconds.\n *\n * @returns `Date` representing the current time adjusted by the system clock offset.\n *\n * @internal\n */\nexport const getSkewCorrectedDate = (systemClockOffset) => new Date(Date.now() + systemClockOffset);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { isClockSkewed } from './isClockSkewed';\n/**\n * Returns the difference between clock time and the current system time if clock is skewed.\n *\n * @param clockTimeInMilliseconds Clock time in milliseconds.\n * @param currentSystemClockOffset Current system clock offset in milliseconds.\n *\n * @internal\n */\nexport const getUpdatedSystemClockOffset = (clockTimeInMilliseconds, currentSystemClockOffset) => {\n    if (isClockSkewed(clockTimeInMilliseconds, currentSystemClockOffset)) {\n        return clockTimeInMilliseconds - Date.now();\n    }\n    return currentSystemClockOffset;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getSkewCorrectedDate } from './getSkewCorrectedDate';\n// 5 mins in milliseconds. Ref: https://github.com/aws/aws-sdk-js-v3/blob/6c0f44fab30a1bb2134af47362a31332abc3666b/packages/middleware-signing/src/utils/isClockSkewed.ts#L10\nconst SKEW_WINDOW = 5 * 60 * 1000;\n/**\n * Checks if the provided date is within the skew window of 5 minutes.\n *\n * @param clockTimeInMilliseconds Time to check for skew in milliseconds.\n * @param clockOffsetInMilliseconds Offset to check clock against in milliseconds.\n *\n * @returns True if skewed. False otherwise.\n *\n * @internal\n */\nexport const isClockSkewed = (clockTimeInMilliseconds, clockOffsetInMilliseconds) => Math.abs(getSkewCorrectedDate(clockOffsetInMilliseconds).getTime() -\n    clockTimeInMilliseconds) >= SKEW_WINDOW;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { signRequest } from './signer/signatureV4';\nimport { getSkewCorrectedDate } from './utils/getSkewCorrectedDate';\nimport { getUpdatedSystemClockOffset } from './utils/getUpdatedSystemClockOffset';\n/**\n * Middleware that SigV4 signs request with AWS credentials, and correct system clock offset.\n * This middleware is expected to be placed after retry middleware.\n */\nexport const signingMiddlewareFactory = ({ credentials, region, service, uriEscapePath = true, }) => {\n    let currentSystemClockOffset;\n    return (next, context) => async function signingMiddleware(request) {\n        currentSystemClockOffset = currentSystemClockOffset ?? 0;\n        const signRequestOptions = {\n            credentials: typeof credentials === 'function'\n                ? await credentials({\n                    forceRefresh: !!context?.isCredentialsExpired,\n                })\n                : credentials,\n            signingDate: getSkewCorrectedDate(currentSystemClockOffset),\n            signingRegion: region,\n            signingService: service,\n            uriEscapePath,\n        };\n        const signedRequest = await signRequest(request, signRequestOptions);\n        const response = await next(signedRequest);\n        // Update system clock offset if response contains date header, regardless of the status code.\n        // non-2xx response will still be returned from next handler instead of thrown, because it's\n        // only thrown by the retry middleware.\n        const dateString = getDateHeader(response);\n        if (dateString) {\n            currentSystemClockOffset = getUpdatedSystemClockOffset(Date.parse(dateString), currentSystemClockOffset);\n        }\n        return response;\n    };\n};\nconst getDateHeader = ({ headers } = {}) => headers?.date ?? headers?.Date ?? headers?.['x-amz-date'];\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Compose a transfer handler with a core transfer handler and a list of middleware.\n * @param coreHandler Core transfer handler\n * @param middleware\tList of middleware\n * @returns A transfer handler whose option type is the union of the core\n * \ttransfer handler's option type and the middleware's option type.\n * @internal\n */\nexport const composeTransferHandler = (coreHandler, middleware) => (request, options) => {\n    const context = {};\n    let composedHandler = (composeHandlerRequest) => coreHandler(composeHandlerRequest, options);\n    for (let i = middleware.length - 1; i >= 0; i--) {\n        const m = middleware[i];\n        const resolvedMiddleware = m(options);\n        composedHandler = resolvedMiddleware(composedHandler, context);\n    }\n    return composedHandler(request);\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { fetchTransferHandler, retryMiddlewareFactory, signingMiddlewareFactory, userAgentMiddlewareFactory, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { composeTransferHandler } from '@aws-amplify/core/internals/aws-client-utils/composers';\n/**\n * @internal\n */\nexport const authenticatedHandler = composeTransferHandler(fetchTransferHandler, [\n    userAgentMiddlewareFactory,\n    retryMiddlewareFactory,\n    signingMiddlewareFactory,\n]);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getSignedHeaders } from './utils/getSignedHeaders';\nimport { getSigningValues } from './utils/getSigningValues';\nimport { AMZ_DATE_HEADER, AUTH_HEADER, HOST_HEADER, SHA256_ALGORITHM_IDENTIFIER, TOKEN_HEADER, } from './constants';\nimport { getSignature } from './utils/getSignature';\n/**\n * Given a `HttpRequest`, returns a Signature Version 4 signed `HttpRequest`.\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns A `HttpRequest` with authentication headers which can grant temporary access to AWS resources.\n */\nexport const signRequest = (request, options) => {\n    const signingValues = getSigningValues(options);\n    const { accessKeyId, credentialScope, longDate, sessionToken } = signingValues;\n    // create the request to sign\n    const headers = { ...request.headers };\n    headers[HOST_HEADER] = request.url.host;\n    headers[AMZ_DATE_HEADER] = longDate;\n    if (sessionToken) {\n        headers[TOKEN_HEADER] = sessionToken;\n    }\n    const requestToSign = { ...request, headers };\n    // calculate and add the signature to the request\n    const signature = getSignature(requestToSign, signingValues);\n    const credentialEntry = `Credential=${accessKeyId}/${credentialScope}`;\n    const signedHeadersEntry = `SignedHeaders=${getSignedHeaders(headers)}`;\n    const signatureEntry = `Signature=${signature}`;\n    headers[AUTH_HEADER] =\n        `${SHA256_ALGORITHM_IDENTIFIER} ${credentialEntry}, ${signedHeadersEntry}, ${signatureEntry}`;\n    return requestToSign;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { fetchTransferHandler, retryMiddlewareFactory, userAgentMiddlewareFactory, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { composeTransferHandler } from '@aws-amplify/core/internals/aws-client-utils/composers';\n/**\n * @internal\n */\nexport const unauthenticatedHandler = composeTransferHandler(fetchTransferHandler, [userAgentMiddlewareFactory, retryMiddlewareFactory]);\n","import { getRetryDecider, jitteredBackoff, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { logger, parseRestApiServiceError, parseSigningInfo, } from '../../utils';\nimport { resolveHeaders } from '../../utils/resolveHeaders';\nimport { authenticatedHandler } from './baseHandlers/authenticatedHandler';\nimport { unauthenticatedHandler } from './baseHandlers/unauthenticatedHandler';\n/**\n * Make REST API call with best-effort IAM auth.\n * @param amplify Amplify instance to to resolve credentials and tokens. Should use different instance in client-side\n *   and SSR\n * @param options Options accepted from public API options when calling the handlers.\n * @param signingServiceInfo Internal-only options enable IAM auth as well as to to overwrite the IAM signing service\n *   and region. If specified, and NONE of API Key header or Auth header is present, IAM auth will be used.\n * @param iamAuthApplicable Callback function that is used to determine if IAM Auth should be used or not.\n *\n * @internal\n */\nexport const transferHandler = async (amplify, options, iamAuthApplicable, signingServiceInfo) => {\n    const { url, method, headers, body, withCredentials, abortSignal, retryStrategy, } = options;\n    const resolvedBody = body\n        ? body instanceof FormData\n            ? body\n            : JSON.stringify(body ?? '')\n        : undefined;\n    const resolvedHeaders = resolveHeaders(headers, body);\n    const request = {\n        url,\n        headers: resolvedHeaders,\n        method,\n        body: resolvedBody,\n    };\n    const baseOptions = {\n        retryDecider: getRetryDeciderFromStrategy(retryStrategy ?? amplify?.libraryOptions?.API?.REST?.retryStrategy),\n        computeDelay: jitteredBackoff,\n        withCrossDomainCredentials: withCredentials,\n        abortSignal,\n    };\n    const isIamAuthApplicable = iamAuthApplicable(request, signingServiceInfo);\n    let response;\n    const credentials = await resolveCredentials(amplify);\n    if (isIamAuthApplicable && credentials) {\n        const signingInfoFromUrl = parseSigningInfo(url);\n        const signingService = signingServiceInfo?.service ?? signingInfoFromUrl.service;\n        const signingRegion = signingServiceInfo?.region ?? signingInfoFromUrl.region;\n        response = await authenticatedHandler(request, {\n            ...baseOptions,\n            credentials,\n            region: signingRegion,\n            service: signingService,\n        });\n    }\n    else {\n        response = await unauthenticatedHandler(request, {\n            ...baseOptions,\n        });\n    }\n    // Clean-up un-modeled properties from response.\n    return {\n        statusCode: response.statusCode,\n        headers: response.headers,\n        body: response.body,\n    };\n};\nconst getRetryDeciderFromStrategy = (retryStrategy) => {\n    const strategy = retryStrategy?.strategy;\n    if (strategy === 'no-retry') {\n        return () => Promise.resolve({ retryable: false });\n    }\n    return getRetryDecider(parseRestApiServiceError);\n};\nconst resolveCredentials = async (amplify) => {\n    try {\n        const { credentials } = await amplify.Auth.fetchAuthSession();\n        if (credentials) {\n            return credentials;\n        }\n    }\n    catch (e) {\n        logger.debug('No credentials available, the request will be unsigned.');\n    }\n    return null;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const resolveHeaders = (headers, body) => {\n    const normalizedHeaders = {};\n    for (const key in headers) {\n        normalizedHeaders[key.toLowerCase()] = headers[key];\n    }\n    if (body) {\n        normalizedHeaders['content-type'] = 'application/json; charset=UTF-8';\n        if (body instanceof FormData) {\n            /**\n             * If body is a FormData we should not allow setting content-type.\n             * It's because runtime HTTP handlers(xhr, fetch, undici, node-fetch,\n             * etc.) will modify the content-type value when setting multipart\n             * boundary.\n             */\n            delete normalizedHeaders['content-type'];\n        }\n    }\n    return normalizedHeaders;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createCancellableOperation, logger, parseSigningInfo, resolveApiUrl, } from '../../utils';\nimport { isIamAuthApplicableForRest } from '../../utils/isIamAuthApplicable';\nimport { transferHandler } from './transferHandler';\nconst publicHandler = (amplify, options, method) => createCancellableOperation(async (abortSignal) => {\n    const { apiName, options: apiOptions = {}, path: apiPath } = options;\n    const url = resolveApiUrl(amplify, apiName, apiPath, apiOptions?.queryParams);\n    const libraryConfigHeaders = await amplify.libraryOptions?.API?.REST?.headers?.({\n        apiName,\n    });\n    const { headers: invocationHeaders = {} } = apiOptions;\n    const headers = {\n        // custom headers from invocation options should precede library options\n        ...libraryConfigHeaders,\n        ...invocationHeaders,\n    };\n    const signingServiceInfo = parseSigningInfo(url, {\n        amplify,\n        apiName,\n    });\n    logger.debug(method, url, headers, `IAM signing options: ${JSON.stringify(signingServiceInfo)}`);\n    return transferHandler(amplify, {\n        ...apiOptions,\n        url,\n        method,\n        headers,\n        abortSignal,\n    }, isIamAuthApplicableForRest, signingServiceInfo);\n});\nexport const get = (amplify, input) => publicHandler(amplify, input, 'GET');\nexport const post = (amplify, input) => publicHandler(amplify, input, 'POST');\nexport const put = (amplify, input) => publicHandler(amplify, input, 'PUT');\nexport const del = (amplify, input) => publicHandler(amplify, input, 'DELETE');\nexport const head = (amplify, input) => publicHandler(amplify, input, 'HEAD');\nexport const patch = (amplify, input) => publicHandler(amplify, input, 'PATCH');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { CanceledError } from '../errors';\nimport { parseRestApiServiceError } from './serviceError';\nimport { logger } from './logger';\n/**\n * @internal\n */\nexport function createCancellableOperation(handler, abortController) {\n    const isInternalPost = (targetHandler) => !!abortController;\n    // For creating a cancellable operation for public REST APIs, we need to create an AbortController\n    // internally. Whereas for internal POST APIs, we need to accept in the AbortController from the\n    // callers.\n    const publicApisAbortController = new AbortController();\n    const publicApisAbortSignal = publicApisAbortController.signal;\n    const internalPostAbortSignal = abortController?.signal;\n    let abortReason;\n    const job = async () => {\n        try {\n            const response = await (isInternalPost(handler)\n                ? handler()\n                : handler(publicApisAbortSignal));\n            if (response.statusCode >= 300) {\n                throw await parseRestApiServiceError(response);\n            }\n            return response;\n        }\n        catch (error) {\n            const abortSignal = internalPostAbortSignal ?? publicApisAbortSignal;\n            const message = abortReason ?? abortSignal.reason;\n            if (error.name === 'AbortError' || abortSignal?.aborted === true) {\n                const canceledError = new CanceledError({\n                    ...(message && { message }),\n                    underlyingError: error,\n                    recoverySuggestion: 'The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously.',\n                });\n                logger.debug(error);\n                throw canceledError;\n            }\n            logger.debug(error);\n            throw error;\n        }\n    };\n    if (isInternalPost(handler)) {\n        return job();\n    }\n    else {\n        const cancel = (abortMessage) => {\n            if (publicApisAbortSignal.aborted === true) {\n                return;\n            }\n            publicApisAbortController.abort(abortMessage);\n            // If abort reason is not supported, set a scoped reasons instead. The reason property inside an\n            // AbortSignal is a readonly property and trying to set it would throw an error.\n            if (abortMessage && publicApisAbortSignal.reason !== abortMessage) {\n                abortReason = abortMessage;\n            }\n        };\n        return { response: job(), cancel };\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Amplify } from '@aws-amplify/core';\nimport { del as commonDel, get as commonGet, head as commonHead, patch as commonPatch, post as commonPost, put as commonPut, } from './common/publicApis';\n/**\n * GET HTTP request\n * @param {GetInput} input - Input for GET operation\n * @returns {GetOperation} Operation for GET request\n * @throws - {@link RestApiError}\n * @example\n * Send a GET request\n * ```js\n * import { get, isCancelError } from '@aws-amplify/api';\n *\n * const { body } = await get({\n *   apiName,\n *   path,\n *   options: {\n *     headers, // Optional, A map of custom header key/values\n *     body, // Optional, JSON object or FormData\n *     queryParams, // Optional, A map of query strings\n *   }\n * }).response;\n * const data = await body.json();\n * ```\n * @example\n * Cancel a GET request\n *\n * ```js\n * import { get, isCancelError } from '@aws-amplify/api';\n *\n * const { response, cancel } = get({apiName, path, options});\n * cancel(message);\n * try {\n *   await response;\n * } catch (e) {\n *   if (isCancelError(e)) {\n *    // handle request cancellation\n *   }\n *   //...\n * }\n * ```\n */\nexport const get = (input) => commonGet(Amplify, input);\n/**\n * POST HTTP request\n * @param {PostInput} input - Input for POST operation\n * @returns {PostOperation} Operation for POST request\n * @throws - {@link RestApiError}\n * @example\n * Send a POST request\n * ```js\n * import { post, isCancelError } from '@aws-amplify/api';\n *\n * const { body } = await post({\n *   apiName,\n *   path,\n *   options: {\n *     headers, // Optional, A map of custom header key/values\n *     body, // Optional, JSON object or FormData\n *     queryParams, // Optional, A map of query strings\n *   }\n * }).response;\n * const data = await body.json();\n * ```\n * @example\n * Cancel a POST request\n *\n * ```js\n * import { post, isCancelError } from '@aws-amplify/api';\n *\n * const { response, cancel } = post({apiName, path, options});\n * cancel(message);\n * try {\n *   await response;\n * } catch (e) {\n *   if (isCancelError(e)) {\n *    // handle request cancellation\n *   }\n *   //...\n * }\n * ```\n */\nexport const post = (input) => commonPost(Amplify, input);\n/**\n * PUT HTTP request\n * @param {PutInput} input - Input for PUT operation\n * @returns {PutOperation} Operation for PUT request\n * @throws - {@link RestApiError}\n * @example\n * Send a PUT request\n * ```js\n * import { put, isCancelError } from '@aws-amplify/api';\n *\n * const { body } = await put({\n *   apiName,\n *   path,\n *   options: {\n *     headers, // Optional, A map of custom header key/values\n *     body, // Optional, JSON object or FormData\n *     queryParams, // Optional, A map of query strings\n *   }\n * }).response;\n * const data = await body.json();\n * ```\n * @example\n * Cancel a PUT request\n * ```js\n * import { put, isCancelError } from '@aws-amplify/api';\n *\n * const { response, cancel } = put({apiName, path, options});\n * cancel(message);\n * try {\n *  await response;\n * } catch (e) {\n *   if (isCancelError(e)) {\n *     // handle request cancellation\n *   }\n * //...\n * }\n * ```\n */\nexport const put = (input) => commonPut(Amplify, input);\n/**\n * DELETE HTTP request\n * @param {DeleteInput} input - Input for DELETE operation\n * @returns {DeleteOperation} Operation for DELETE request\n * @throws - {@link RestApiError}\n * @example\n * Send a DELETE request\n * ```js\n * import { del } from '@aws-amplify/api';\n *\n * const { statusCode } = await del({\n *   apiName,\n *   path,\n *   options: {\n *     headers, // Optional, A map of custom header key/values\n *     queryParams, // Optional, A map of query strings\n *   }\n * }).response;\n * ```\n */\nexport const del = (input) => commonDel(Amplify, input);\n/**\n * HEAD HTTP request\n * @param {HeadInput} input - Input for HEAD operation\n * @returns {HeadOperation} Operation for HEAD request\n * @throws - {@link RestApiError}\n * @example\n * Send a HEAD request\n * ```js\n * import { head, isCancelError } from '@aws-amplify/api';\n *\n * const { headers, statusCode } = await head({\n *   apiName,\n *   path,\n *   options: {\n *     headers, // Optional, A map of custom header key/values\n *     queryParams, // Optional, A map of query strings\n *   }\n * }),response;\n * ```\n *\n */\nexport const head = (input) => commonHead(Amplify, input);\n/**\n * PATCH HTTP request\n * @param {PatchInput} input - Input for PATCH operation\n * @returns {PatchOperation} Operation for PATCH request\n * @throws - {@link RestApiError}\n * @example\n * Send a PATCH request\n * ```js\n * import { patch } from '@aws-amplify/api';\n *\n * const { body } = await patch({\n *   apiName,\n *   path,\n *   options: {\n *     headers, // Optional, A map of custom header key/values\n *     body, // Optional, JSON object or FormData\n *     queryParams, // Optional, A map of query strings\n *   }\n * }).response;\n * const data = await body.json();\n * ```\n *\n * @example\n * Cancel a PATCH request\n * ```js\n * import { patch, isCancelError } from '@aws-amplify/api';\n *\n * const { response, cancel } = patch({apiName, path, options});\n * cancel(message);\n * try {\n *  await response;\n * } catch (e) {\n *  if (isCancelError(e)) {\n *   // handle request cancellation\n *  }\n * //...\n * }\n * ```\n */\nexport const patch = (input) => commonPatch(Amplify, input);\n","import React, { useState, useEffect } from 'react';\r\nimport { get, post } from '@aws-amplify/api-rest'; // Correct import\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [states, setStates] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [years, setYears] = useState([]);\r\n  const [selectedState, setSelectedState] = useState('');\r\n  const [selectedCity, setSelectedCity] = useState('');\r\n  const [selectedYear, setSelectedYear] = useState('');\r\n  const [prediction, setPrediction] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchStates();\r\n    generateYears();\r\n  }, []);\r\n\r\n  const fetchStates = async () => {\r\n    try {\r\n      const response = await get({\r\n        apiName: 'RealEstatePredictorAPI',\r\n        path: '/states',\r\n        options: {}\r\n      });\r\n      const data = await response.json();\r\n      setStates(data.states || []);\r\n    } catch (error) {\r\n      console.error('Error fetching states:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCities = async (state) => {\r\n    if (state) {\r\n      try {\r\n        const response = await get({\r\n          apiName: 'RealEstatePredictorAPI',\r\n          path: `/cities/${state}`,\r\n          options: {}\r\n        });\r\n        const data = await response.json();\r\n        setCities(data.cities || []);\r\n        setSelectedCity('');\r\n      } catch (error) {\r\n        console.error('Error fetching cities:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const generateYears = () => {\r\n    const currentYear = new Date().getFullYear();\r\n    setYears([...Array(11).keys()].map(i => currentYear - 5 + i));\r\n  };\r\n\r\n  const handleStateChange = (e) => {\r\n    const state = e.target.value;\r\n    setSelectedState(state);\r\n    fetchCities(state);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const body = { city: selectedCity, state: selectedState, year: selectedYear };\r\n    try {\r\n      const response = await post({\r\n        apiName: 'RealEstatePredictorAPI',\r\n        path: '/predict',\r\n        options: {\r\n          body\r\n        }\r\n      });\r\n      const data = await response.json();\r\n      setPrediction(data.predicted_price);\r\n    } catch (error) {\r\n      setPrediction(`Error: ${error.response?.data?.error || error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Real Estate Price Predictor</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>State: </label>\r\n          <select value={selectedState} onChange={handleStateChange}>\r\n            <option value=\"\">Select State</option>\r\n            {states.map(state => (\r\n              <option key={state} value={state}>{state}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>City: </label>\r\n          <select value={selectedCity} onChange={e => setSelectedCity(e.target.value)} disabled={!selectedState}>\r\n            <option value=\"\">Select City</option>\r\n            {cities.map(city => (\r\n              <option key={city} value={city}>{city}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Year: </label>\r\n          <select value={selectedYear} onChange={e => setSelectedYear(e.target.value)} disabled={!selectedCity}>\r\n            <option value=\"\">Select Year</option>\r\n            {years.map(year => (\r\n              <option key={year} value={year}>{year}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <button type=\"submit\" disabled={!selectedYear}>Predict</button>\r\n      </form>\r\n      {prediction && <div>Predicted Price: ${Number(prediction).toLocaleString()}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport JsCookie from 'js-cookie';\nexport class CookieStorage {\n    constructor(data = {}) {\n        const { path, domain, expires, sameSite, secure } = data;\n        this.domain = domain;\n        this.path = path || '/';\n        this.expires = Object.prototype.hasOwnProperty.call(data, 'expires')\n            ? expires\n            : 365;\n        this.secure = Object.prototype.hasOwnProperty.call(data, 'secure')\n            ? secure\n            : true;\n        if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n            if (!sameSite || !['strict', 'lax', 'none'].includes(sameSite)) {\n                throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n            }\n            if (sameSite === 'none' && !this.secure) {\n                throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n            }\n            this.sameSite = sameSite;\n        }\n    }\n    async setItem(key, value) {\n        JsCookie.set(key, value, this.getData());\n    }\n    async getItem(key) {\n        const item = JsCookie.get(key);\n        return item ?? null;\n    }\n    async removeItem(key) {\n        JsCookie.remove(key, this.getData());\n    }\n    async clear() {\n        const cookie = JsCookie.get();\n        const promises = Object.keys(cookie).map(key => this.removeItem(key));\n        await Promise.all(promises);\n    }\n    getData() {\n        return {\n            path: this.path,\n            expires: this.expires,\n            domain: this.domain,\n            secure: this.secure,\n            ...(this.sameSite && { sameSite: this.sameSite }),\n        };\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyErrorCode } from '../types';\nimport { AmplifyError } from './AmplifyError';\nexport class PlatformNotSupportedError extends AmplifyError {\n    constructor() {\n        super({\n            name: AmplifyErrorCode.PlatformNotSupported,\n            message: 'Function not supported on current platform',\n        });\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { PlatformNotSupportedError } from '../errors';\n/**\n * @internal\n */\nexport class KeyValueStorage {\n    constructor(storage) {\n        this.storage = storage;\n    }\n    /**\n     * This is used to set a specific item in storage\n     * @param {string} key - the key for the item\n     * @param {object} value - the value\n     * @returns {string} value that was set\n     */\n    async setItem(key, value) {\n        if (!this.storage)\n            throw new PlatformNotSupportedError();\n        this.storage.setItem(key, value);\n    }\n    /**\n     * This is used to get a specific key from storage\n     * @param {string} key - the key for the item\n     * This is used to clear the storage\n     * @returns {string} the data item\n     */\n    async getItem(key) {\n        if (!this.storage)\n            throw new PlatformNotSupportedError();\n        return this.storage.getItem(key);\n    }\n    /**\n     * This is used to remove an item from storage\n     * @param {string} key - the key being set\n     * @returns {string} value - value that was deleted\n     */\n    async removeItem(key) {\n        if (!this.storage)\n            throw new PlatformNotSupportedError();\n        this.storage.removeItem(key);\n    }\n    /**\n     * This is used to clear the storage\n     * @returns {string} nothing\n     */\n    async clear() {\n        if (!this.storage)\n            throw new PlatformNotSupportedError();\n        this.storage.clear();\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * @internal\n */\nexport class InMemoryStorage {\n    constructor() {\n        this.storage = new Map();\n    }\n    get length() {\n        return this.storage.size;\n    }\n    key(index) {\n        if (index > this.length - 1) {\n            return null;\n        }\n        return Array.from(this.storage.keys())[index];\n    }\n    setItem(key, value) {\n        this.storage.set(key, value);\n    }\n    getItem(key) {\n        return this.storage.get(key) ?? null;\n    }\n    removeItem(key) {\n        this.storage.delete(key);\n    }\n    clear() {\n        this.storage.clear();\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger } from '../Logger';\nimport { InMemoryStorage } from './InMemoryStorage';\n/**\n * @internal\n * @returns Either a reference to window.localStorage or an in-memory storage as fallback\n */\nconst logger = new ConsoleLogger('CoreStorageUtils');\nexport const getLocalStorageWithFallback = () => {\n    try {\n        // Attempt to use localStorage directly\n        if (typeof window !== 'undefined' && window.localStorage) {\n            return window.localStorage;\n        }\n    }\n    catch (e) {\n        // Handle any errors related to localStorage access\n        logger.info('localStorage not found. InMemoryStorage is used as a fallback.');\n    }\n    // Return in-memory storage as a fallback if localStorage is not accessible\n    return new InMemoryStorage();\n};\n/**\n * @internal\n * @returns Either a reference to window.sessionStorage or an in-memory storage as fallback\n */\nexport const getSessionStorageWithFallback = () => {\n    try {\n        // Attempt to use sessionStorage directly\n        if (typeof window !== 'undefined' && window.sessionStorage) {\n            // Verify we can actually use it by testing access\n            window.sessionStorage.getItem('test');\n            return window.sessionStorage;\n        }\n        throw new Error('sessionStorage is not defined');\n    }\n    catch (e) {\n        // Handle any errors related to sessionStorage access\n        logger.info('sessionStorage not found. InMemoryStorage is used as a fallback.');\n        return new InMemoryStorage();\n    }\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { PlatformNotSupportedError } from '../errors';\n/**\n * @internal\n */\nexport class SyncKeyValueStorage {\n    constructor(storage) {\n        this._storage = storage;\n    }\n    get storage() {\n        if (!this._storage)\n            throw new PlatformNotSupportedError();\n        return this._storage;\n    }\n    /**\n     * This is used to set a specific item in storage\n     * @param {string} key - the key for the item\n     * @param {object} value - the value\n     * @returns {string} value that was set\n     */\n    setItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    /**\n     * This is used to get a specific key from storage\n     * @param {string} key - the key for the item\n     * This is used to clear the storage\n     * @returns {string} the data item\n     */\n    getItem(key) {\n        return this.storage.getItem(key);\n    }\n    /**\n     * This is used to remove an item from storage\n     * @param {string} key - the key being set\n     * @returns {string} value - value that was deleted\n     */\n    removeItem(key) {\n        this.storage.removeItem(key);\n    }\n    /**\n     * This is used to clear the storage\n     * @returns {string} nothing\n     */\n    clear() {\n        this.storage.clear();\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DefaultStorage } from './DefaultStorage';\nimport { InMemoryStorage } from './InMemoryStorage';\nimport { KeyValueStorage } from './KeyValueStorage';\nimport { SessionStorage } from './SessionStorage';\nimport { SyncSessionStorage } from './SyncSessionStorage';\nexport { CookieStorage } from './CookieStorage';\nexport const defaultStorage = new DefaultStorage();\nexport const sessionStorage = new SessionStorage();\nexport const syncSessionStorage = new SyncSessionStorage();\nexport const sharedInMemoryStorage = new KeyValueStorage(new InMemoryStorage());\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { KeyValueStorage } from './KeyValueStorage';\nimport { getLocalStorageWithFallback } from './utils';\n/**\n * @internal\n */\nexport class DefaultStorage extends KeyValueStorage {\n    constructor() {\n        super(getLocalStorageWithFallback());\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Compose a service API handler that accepts input as defined shape and responds conforming to defined output shape.\n * A service API handler is composed with:\n * * A transfer handler\n * * A serializer function\n * * A deserializer function\n * * A default config object\n *\n * The returned service API handler, when called, will trigger the following workflow:\n * 1. When calling the service API handler function, the default config object is merged into the input config\n * object to assign the default values of some omitted configs, resulting to a resolved config object.\n * 2. The `endpointResolver` function from the default config object will be invoked with the resolved config object and\n * API input object resulting to an endpoint instance.\n * 3. The serializer function is invoked with API input object and the endpoint instance resulting to an HTTP request\n * instance.\n * 4. The HTTP request instance and the resolved config object is passed to the transfer handler function.\n * 5. The transfer handler function resolves to an HTTP response instance(can be either successful or failed status code).\n * 6. The deserializer function is invoked with the HTTP response instance resulting to the API output object, and\n * return to the caller.\n *\n *\n * @param transferHandler Async function for dispatching HTTP requests and returning HTTP response.\n * @param serializer  Async function for converting object in defined input shape into HTTP request targeting a given\n * \tendpoint.\n * @param deserializer Async function for converting HTTP response into output object in defined output shape, or error\n * \tshape.\n * @param defaultConfig  object containing default options to be consumed by transfer handler, serializer and\n *  deserializer.\n * @returns a async service API handler function that accepts a config object and input object in defined shape, returns\n * \tan output object in defined shape. It may also throw error instance in defined shape in deserializer. The config\n *  object type is composed with options type of transferHandler, endpointResolver function as well as endpointResolver\n *  function's input options type, region string. The config object property will be marked as optional if it's also\n * \tdefined in defaultConfig.\n *\n * @internal\n */\nexport const composeServiceApi = (transferHandler, serializer, deserializer, defaultConfig) => {\n    return async (config, input) => {\n        const resolvedConfig = {\n            ...defaultConfig,\n            ...config,\n        };\n        // We need to allow different endpoints based on both given config(other than region) and input.\n        // However for most of non-S3 services, region is the only input for endpoint resolver.\n        const endpoint = await resolvedConfig.endpointResolver(resolvedConfig, input);\n        // Unlike AWS SDK clients, a serializer should NOT populate the `host` or `content-length` headers.\n        // Both of these headers are prohibited per Spec(https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name).\n        // They will be populated automatically by browser, or node-fetch polyfill.\n        const request = await serializer(input, endpoint);\n        const response = await transferHandler(request, {\n            ...resolvedConfig,\n        });\n        return deserializer(response);\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { KeyValueStorage } from './KeyValueStorage';\nimport { getSessionStorageWithFallback } from './utils';\n/**\n * @internal\n */\nexport class SessionStorage extends KeyValueStorage {\n    constructor() {\n        super(getSessionStorageWithFallback());\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { SyncKeyValueStorage } from './SyncKeyValueStorage';\nimport { getSessionStorageWithFallback } from './utils';\n/**\n * @internal\n */\nexport class SyncSessionStorage extends SyncKeyValueStorage {\n    constructor() {\n        super(getSessionStorageWithFallback());\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Default partition for AWS services. This is used when the region is not provided or the region is not recognized.\n *\n * @internal\n */\nexport const defaultPartition = {\n    id: 'aws',\n    outputs: {\n        dnsSuffix: 'amazonaws.com',\n    },\n    regionRegex: '^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$',\n    regions: ['aws-global'],\n};\n/**\n * This data is adapted from the partition file from AWS SDK shared utilities but remove some contents for bundle size\n * concern. Information removed are `dualStackDnsSuffix`, `supportDualStack`, `supportFIPS`, restricted partitions, and\n * list of regions for each partition other than global regions.\n *\n * * Ref: https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints\n * * Ref: https://github.com/aws/aws-sdk-js-v3/blob/0201baef03c2379f1f6f7150b9d401d4b230d488/packages/util-endpoints/src/lib/aws/partitions.json#L1\n *\n * @internal\n */\nexport const partitionsInfo = {\n    partitions: [\n        defaultPartition,\n        {\n            id: 'aws-cn',\n            outputs: {\n                dnsSuffix: 'amazonaws.com.cn',\n            },\n            regionRegex: '^cn\\\\-\\\\w+\\\\-\\\\d+$',\n            regions: ['aws-cn-global'],\n        },\n    ],\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { defaultPartition, partitionsInfo } from './partitions';\n/**\n * Get the AWS Services endpoint URL's DNS suffix for a given region. A typical AWS regional service endpoint URL will\n * follow this pattern: {endpointPrefix}.{region}.{dnsSuffix}. For example, the endpoint URL for Cognito Identity in\n * us-east-1 will be cognito-identity.us-east-1.amazonaws.com. Here the DnsSuffix is `amazonaws.com`.\n *\n * @param region\n * @returns The DNS suffix\n *\n * @internal\n */\nexport const getDnsSuffix = (region) => {\n    const { partitions } = partitionsInfo;\n    for (const { regions, outputs, regionRegex } of partitions) {\n        const regex = new RegExp(regionRegex);\n        if (regions.includes(region) || regex.test(region)) {\n            return outputs.dnsSuffix;\n        }\n    }\n    return defaultPartition.outputs.dnsSuffix;\n};\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { v4 } from 'uuid';\nconst amplifyUuid = v4;\nexport { amplifyUuid };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { amzSdkInvocationIdHeaderMiddlewareFactory, amzSdkRequestHeaderMiddlewareFactory, retryMiddlewareFactory, } from '../../middleware/retry';\nimport { userAgentMiddlewareFactory, } from '../../middleware/userAgent';\nimport { composeTransferHandler } from '../../internal/composeTransferHandler';\nimport { fetchTransferHandler } from '../fetch';\nexport const unauthenticatedHandler = composeTransferHandler(fetchTransferHandler, [\n    userAgentMiddlewareFactory,\n    amzSdkInvocationIdHeaderMiddlewareFactory,\n    retryMiddlewareFactory,\n    amzSdkRequestHeaderMiddlewareFactory,\n]);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { amplifyUuid } from '../../../libraryUtils';\nimport { AMZ_SDK_INVOCATION_ID_HEADER } from './constants';\n/**\n * Middleware injects a UUID string to `amz-sdk-invocation-id` header.\n * if the header is not set already. This header is helpful to provide\n * observability to group the requests caused by automatic retry.\n *\n * This middleware is standalone because of extra UUID dependency, we will\n * NOT use this middleware for API categories.\n *\n * Ref: https://sdk.amazonaws.com/kotlin/api/smithy-kotlin/api/1.0.9/http-client/aws.smithy.kotlin.runtime.http.operation/-http-operation-context/-sdk-invocation-id.html\n */\nexport const amzSdkInvocationIdHeaderMiddlewareFactory = () => next => {\n    return async function amzSdkInvocationIdHeaderMiddleware(request) {\n        if (!request.headers[AMZ_SDK_INVOCATION_ID_HEADER]) {\n            request.headers[AMZ_SDK_INVOCATION_ID_HEADER] = amplifyUuid();\n        }\n        return next(request);\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AMZ_SDK_REQUEST_HEADER, DEFAULT_RETRY_ATTEMPTS } from './constants';\n/**\n * Middleware injects `amz-sdk-request` header to indicate the retry state at the time an HTTP request is made.\n * This middleware should co-exist with retryMiddleware as it relies on the retryAttempts value in middleware context\n * set by the retry middleware.\n *\n * Example header: `amz-sdk-request: attempt=1; max=3`.\n *\n * This middleware is standalone because of extra headers may conflict with custom endpoint settings(e.g. CORS), we will\n * NOT use this middleware for API categories.\n */\nexport const amzSdkRequestHeaderMiddlewareFactory = ({ maxAttempts = DEFAULT_RETRY_ATTEMPTS }) => (next, context) => {\n    return async function amzSdkRequestHeaderMiddleware(request) {\n        const attemptsCount = context.attemptsCount ?? 0;\n        request.headers[AMZ_SDK_REQUEST_HEADER] =\n            `attempt=${attemptsCount + 1}; max=${maxAttempts}`;\n        return next(request);\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport var Framework;\n(function (Framework) {\n    // < 100 - Web frameworks\n    Framework[\"WebUnknown\"] = \"0\";\n    Framework[\"React\"] = \"1\";\n    Framework[\"NextJs\"] = \"2\";\n    Framework[\"Angular\"] = \"3\";\n    Framework[\"VueJs\"] = \"4\";\n    Framework[\"Nuxt\"] = \"5\";\n    Framework[\"Svelte\"] = \"6\";\n    // 100s - Server side frameworks\n    Framework[\"ServerSideUnknown\"] = \"100\";\n    Framework[\"ReactSSR\"] = \"101\";\n    Framework[\"NextJsSSR\"] = \"102\";\n    Framework[\"AngularSSR\"] = \"103\";\n    Framework[\"VueJsSSR\"] = \"104\";\n    Framework[\"NuxtSSR\"] = \"105\";\n    Framework[\"SvelteSSR\"] = \"106\";\n    // 200s - Mobile framework\n    Framework[\"ReactNative\"] = \"201\";\n    Framework[\"Expo\"] = \"202\";\n})(Framework || (Framework = {}));\nexport var Category;\n(function (Category) {\n    Category[\"AI\"] = \"ai\";\n    Category[\"API\"] = \"api\";\n    Category[\"Auth\"] = \"auth\";\n    Category[\"Analytics\"] = \"analytics\";\n    Category[\"DataStore\"] = \"datastore\";\n    Category[\"Geo\"] = \"geo\";\n    Category[\"InAppMessaging\"] = \"inappmessaging\";\n    Category[\"Interactions\"] = \"interactions\";\n    Category[\"Predictions\"] = \"predictions\";\n    Category[\"PubSub\"] = \"pubsub\";\n    Category[\"PushNotification\"] = \"pushnotification\";\n    Category[\"Storage\"] = \"storage\";\n})(Category || (Category = {}));\nexport var AiAction;\n(function (AiAction) {\n    AiAction[\"CreateConversation\"] = \"1\";\n    AiAction[\"GetConversation\"] = \"2\";\n    AiAction[\"ListConversations\"] = \"3\";\n    AiAction[\"DeleteConversation\"] = \"4\";\n    AiAction[\"SendMessage\"] = \"5\";\n    AiAction[\"ListMessages\"] = \"6\";\n    AiAction[\"OnMessage\"] = \"7\";\n    AiAction[\"Generation\"] = \"8\";\n    AiAction[\"UpdateConversation\"] = \"9\";\n})(AiAction || (AiAction = {}));\nexport var AnalyticsAction;\n(function (AnalyticsAction) {\n    AnalyticsAction[\"Record\"] = \"1\";\n    AnalyticsAction[\"IdentifyUser\"] = \"2\";\n})(AnalyticsAction || (AnalyticsAction = {}));\nexport var ApiAction;\n(function (ApiAction) {\n    ApiAction[\"GraphQl\"] = \"1\";\n    ApiAction[\"Get\"] = \"2\";\n    ApiAction[\"Post\"] = \"3\";\n    ApiAction[\"Put\"] = \"4\";\n    ApiAction[\"Patch\"] = \"5\";\n    ApiAction[\"Del\"] = \"6\";\n    ApiAction[\"Head\"] = \"7\";\n})(ApiAction || (ApiAction = {}));\nexport var AuthAction;\n(function (AuthAction) {\n    AuthAction[\"SignUp\"] = \"1\";\n    AuthAction[\"ConfirmSignUp\"] = \"2\";\n    AuthAction[\"ResendSignUpCode\"] = \"3\";\n    AuthAction[\"SignIn\"] = \"4\";\n    AuthAction[\"FetchMFAPreference\"] = \"6\";\n    AuthAction[\"UpdateMFAPreference\"] = \"7\";\n    AuthAction[\"SetUpTOTP\"] = \"10\";\n    AuthAction[\"VerifyTOTPSetup\"] = \"11\";\n    AuthAction[\"ConfirmSignIn\"] = \"12\";\n    AuthAction[\"DeleteUserAttributes\"] = \"15\";\n    AuthAction[\"DeleteUser\"] = \"16\";\n    AuthAction[\"UpdateUserAttributes\"] = \"17\";\n    AuthAction[\"FetchUserAttributes\"] = \"18\";\n    AuthAction[\"ConfirmUserAttribute\"] = \"22\";\n    AuthAction[\"SignOut\"] = \"26\";\n    AuthAction[\"UpdatePassword\"] = \"27\";\n    AuthAction[\"ResetPassword\"] = \"28\";\n    AuthAction[\"ConfirmResetPassword\"] = \"29\";\n    AuthAction[\"FederatedSignIn\"] = \"30\";\n    AuthAction[\"RememberDevice\"] = \"32\";\n    AuthAction[\"ForgetDevice\"] = \"33\";\n    AuthAction[\"FetchDevices\"] = \"34\";\n    AuthAction[\"SendUserAttributeVerificationCode\"] = \"35\";\n    AuthAction[\"SignInWithRedirect\"] = \"36\";\n    AuthAction[\"StartWebAuthnRegistration\"] = \"37\";\n    AuthAction[\"CompleteWebAuthnRegistration\"] = \"38\";\n    AuthAction[\"ListWebAuthnCredentials\"] = \"39\";\n    AuthAction[\"DeleteWebAuthnCredential\"] = \"40\";\n})(AuthAction || (AuthAction = {}));\nexport var DataStoreAction;\n(function (DataStoreAction) {\n    DataStoreAction[\"Subscribe\"] = \"1\";\n    DataStoreAction[\"GraphQl\"] = \"2\";\n})(DataStoreAction || (DataStoreAction = {}));\nexport var GeoAction;\n(function (GeoAction) {\n    GeoAction[\"SearchByText\"] = \"0\";\n    GeoAction[\"SearchByCoordinates\"] = \"1\";\n    GeoAction[\"SearchForSuggestions\"] = \"2\";\n    GeoAction[\"SearchByPlaceId\"] = \"3\";\n    GeoAction[\"SaveGeofences\"] = \"4\";\n    GeoAction[\"GetGeofence\"] = \"5\";\n    GeoAction[\"ListGeofences\"] = \"6\";\n    GeoAction[\"DeleteGeofences\"] = \"7\";\n})(GeoAction || (GeoAction = {}));\nexport var InAppMessagingAction;\n(function (InAppMessagingAction) {\n    InAppMessagingAction[\"SyncMessages\"] = \"1\";\n    InAppMessagingAction[\"IdentifyUser\"] = \"2\";\n    InAppMessagingAction[\"NotifyMessageInteraction\"] = \"3\";\n})(InAppMessagingAction || (InAppMessagingAction = {}));\nexport var InteractionsAction;\n(function (InteractionsAction) {\n    InteractionsAction[\"None\"] = \"0\";\n})(InteractionsAction || (InteractionsAction = {}));\nexport var PredictionsAction;\n(function (PredictionsAction) {\n    PredictionsAction[\"Convert\"] = \"1\";\n    PredictionsAction[\"Identify\"] = \"2\";\n    PredictionsAction[\"Interpret\"] = \"3\";\n})(PredictionsAction || (PredictionsAction = {}));\nexport var PubSubAction;\n(function (PubSubAction) {\n    PubSubAction[\"Subscribe\"] = \"1\";\n})(PubSubAction || (PubSubAction = {}));\nexport var PushNotificationAction;\n(function (PushNotificationAction) {\n    PushNotificationAction[\"InitializePushNotifications\"] = \"1\";\n    PushNotificationAction[\"IdentifyUser\"] = \"2\";\n})(PushNotificationAction || (PushNotificationAction = {}));\nexport var StorageAction;\n(function (StorageAction) {\n    StorageAction[\"UploadData\"] = \"1\";\n    StorageAction[\"DownloadData\"] = \"2\";\n    StorageAction[\"List\"] = \"3\";\n    StorageAction[\"Copy\"] = \"4\";\n    StorageAction[\"Remove\"] = \"5\";\n    StorageAction[\"GetProperties\"] = \"6\";\n    StorageAction[\"GetUrl\"] = \"7\";\n    StorageAction[\"GetDataAccess\"] = \"8\";\n    StorageAction[\"ListCallerAccessGrants\"] = \"9\";\n})(StorageAction || (StorageAction = {}));\n","// generated by genversion\nexport const version = '6.14.4';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const globalExists = () => {\n    return typeof global !== 'undefined';\n};\nexport const globalThisExists = () => {\n    return typeof globalThis !== 'undefined';\n};\nexport const windowExists = () => {\n    return typeof window !== 'undefined';\n};\nexport const documentExists = () => {\n    return typeof document !== 'undefined';\n};\nexport const processExists = () => {\n    return typeof process !== 'undefined';\n};\nexport const keyPrefixMatch = (object, prefix) => {\n    return !!Object.keys(object).find(key => key.startsWith(prefix));\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Framework } from '../types';\nimport { reactSSRDetect, reactWebDetect } from './React';\nimport { vueSSRDetect, vueWebDetect } from './Vue';\nimport { svelteSSRDetect, svelteWebDetect } from './Svelte';\nimport { nextSSRDetect, nextWebDetect } from './Next';\nimport { nuxtSSRDetect, nuxtWebDetect } from './Nuxt';\nimport { angularSSRDetect, angularWebDetect } from './Angular';\nimport { reactNativeDetect } from './ReactNative';\nimport { expoDetect } from './Expo';\nimport { webDetect } from './Web';\n// These are in the order of detection where when both are detectable, the early Framework will be reported\nconst detectionMap = [\n    // First, detect mobile\n    { platform: Framework.Expo, detectionMethod: expoDetect },\n    { platform: Framework.ReactNative, detectionMethod: reactNativeDetect },\n    // Next, detect web frameworks\n    { platform: Framework.NextJs, detectionMethod: nextWebDetect },\n    { platform: Framework.Nuxt, detectionMethod: nuxtWebDetect },\n    { platform: Framework.Angular, detectionMethod: angularWebDetect },\n    { platform: Framework.React, detectionMethod: reactWebDetect },\n    { platform: Framework.VueJs, detectionMethod: vueWebDetect },\n    { platform: Framework.Svelte, detectionMethod: svelteWebDetect },\n    { platform: Framework.WebUnknown, detectionMethod: webDetect },\n    // Last, detect ssr frameworks\n    { platform: Framework.NextJsSSR, detectionMethod: nextSSRDetect },\n    { platform: Framework.NuxtSSR, detectionMethod: nuxtSSRDetect },\n    { platform: Framework.ReactSSR, detectionMethod: reactSSRDetect },\n    { platform: Framework.VueJsSSR, detectionMethod: vueSSRDetect },\n    { platform: Framework.AngularSSR, detectionMethod: angularSSRDetect },\n    { platform: Framework.SvelteSSR, detectionMethod: svelteSSRDetect },\n];\nexport function detect() {\n    return (detectionMap.find(detectionEntry => detectionEntry.detectionMethod())\n        ?.platform || Framework.ServerSideUnknown);\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { globalExists } from './helpers';\n// Tested with expo 48 / react-native 0.71.3\nexport function expoDetect() {\n    return globalExists() && typeof global.expo !== 'undefined';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Tested with react-native 0.17.7\nexport function reactNativeDetect() {\n    return (typeof navigator !== 'undefined' &&\n        typeof navigator.product !== 'undefined' &&\n        navigator.product === 'ReactNative');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { globalExists, keyPrefixMatch, windowExists } from './helpers';\n// Tested with next 13.4 / react 18.2\nexport function nextWebDetect() {\n    return (windowExists() &&\n        window.next &&\n        typeof window.next === 'object');\n}\nexport function nextSSRDetect() {\n    return (globalExists() &&\n        (keyPrefixMatch(global, '__next') || keyPrefixMatch(global, '__NEXT')));\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { globalExists, windowExists } from './helpers';\n// Tested with nuxt 2.15 / vue 2.7\nexport function nuxtWebDetect() {\n    return (windowExists() &&\n        (window.__NUXT__ !== undefined ||\n            window.$nuxt !== undefined));\n}\nexport function nuxtSSRDetect() {\n    return (globalExists() && typeof global.__NUXT_PATHS__ !== 'undefined');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { documentExists, processExists, windowExists } from './helpers';\n// Tested with @angular/core 16.0.0\nexport function angularWebDetect() {\n    const angularVersionSetInDocument = Boolean(documentExists() && document.querySelector('[ng-version]'));\n    const angularContentSetInWindow = Boolean(windowExists() && typeof window.ng !== 'undefined');\n    return angularVersionSetInDocument || angularContentSetInWindow;\n}\nexport function angularSSRDetect() {\n    return ((processExists() &&\n        typeof process.env === 'object' &&\n        process.env.npm_lifecycle_script?.startsWith('ng ')) ||\n        false);\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { documentExists, processExists } from './helpers';\n// Tested with react 18.2 - built using Vite\nexport function reactWebDetect() {\n    const elementKeyPrefixedWithReact = (key) => {\n        return key.startsWith('_react') || key.startsWith('__react');\n    };\n    const elementIsReactEnabled = (element) => {\n        return Object.keys(element).find(elementKeyPrefixedWithReact);\n    };\n    const allElementsWithId = () => Array.from(document.querySelectorAll('[id]'));\n    return documentExists() && allElementsWithId().some(elementIsReactEnabled);\n}\nexport function reactSSRDetect() {\n    return (processExists() &&\n        typeof process.env !== 'undefined' &&\n        !!Object.keys(process.env).find(key => key.includes('react')));\n}\n// use the some\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { globalExists, keyPrefixMatch, windowExists } from './helpers';\n// Tested with vue 3.3.2\nexport function vueWebDetect() {\n    return windowExists() && keyPrefixMatch(window, '__VUE');\n}\nexport function vueSSRDetect() {\n    return globalExists() && keyPrefixMatch(global, '__VUE');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { keyPrefixMatch, processExists, windowExists } from './helpers';\n// Tested with svelte 3.59\nexport function svelteWebDetect() {\n    return windowExists() && keyPrefixMatch(window, '__SVELTE');\n}\nexport function svelteSSRDetect() {\n    return (processExists() &&\n        typeof process.env !== 'undefined' &&\n        !!Object.keys(process.env).find(key => key.includes('svelte')));\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { windowExists } from './helpers';\nexport function webDetect() {\n    return windowExists();\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Framework } from './types';\nimport { detect } from './detection';\n// We want to cache detection since the framework won't change\nlet frameworkCache;\nexport const frameworkChangeObservers = [];\n// Setup the detection reset tracking / timeout delays\nlet resetTriggered = false;\nconst SSR_RESET_TIMEOUT = 10; // ms\nconst WEB_RESET_TIMEOUT = 10; // ms\nconst PRIME_FRAMEWORK_DELAY = 1000; // ms\nexport const detectFramework = () => {\n    if (!frameworkCache) {\n        frameworkCache = detect();\n        if (resetTriggered) {\n            // The final run of detectFramework:\n            // Starting from this point, the `frameworkCache` becomes \"final\".\n            // So we don't need to notify the observers again so the observer\n            // can be removed after the final notice.\n            while (frameworkChangeObservers.length) {\n                frameworkChangeObservers.pop()?.();\n            }\n        }\n        else {\n            // The first run of detectFramework:\n            // Every time we update the cache, call each observer function\n            frameworkChangeObservers.forEach(fcn => {\n                fcn();\n            });\n        }\n        // Retry once for either Unknown type after a delay (explained below)\n        resetTimeout(Framework.ServerSideUnknown, SSR_RESET_TIMEOUT);\n        resetTimeout(Framework.WebUnknown, WEB_RESET_TIMEOUT);\n    }\n    return frameworkCache;\n};\n/**\n * @internal Setup observer callback that will be called everytime the framework changes\n */\nexport const observeFrameworkChanges = (fcn) => {\n    // When the `frameworkCache` won't be updated again, we ignore all incoming\n    // observers.\n    if (resetTriggered) {\n        return;\n    }\n    frameworkChangeObservers.push(fcn);\n};\nexport function clearCache() {\n    frameworkCache = undefined;\n}\n// For a framework type and a delay amount, setup the event to re-detect\n//   During the runtime boot, it is possible that framework detection will\n//   be triggered before the framework has made modifications to the\n//   global/window/etc needed for detection. When no framework is detected\n//   we will reset and try again to ensure we don't use a cached\n//   non-framework detection result for all requests.\nfunction resetTimeout(framework, delay) {\n    if (frameworkCache === framework && !resetTriggered) {\n        setTimeout(() => {\n            clearCache();\n            resetTriggered = true;\n            setTimeout(detectFramework, PRIME_FRAMEWORK_DELAY);\n        }, delay);\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Maintains custom user-agent state set by external consumers.\nconst customUserAgentState = {};\n/**\n * Sets custom user agent state which will be appended to applicable requests. Returns a function that can be used to\n * clean up any custom state set with this API.\n *\n * @note\n * This API operates globally. Calling this API multiple times will result in the most recently set values for a\n * particular API being used.\n *\n * @note\n * This utility IS NOT compatible with SSR.\n *\n * @param input - SetCustomUserAgentInput that defines custom state to apply to the specified APIs.\n */\nexport const setCustomUserAgent = (input) => {\n    // Save custom user-agent state & increment reference counter\n    // TODO Remove `any` when we upgrade to TypeScript 5.2, see: https://github.com/microsoft/TypeScript/issues/44373\n    customUserAgentState[input.category] = input.apis.reduce((acc, api) => ({\n        ...acc,\n        [api]: {\n            refCount: acc[api]?.refCount ? acc[api].refCount + 1 : 1,\n            additionalDetails: input.additionalDetails,\n        },\n    }), customUserAgentState[input.category] ?? {});\n    // Callback that cleans up state for APIs recorded by this call\n    let cleanUpCallbackCalled = false;\n    const cleanUpCallback = () => {\n        // Only allow the cleanup callback to be called once\n        if (cleanUpCallbackCalled) {\n            return;\n        }\n        cleanUpCallbackCalled = true;\n        input.apis.forEach(api => {\n            const apiRefCount = customUserAgentState[input.category][api].refCount;\n            if (apiRefCount > 1) {\n                customUserAgentState[input.category][api].refCount = apiRefCount - 1;\n            }\n            else {\n                delete customUserAgentState[input.category][api];\n                // Clean up category if no more APIs set\n                if (!Object.keys(customUserAgentState[input.category]).length) {\n                    delete customUserAgentState[input.category];\n                }\n            }\n        });\n    };\n    return cleanUpCallback;\n};\nexport const getCustomUserAgent = (category, api) => customUserAgentState[category]?.[api]?.additionalDetails;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Framework } from './types';\nimport { version } from './version';\nimport { detectFramework, observeFrameworkChanges } from './detectFramework';\nimport { getCustomUserAgent } from './customUserAgent';\nconst BASE_USER_AGENT = `aws-amplify`;\n/** Sanitize Amplify version string be removing special character + and character post the special character  */\nexport const sanitizeAmplifyVersion = (amplifyVersion) => amplifyVersion.replace(/\\+.*/, '');\nclass PlatformBuilder {\n    constructor() {\n        this.userAgent = `${BASE_USER_AGENT}/${sanitizeAmplifyVersion(version)}`;\n    }\n    get framework() {\n        return detectFramework();\n    }\n    get isReactNative() {\n        return (this.framework === Framework.ReactNative ||\n            this.framework === Framework.Expo);\n    }\n    observeFrameworkChanges(fcn) {\n        observeFrameworkChanges(fcn);\n    }\n}\nexport const Platform = new PlatformBuilder();\nexport const getAmplifyUserAgentObject = ({ category, action, } = {}) => {\n    const userAgent = [\n        [BASE_USER_AGENT, sanitizeAmplifyVersion(version)],\n    ];\n    if (category) {\n        userAgent.push([category, action]);\n    }\n    userAgent.push(['framework', detectFramework()]);\n    if (category && action) {\n        const customState = getCustomUserAgent(category, action);\n        if (customState) {\n            customState.forEach(state => {\n                userAgent.push(state);\n            });\n        }\n    }\n    return userAgent;\n};\nexport const getAmplifyUserAgent = (customUserAgentDetails) => {\n    const userAgent = getAmplifyUserAgentObject(customUserAgentDetails);\n    const userAgentString = userAgent\n        .map(([agentKey, agentValue]) => agentKey && agentValue ? `${agentKey}/${agentValue}` : agentKey)\n        .join(' ');\n    return userAgentString;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getDnsSuffix, parseJsonError, unauthenticatedHandler, } from '../../clients';\nimport { composeTransferHandler } from '../../clients/internal/composeTransferHandler';\nimport { getRetryDecider, jitteredBackoff, } from '../../clients/middleware/retry';\nimport { getAmplifyUserAgent } from '../../Platform';\nimport { observeFrameworkChanges } from '../../Platform/detectFramework';\nimport { AmplifyUrl } from '../../utils/amplifyUrl';\n/**\n * The service name used to sign requests if the API requires authentication.\n */\nconst SERVICE_NAME = 'cognito-identity';\n/**\n * The endpoint resolver function that returns the endpoint URL for a given region.\n */\nconst endpointResolver = ({ region }) => ({\n    url: new AmplifyUrl(`https://cognito-identity.${region}.${getDnsSuffix(region)}`),\n});\n/**\n * A Cognito Identity-specific middleware that disables caching for all requests.\n */\nconst disableCacheMiddlewareFactory = () => next => async function disableCacheMiddleware(request) {\n    request.headers['cache-control'] = 'no-store';\n    return next(request);\n};\n/**\n * A Cognito Identity-specific transfer handler that does NOT sign requests, and\n * disables caching.\n *\n * @internal\n */\nexport const cognitoIdentityTransferHandler = composeTransferHandler(unauthenticatedHandler, [disableCacheMiddlewareFactory]);\n/**\n * @internal\n */\nexport const defaultConfig = {\n    service: SERVICE_NAME,\n    endpointResolver,\n    retryDecider: getRetryDecider(parseJsonError),\n    computeDelay: jitteredBackoff,\n    userAgentValue: getAmplifyUserAgent(),\n    cache: 'no-store',\n};\nobserveFrameworkChanges(() => {\n    defaultConfig.userAgentValue = getAmplifyUserAgent();\n});\n/**\n * @internal\n */\nexport const getSharedHeaders = (operation) => ({\n    'content-type': 'application/x-amz-json-1.1',\n    'x-amz-target': `AWSCognitoIdentityService.${operation}`,\n});\n/**\n * @internal\n */\nexport const buildHttpRpcRequest = ({ url }, headers, body) => ({\n    headers,\n    url,\n    body,\n    method: 'POST',\n});\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseJsonBody, parseJsonError, parseMetadata, } from '../../clients';\nimport { composeServiceApi } from '../../clients/internal';\nimport { buildHttpRpcRequest, cognitoIdentityTransferHandler, defaultConfig, getSharedHeaders, } from './base';\nconst getCredentialsForIdentitySerializer = (input, endpoint) => {\n    const headers = getSharedHeaders('GetCredentialsForIdentity');\n    const body = JSON.stringify(input);\n    return buildHttpRpcRequest(endpoint, headers, body);\n};\nconst getCredentialsForIdentityDeserializer = async (response) => {\n    if (response.statusCode >= 300) {\n        const error = await parseJsonError(response);\n        throw error;\n    }\n    else {\n        const body = await parseJsonBody(response);\n        return {\n            IdentityId: body.IdentityId,\n            Credentials: deserializeCredentials(body.Credentials),\n            $metadata: parseMetadata(response),\n        };\n    }\n};\nconst deserializeCredentials = ({ AccessKeyId, SecretKey, SessionToken, Expiration, } = {}) => {\n    return {\n        AccessKeyId,\n        SecretKey,\n        SessionToken,\n        Expiration: Expiration && new Date(Expiration * 1000),\n    };\n};\n/**\n * @internal\n */\nexport const getCredentialsForIdentity = composeServiceApi(cognitoIdentityTransferHandler, getCredentialsForIdentitySerializer, getCredentialsForIdentityDeserializer, defaultConfig);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getAtob } from '../../globalHelpers';\nexport const base64Decoder = {\n    convert(input, options) {\n        let inputStr = input;\n        // urlSafe character replacement options conform to the base64 url spec\n        // https://datatracker.ietf.org/doc/html/rfc4648#page-7\n        if (options?.urlSafe) {\n            inputStr = inputStr.replace(/-/g, '+').replace(/_/g, '/');\n        }\n        return getAtob()(inputStr);\n    },\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyError } from '../../errors';\nexport const getCrypto = () => {\n    if (typeof window === 'object' && typeof window.crypto === 'object') {\n        return window.crypto;\n    }\n    // Next.js global polyfill\n    if (typeof crypto === 'object') {\n        return crypto;\n    }\n    throw new AmplifyError({\n        name: 'MissingPolyfill',\n        message: 'Cannot resolve the `crypto` function from the environment.',\n    });\n};\nexport const getBtoa = () => {\n    // browser\n    if (typeof window !== 'undefined' && typeof window.btoa === 'function') {\n        return window.btoa;\n    }\n    // Next.js global polyfill\n    if (typeof btoa === 'function') {\n        return btoa;\n    }\n    throw new AmplifyError({\n        name: 'Base64EncoderError',\n        message: 'Cannot resolve the `btoa` function from the environment.',\n    });\n};\nexport const getAtob = () => {\n    // browser\n    if (typeof window !== 'undefined' && typeof window.atob === 'function') {\n        return window.atob;\n    }\n    // Next.js global polyfill\n    if (typeof atob === 'function') {\n        return atob;\n    }\n    throw new AmplifyError({\n        name: 'Base64EncoderError',\n        message: 'Cannot resolve the `atob` function from the environment.',\n    });\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyError } from './AmplifyError';\nexport const createAssertionFunction = (errorMap, AssertionError = AmplifyError) => (assertion, name, additionalContext) => {\n    const { message, recoverySuggestion } = errorMap[name];\n    if (!assertion) {\n        throw new AssertionError({\n            name,\n            message: additionalContext\n                ? `${message} ${additionalContext}`\n                : message,\n            recoverySuggestion,\n        });\n    }\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createAssertionFunction } from '../../../errors';\nexport var AuthConfigurationErrorCode;\n(function (AuthConfigurationErrorCode) {\n    AuthConfigurationErrorCode[\"AuthTokenConfigException\"] = \"AuthTokenConfigException\";\n    AuthConfigurationErrorCode[\"AuthUserPoolAndIdentityPoolException\"] = \"AuthUserPoolAndIdentityPoolException\";\n    AuthConfigurationErrorCode[\"AuthUserPoolException\"] = \"AuthUserPoolException\";\n    AuthConfigurationErrorCode[\"InvalidIdentityPoolIdException\"] = \"InvalidIdentityPoolIdException\";\n    AuthConfigurationErrorCode[\"OAuthNotConfigureException\"] = \"OAuthNotConfigureException\";\n})(AuthConfigurationErrorCode || (AuthConfigurationErrorCode = {}));\nconst authConfigurationErrorMap = {\n    [AuthConfigurationErrorCode.AuthTokenConfigException]: {\n        message: 'Auth Token Provider not configured.',\n        recoverySuggestion: 'Make sure to call Amplify.configure in your app.',\n    },\n    [AuthConfigurationErrorCode.AuthUserPoolAndIdentityPoolException]: {\n        message: 'Auth UserPool or IdentityPool not configured.',\n        recoverySuggestion: 'Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId.',\n    },\n    [AuthConfigurationErrorCode.AuthUserPoolException]: {\n        message: 'Auth UserPool not configured.',\n        recoverySuggestion: 'Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId.',\n    },\n    [AuthConfigurationErrorCode.InvalidIdentityPoolIdException]: {\n        message: 'Invalid identity pool id provided.',\n        recoverySuggestion: 'Make sure a valid identityPoolId is given in the config.',\n    },\n    [AuthConfigurationErrorCode.OAuthNotConfigureException]: {\n        message: 'oauth param not configured.',\n        recoverySuggestion: 'Make sure to call Amplify.configure with oauth parameter in your app.',\n    },\n};\nexport const assert = createAssertionFunction(authConfigurationErrorMap);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { base64Decoder } from '../../../utils/convert';\nimport { AuthConfigurationErrorCode, assert } from './errorHelpers';\nexport function assertTokenProviderConfig(cognitoConfig) {\n    let assertionValid = true; // assume valid until otherwise proveed\n    if (!cognitoConfig) {\n        assertionValid = false;\n    }\n    else {\n        assertionValid =\n            !!cognitoConfig.userPoolId && !!cognitoConfig.userPoolClientId;\n    }\n    assert(assertionValid, AuthConfigurationErrorCode.AuthUserPoolException);\n}\nexport function assertOAuthConfig(cognitoConfig) {\n    const validOAuthConfig = !!cognitoConfig?.loginWith?.oauth?.domain &&\n        !!cognitoConfig?.loginWith?.oauth?.redirectSignOut &&\n        !!cognitoConfig?.loginWith?.oauth?.redirectSignIn &&\n        !!cognitoConfig?.loginWith?.oauth?.responseType;\n    assert(validOAuthConfig, AuthConfigurationErrorCode.OAuthNotConfigureException);\n}\nexport function assertIdentityPoolIdConfig(cognitoConfig) {\n    const validConfig = !!cognitoConfig?.identityPoolId;\n    assert(validConfig, AuthConfigurationErrorCode.InvalidIdentityPoolIdException);\n}\n/**\n * Decodes payload of JWT token\n *\n * @param {String} token A string representing a token to be decoded\n * @throws {@link Error} - Throws error when token is invalid or payload malformed.\n */\nexport function decodeJWT(token) {\n    const tokenParts = token.split('.');\n    if (tokenParts.length !== 3) {\n        throw new Error('Invalid token');\n    }\n    try {\n        const base64WithUrlSafe = tokenParts[1];\n        const base64 = base64WithUrlSafe.replace(/-/g, '+').replace(/_/g, '/');\n        const jsonStr = decodeURIComponent(base64Decoder\n            .convert(base64)\n            .split('')\n            .map(char => `%${`00${char.charCodeAt(0).toString(16)}`.slice(-2)}`)\n            .join(''));\n        const payload = JSON.parse(jsonStr);\n        return {\n            toString: () => token,\n            payload,\n        };\n    }\n    catch (err) {\n        throw new Error('Invalid token payload');\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyError, } from '@aws-amplify/core/internals/utils';\nexport class AuthError extends AmplifyError {\n    constructor(params) {\n        super(params);\n        // Hack for making the custom error class work when transpiled to es5\n        // TODO: Delete the following 2 lines after we change the build target to >= es2015\n        this.constructor = AuthError;\n        Object.setPrototypeOf(this, AuthError.prototype);\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AmplifyErrorCode, } from '@aws-amplify/core/internals/utils';\nimport { AuthError } from '../AuthError';\nexport function assertServiceError(error) {\n    if (!error ||\n        error.name === 'Error' ||\n        error instanceof TypeError) {\n        throw new AuthError({\n            name: AmplifyErrorCode.Unknown,\n            message: 'An unknown error has occurred.',\n            underlyingError: error,\n        });\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AuthError } from '../../errors/AuthError';\nexport function getRegionFromUserPoolId(userPoolId) {\n    const region = userPoolId?.split('_')[0];\n    if (!userPoolId ||\n        userPoolId.indexOf('_') < 0 ||\n        !region ||\n        typeof region !== 'string')\n        throw new AuthError({\n            name: 'InvalidUserPoolId',\n            message: 'Invalid user pool id provided.',\n        });\n    return region;\n}\nexport function getRegionFromIdentityPoolId(identityPoolId) {\n    if (!identityPoolId || !identityPoolId.includes(':')) {\n        throw new AuthError({\n            name: 'InvalidIdentityPoolIdException',\n            message: 'Invalid identity pool id provided.',\n            recoverySuggestion: 'Make sure a valid identityPoolId is given in the config.',\n        });\n    }\n    return identityPoolId.split(':')[0];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AuthError } from './AuthError';\nexport const USER_UNAUTHENTICATED_EXCEPTION = 'UserUnAuthenticatedException';\nexport const USER_ALREADY_AUTHENTICATED_EXCEPTION = 'UserAlreadyAuthenticatedException';\nexport const DEVICE_METADATA_NOT_FOUND_EXCEPTION = 'DeviceMetadataNotFoundException';\nexport const AUTO_SIGN_IN_EXCEPTION = 'AutoSignInException';\nexport const INVALID_REDIRECT_EXCEPTION = 'InvalidRedirectException';\nexport const INVALID_APP_SCHEME_EXCEPTION = 'InvalidAppSchemeException';\nexport const INVALID_PREFERRED_REDIRECT_EXCEPTION = 'InvalidPreferredRedirectUrlException';\nexport const invalidRedirectException = new AuthError({\n    name: INVALID_REDIRECT_EXCEPTION,\n    message: 'signInRedirect or signOutRedirect had an invalid format or was not found.',\n    recoverySuggestion: 'Please make sure the signIn/Out redirect in your oauth config is valid.',\n});\nexport const invalidAppSchemeException = new AuthError({\n    name: INVALID_APP_SCHEME_EXCEPTION,\n    message: 'A valid non-http app scheme was not found in the config.',\n    recoverySuggestion: 'Please make sure a valid custom app scheme is present in the config.',\n});\nexport const invalidPreferredRedirectUrlException = new AuthError({\n    name: INVALID_PREFERRED_REDIRECT_EXCEPTION,\n    message: 'The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.',\n    recoverySuggestion: 'Please make sure a matching preferredRedirectUrl is provided.',\n});\nexport const INVALID_ORIGIN_EXCEPTION = 'InvalidOriginException';\nexport const invalidOriginException = new AuthError({\n    name: INVALID_ORIGIN_EXCEPTION,\n    message: 'redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin',\n    recoverySuggestion: 'Please call signInWithRedirect from the same origin.',\n});\nexport const OAUTH_SIGNOUT_EXCEPTION = 'OAuthSignOutException';\nexport const TOKEN_REFRESH_EXCEPTION = 'TokenRefreshException';\nexport const UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION = 'UnexpectedSignInInterruptionException';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AuthError } from '../../../errors/AuthError';\nimport { DEVICE_METADATA_NOT_FOUND_EXCEPTION, TOKEN_REFRESH_EXCEPTION, USER_UNAUTHENTICATED_EXCEPTION, } from '../../../errors/constants';\nexport function isTypeUserPoolConfig(authConfig) {\n    if (authConfig &&\n        authConfig.Cognito.userPoolId &&\n        authConfig.Cognito.userPoolClientId) {\n        return true;\n    }\n    return false;\n}\nexport function assertAuthTokens(tokens) {\n    if (!tokens || !tokens.accessToken) {\n        throw new AuthError({\n            name: USER_UNAUTHENTICATED_EXCEPTION,\n            message: 'User needs to be authenticated to call this API.',\n            recoverySuggestion: 'Sign in before calling this API again.',\n        });\n    }\n}\nexport function assertIdTokenInAuthTokens(tokens) {\n    if (!tokens || !tokens.idToken) {\n        throw new AuthError({\n            name: USER_UNAUTHENTICATED_EXCEPTION,\n            message: 'User needs to be authenticated to call this API.',\n            recoverySuggestion: 'Sign in before calling this API again.',\n        });\n    }\n}\nexport const oAuthTokenRefreshException = new AuthError({\n    name: TOKEN_REFRESH_EXCEPTION,\n    message: `Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.`,\n    recoverySuggestion: `Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }`,\n});\nexport const tokenRefreshException = new AuthError({\n    name: USER_UNAUTHENTICATED_EXCEPTION,\n    message: 'User needs to be authenticated to call this API.',\n    recoverySuggestion: 'Sign in before calling this API again.',\n});\nexport function assertAuthTokensWithRefreshToken(tokens) {\n    if (isAuthenticatedWithImplicitOauthFlow(tokens)) {\n        throw oAuthTokenRefreshException;\n    }\n    if (!isAuthenticatedWithRefreshToken(tokens)) {\n        throw tokenRefreshException;\n    }\n}\nexport function assertDeviceMetadata(deviceMetadata) {\n    if (!deviceMetadata ||\n        !deviceMetadata.deviceKey ||\n        !deviceMetadata.deviceGroupKey ||\n        !deviceMetadata.randomPassword) {\n        throw new AuthError({\n            name: DEVICE_METADATA_NOT_FOUND_EXCEPTION,\n            message: 'Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.',\n            recoverySuggestion: 'Make sure to not clear storage after calling the signIn API.',\n        });\n    }\n}\nexport const OAuthStorageKeys = {\n    inflightOAuth: 'inflightOAuth',\n    oauthSignIn: 'oauthSignIn',\n    oauthPKCE: 'oauthPKCE',\n    oauthState: 'oauthState',\n};\nfunction isAuthenticated(tokens) {\n    return tokens?.accessToken || tokens?.idToken;\n}\nfunction isAuthenticatedWithRefreshToken(tokens) {\n    return isAuthenticated(tokens) && tokens?.refreshToken;\n}\nfunction isAuthenticatedWithImplicitOauthFlow(tokens) {\n    return isAuthenticated(tokens) && !tokens?.refreshToken;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseJsonBody, parseJsonError, parseMetadata, } from '../../clients';\nimport { composeServiceApi } from '../../clients/internal';\nimport { buildHttpRpcRequest, cognitoIdentityTransferHandler, defaultConfig, getSharedHeaders, } from './base';\nconst getIdSerializer = (input, endpoint) => {\n    const headers = getSharedHeaders('GetId');\n    const body = JSON.stringify(input);\n    return buildHttpRpcRequest(endpoint, headers, body);\n};\nconst getIdDeserializer = async (response) => {\n    if (response.statusCode >= 300) {\n        const error = await parseJsonError(response);\n        throw error;\n    }\n    else {\n        const body = await parseJsonBody(response);\n        return {\n            IdentityId: body.IdentityId,\n            $metadata: parseMetadata(response),\n        };\n    }\n};\n/**\n * @internal\n */\nexport const getId = composeServiceApi(cognitoIdentityTransferHandler, getIdSerializer, getIdDeserializer, defaultConfig);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { decodeJWT } from '@aws-amplify/core/internals/utils';\nimport { AuthError } from '../../../errors/AuthError';\nexport function formLoginsMap(idToken) {\n    const issuer = decodeJWT(idToken).payload.iss;\n    const res = {};\n    if (!issuer) {\n        throw new AuthError({\n            name: 'InvalidIdTokenException',\n            message: 'Invalid Idtoken.',\n        });\n    }\n    const domainName = issuer.replace(/(^\\w+:|^)\\/\\//, '');\n    res[domainName] = idToken;\n    return res;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getId } from '@aws-amplify/core';\nimport { AuthError } from '../../../errors/AuthError';\nimport { assertServiceError } from '../../../errors/utils/assertServiceError';\nimport { getRegionFromIdentityPoolId } from '../../../foundation/parsers';\nimport { formLoginsMap } from './utils';\n/**\n * Provides a Cognito identityId\n *\n * @param tokens - The AuthTokens received after SignIn\n * @returns string\n * @throws configuration exceptions: `InvalidIdentityPoolIdException`\n *  - Auth errors that may arise from misconfiguration.\n * @throws service exceptions: {@link GetIdException }\n */\nexport async function cognitoIdentityIdProvider({ tokens, authConfig, identityIdStore, }) {\n    identityIdStore.setAuthConfig({ Cognito: authConfig });\n    // will return null only if there is no identityId cached or if there is an error retrieving it\n    const identityId = await identityIdStore.loadIdentityId();\n    if (identityId) {\n        return identityId.id;\n    }\n    const logins = tokens?.idToken\n        ? formLoginsMap(tokens.idToken.toString())\n        : {};\n    const generatedIdentityId = await generateIdentityId(logins, authConfig);\n    // Store generated identityId\n    identityIdStore.storeIdentityId({\n        id: generatedIdentityId,\n        type: tokens ? 'primary' : 'guest',\n    });\n    return generatedIdentityId;\n}\nasync function generateIdentityId(logins, authConfig) {\n    const identityPoolId = authConfig?.identityPoolId;\n    const region = getRegionFromIdentityPoolId(identityPoolId);\n    // IdentityId is absent so get it using IdentityPoolId with Cognito's GetId API\n    let idResult;\n    // for a first-time user, this will return a brand new identity\n    // for a returning user, this will retrieve the previous identity assocaited with the logins\n    try {\n        idResult = (await getId({\n            region,\n        }, {\n            IdentityPoolId: identityPoolId,\n            Logins: logins,\n        })).IdentityId;\n    }\n    catch (e) {\n        assertServiceError(e);\n        throw new AuthError(e);\n    }\n    if (!idResult) {\n        throw new AuthError({\n            name: 'GetIdResponseException',\n            message: 'Received undefined response from getId operation',\n            recoverySuggestion: 'Make sure to pass a valid identityPoolId in the configuration.',\n        });\n    }\n    return idResult;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger, getCredentialsForIdentity, } from '@aws-amplify/core';\nimport { assertIdentityPoolIdConfig, } from '@aws-amplify/core/internals/utils';\nimport { AuthError } from '../../../errors/AuthError';\nimport { assertServiceError } from '../../../errors/utils/assertServiceError';\nimport { getRegionFromIdentityPoolId } from '../../../foundation/parsers';\nimport { assertIdTokenInAuthTokens } from '../utils/types';\nimport { cognitoIdentityIdProvider } from './IdentityIdProvider';\nimport { formLoginsMap } from './utils';\nconst logger = new ConsoleLogger('CognitoCredentialsProvider');\nconst CREDENTIALS_TTL = 50 * 60 * 1000; // 50 min, can be modified on config if required in the future\nexport class CognitoAWSCredentialsAndIdentityIdProvider {\n    constructor(identityIdStore) {\n        this._nextCredentialsRefresh = 0;\n        this._identityIdStore = identityIdStore;\n    }\n    async clearCredentialsAndIdentityId() {\n        logger.debug('Clearing out credentials and identityId');\n        this._credentialsAndIdentityId = undefined;\n        await this._identityIdStore.clearIdentityId();\n    }\n    async clearCredentials() {\n        logger.debug('Clearing out in-memory credentials');\n        this._credentialsAndIdentityId = undefined;\n    }\n    async getCredentialsAndIdentityId(getCredentialsOptions) {\n        const isAuthenticated = getCredentialsOptions.authenticated;\n        const { tokens } = getCredentialsOptions;\n        const { authConfig } = getCredentialsOptions;\n        try {\n            assertIdentityPoolIdConfig(authConfig?.Cognito);\n        }\n        catch {\n            // No identity pool configured, skipping\n            return;\n        }\n        if (!isAuthenticated && !authConfig.Cognito.allowGuestAccess) {\n            // TODO(V6): return partial result like Native platforms\n            return;\n        }\n        const { forceRefresh } = getCredentialsOptions;\n        const tokenHasChanged = this.hasTokenChanged(tokens);\n        const identityId = await cognitoIdentityIdProvider({\n            tokens,\n            authConfig: authConfig.Cognito,\n            identityIdStore: this._identityIdStore,\n        });\n        // Clear cached credentials when forceRefresh is true OR the cache token has changed\n        if (forceRefresh || tokenHasChanged) {\n            this.clearCredentials();\n        }\n        if (!isAuthenticated) {\n            return this.getGuestCredentials(identityId, authConfig.Cognito);\n        }\n        else {\n            assertIdTokenInAuthTokens(tokens);\n            return this.credsForOIDCTokens(authConfig.Cognito, tokens, identityId);\n        }\n    }\n    async getGuestCredentials(identityId, authConfig) {\n        // Return existing in-memory cached credentials only if it exists, is not past it's lifetime and is unauthenticated credentials\n        if (this._credentialsAndIdentityId &&\n            !this.isPastTTL() &&\n            this._credentialsAndIdentityId.isAuthenticatedCreds === false) {\n            logger.info('returning stored credentials as they neither past TTL nor expired.');\n            return this._credentialsAndIdentityId;\n        }\n        // Clear to discard if any authenticated credentials are set and start with a clean slate\n        this.clearCredentials();\n        const region = getRegionFromIdentityPoolId(authConfig.identityPoolId);\n        // use identityId to obtain guest credentials\n        // save credentials in-memory\n        // No logins params should be passed for guest creds:\n        // https://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_GetCredentialsForIdentity.html\n        let clientResult;\n        try {\n            clientResult = await getCredentialsForIdentity({ region }, {\n                IdentityId: identityId,\n            });\n        }\n        catch (e) {\n            assertServiceError(e);\n            throw new AuthError(e);\n        }\n        if (clientResult?.Credentials?.AccessKeyId &&\n            clientResult?.Credentials?.SecretKey) {\n            this._nextCredentialsRefresh = new Date().getTime() + CREDENTIALS_TTL;\n            const res = {\n                credentials: {\n                    accessKeyId: clientResult.Credentials.AccessKeyId,\n                    secretAccessKey: clientResult.Credentials.SecretKey,\n                    sessionToken: clientResult.Credentials.SessionToken,\n                    expiration: clientResult.Credentials.Expiration,\n                },\n                identityId,\n            };\n            if (clientResult.IdentityId) {\n                res.identityId = clientResult.IdentityId;\n                this._identityIdStore.storeIdentityId({\n                    id: clientResult.IdentityId,\n                    type: 'guest',\n                });\n            }\n            this._credentialsAndIdentityId = {\n                ...res,\n                isAuthenticatedCreds: false,\n            };\n            return res;\n        }\n        else {\n            throw new AuthError({\n                name: 'CredentialsNotFoundException',\n                message: `Cognito did not respond with either Credentials, AccessKeyId or SecretKey.`,\n            });\n        }\n    }\n    async credsForOIDCTokens(authConfig, authTokens, identityId) {\n        if (this._credentialsAndIdentityId &&\n            !this.isPastTTL() &&\n            this._credentialsAndIdentityId.isAuthenticatedCreds === true) {\n            logger.debug('returning stored credentials as they neither past TTL nor expired.');\n            return this._credentialsAndIdentityId;\n        }\n        // Clear to discard if any unauthenticated credentials are set and start with a clean slate\n        this.clearCredentials();\n        const logins = authTokens.idToken\n            ? formLoginsMap(authTokens.idToken.toString())\n            : {};\n        const region = getRegionFromIdentityPoolId(authConfig.identityPoolId);\n        let clientResult;\n        try {\n            clientResult = await getCredentialsForIdentity({ region }, {\n                IdentityId: identityId,\n                Logins: logins,\n            });\n        }\n        catch (e) {\n            assertServiceError(e);\n            throw new AuthError(e);\n        }\n        if (clientResult?.Credentials?.AccessKeyId &&\n            clientResult?.Credentials?.SecretKey) {\n            this._nextCredentialsRefresh = new Date().getTime() + CREDENTIALS_TTL;\n            const res = {\n                credentials: {\n                    accessKeyId: clientResult.Credentials.AccessKeyId,\n                    secretAccessKey: clientResult.Credentials.SecretKey,\n                    sessionToken: clientResult.Credentials.SessionToken,\n                    expiration: clientResult.Credentials.Expiration,\n                },\n                identityId,\n            };\n            if (clientResult.IdentityId) {\n                res.identityId = clientResult.IdentityId;\n                // note: the following call removes guest identityId from the persistent store (localStorage)\n                this._identityIdStore.storeIdentityId({\n                    id: clientResult.IdentityId,\n                    type: 'primary',\n                });\n            }\n            // Store the credentials in-memory along with the expiration\n            this._credentialsAndIdentityId = {\n                ...res,\n                isAuthenticatedCreds: true,\n                associatedIdToken: authTokens.idToken?.toString(),\n            };\n            return res;\n        }\n        else {\n            throw new AuthError({\n                name: 'CredentialsException',\n                message: `Cognito did not respond with either Credentials, AccessKeyId or SecretKey.`,\n            });\n        }\n    }\n    isPastTTL() {\n        return this._nextCredentialsRefresh === undefined\n            ? true\n            : this._nextCredentialsRefresh <= Date.now();\n    }\n    hasTokenChanged(tokens) {\n        return (!!tokens &&\n            !!this._credentialsAndIdentityId?.associatedIdToken &&\n            tokens.idToken?.toString() !==\n                this._credentialsAndIdentityId.associatedIdToken);\n    }\n}\n","export const AuthTokenStorageKeys = {\n    accessToken: 'accessToken',\n    idToken: 'idToken',\n    oidcProvider: 'oidcProvider',\n    clockDrift: 'clockDrift',\n    refreshToken: 'refreshToken',\n    deviceKey: 'deviceKey',\n    randomPasswordKey: 'randomPasswordKey',\n    deviceGroupKey: 'deviceGroupKey',\n    signInDetails: 'signInDetails',\n    oauthMetadata: 'oauthMetadata',\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { createAssertionFunction, } from '@aws-amplify/core/internals/utils';\nexport var TokenProviderErrorCode;\n(function (TokenProviderErrorCode) {\n    TokenProviderErrorCode[\"InvalidAuthTokens\"] = \"InvalidAuthTokens\";\n})(TokenProviderErrorCode || (TokenProviderErrorCode = {}));\nconst tokenValidationErrorMap = {\n    [TokenProviderErrorCode.InvalidAuthTokens]: {\n        message: 'Invalid tokens.',\n        recoverySuggestion: 'Make sure the tokens are valid.',\n    },\n};\nexport const assert = createAssertionFunction(tokenValidationErrorMap);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const AUTH_KEY_PREFIX = 'CognitoIdentityServiceProvider';\n","import { assertTokenProviderConfig, decodeJWT, } from '@aws-amplify/core/internals/utils';\nimport { AuthError } from '../../../errors/AuthError';\nimport { AuthTokenStorageKeys, } from './types';\nimport { TokenProviderErrorCode, assert } from './errorHelpers';\nimport { AUTH_KEY_PREFIX } from './constants';\nexport class DefaultTokenStore {\n    getKeyValueStorage() {\n        if (!this.keyValueStorage) {\n            throw new AuthError({\n                name: 'KeyValueStorageNotFoundException',\n                message: 'KeyValueStorage was not found in TokenStore',\n            });\n        }\n        return this.keyValueStorage;\n    }\n    setKeyValueStorage(keyValueStorage) {\n        this.keyValueStorage = keyValueStorage;\n    }\n    setAuthConfig(authConfig) {\n        this.authConfig = authConfig;\n    }\n    async loadTokens() {\n        // TODO(v6): migration logic should be here\n        // Reading V5 tokens old format\n        try {\n            const authKeys = await this.getAuthKeys();\n            const accessTokenString = await this.getKeyValueStorage().getItem(authKeys.accessToken);\n            if (!accessTokenString) {\n                throw new AuthError({\n                    name: 'NoSessionFoundException',\n                    message: 'Auth session was not found. Make sure to call signIn.',\n                });\n            }\n            const accessToken = decodeJWT(accessTokenString);\n            const itString = await this.getKeyValueStorage().getItem(authKeys.idToken);\n            const idToken = itString ? decodeJWT(itString) : undefined;\n            const refreshToken = (await this.getKeyValueStorage().getItem(authKeys.refreshToken)) ??\n                undefined;\n            const clockDriftString = (await this.getKeyValueStorage().getItem(authKeys.clockDrift)) ?? '0';\n            const clockDrift = Number.parseInt(clockDriftString);\n            const signInDetails = await this.getKeyValueStorage().getItem(authKeys.signInDetails);\n            const tokens = {\n                accessToken,\n                idToken,\n                refreshToken,\n                deviceMetadata: (await this.getDeviceMetadata()) ?? undefined,\n                clockDrift,\n                username: await this.getLastAuthUser(),\n            };\n            if (signInDetails) {\n                tokens.signInDetails = JSON.parse(signInDetails);\n            }\n            return tokens;\n        }\n        catch (err) {\n            return null;\n        }\n    }\n    async storeTokens(tokens) {\n        assert(tokens !== undefined, TokenProviderErrorCode.InvalidAuthTokens);\n        const lastAuthUser = tokens.username;\n        await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(), lastAuthUser);\n        const authKeys = await this.getAuthKeys();\n        await this.getKeyValueStorage().setItem(authKeys.accessToken, tokens.accessToken.toString());\n        if (tokens.idToken) {\n            await this.getKeyValueStorage().setItem(authKeys.idToken, tokens.idToken.toString());\n        }\n        else {\n            await this.getKeyValueStorage().removeItem(authKeys.idToken);\n        }\n        if (tokens.refreshToken) {\n            await this.getKeyValueStorage().setItem(authKeys.refreshToken, tokens.refreshToken);\n        }\n        else {\n            await this.getKeyValueStorage().removeItem(authKeys.refreshToken);\n        }\n        if (tokens.deviceMetadata) {\n            if (tokens.deviceMetadata.deviceKey) {\n                await this.getKeyValueStorage().setItem(authKeys.deviceKey, tokens.deviceMetadata.deviceKey);\n            }\n            if (tokens.deviceMetadata.deviceGroupKey) {\n                await this.getKeyValueStorage().setItem(authKeys.deviceGroupKey, tokens.deviceMetadata.deviceGroupKey);\n            }\n            await this.getKeyValueStorage().setItem(authKeys.randomPasswordKey, tokens.deviceMetadata.randomPassword);\n        }\n        if (tokens.signInDetails) {\n            await this.getKeyValueStorage().setItem(authKeys.signInDetails, JSON.stringify(tokens.signInDetails));\n        }\n        else {\n            await this.getKeyValueStorage().removeItem(authKeys.signInDetails);\n        }\n        await this.getKeyValueStorage().setItem(authKeys.clockDrift, `${tokens.clockDrift}`);\n    }\n    async clearTokens() {\n        const authKeys = await this.getAuthKeys();\n        // Not calling clear because it can remove data that is not managed by AuthTokenStore\n        await Promise.all([\n            this.getKeyValueStorage().removeItem(authKeys.accessToken),\n            this.getKeyValueStorage().removeItem(authKeys.idToken),\n            this.getKeyValueStorage().removeItem(authKeys.clockDrift),\n            this.getKeyValueStorage().removeItem(authKeys.refreshToken),\n            this.getKeyValueStorage().removeItem(authKeys.signInDetails),\n            this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),\n            this.getKeyValueStorage().removeItem(authKeys.oauthMetadata),\n        ]);\n    }\n    async getDeviceMetadata(username) {\n        const authKeys = await this.getAuthKeys(username);\n        const deviceKey = await this.getKeyValueStorage().getItem(authKeys.deviceKey);\n        const deviceGroupKey = await this.getKeyValueStorage().getItem(authKeys.deviceGroupKey);\n        const randomPassword = await this.getKeyValueStorage().getItem(authKeys.randomPasswordKey);\n        return randomPassword && deviceGroupKey && deviceKey\n            ? {\n                deviceKey,\n                deviceGroupKey,\n                randomPassword,\n            }\n            : null;\n    }\n    async clearDeviceMetadata(username) {\n        const authKeys = await this.getAuthKeys(username);\n        await Promise.all([\n            this.getKeyValueStorage().removeItem(authKeys.deviceKey),\n            this.getKeyValueStorage().removeItem(authKeys.deviceGroupKey),\n            this.getKeyValueStorage().removeItem(authKeys.randomPasswordKey),\n        ]);\n    }\n    async getAuthKeys(username) {\n        assertTokenProviderConfig(this.authConfig?.Cognito);\n        const lastAuthUser = username ?? (await this.getLastAuthUser());\n        return createKeysForAuthStorage(AUTH_KEY_PREFIX, `${this.authConfig.Cognito.userPoolClientId}.${lastAuthUser}`);\n    }\n    getLastAuthUserKey() {\n        assertTokenProviderConfig(this.authConfig?.Cognito);\n        const identifier = this.authConfig.Cognito.userPoolClientId;\n        return `${AUTH_KEY_PREFIX}.${identifier}.LastAuthUser`;\n    }\n    async getLastAuthUser() {\n        const lastAuthUser = (await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())) ??\n            'username';\n        return lastAuthUser;\n    }\n    async setOAuthMetadata(metadata) {\n        const { oauthMetadata: oauthMetadataKey } = await this.getAuthKeys();\n        await this.getKeyValueStorage().setItem(oauthMetadataKey, JSON.stringify(metadata));\n    }\n    async getOAuthMetadata() {\n        const { oauthMetadata: oauthMetadataKey } = await this.getAuthKeys();\n        const oauthMetadata = await this.getKeyValueStorage().getItem(oauthMetadataKey);\n        return oauthMetadata && JSON.parse(oauthMetadata);\n    }\n}\nexport const createKeysForAuthStorage = (provider, identifier) => {\n    return getAuthStorageKeys(AuthTokenStorageKeys)(`${provider}`, identifier);\n};\nexport function getAuthStorageKeys(authKeys) {\n    const keys = Object.values({ ...authKeys });\n    return (prefix, identifier) => keys.reduce((acc, authKey) => ({\n        ...acc,\n        [authKey]: `${prefix}.${identifier}.${authKey}`,\n    }), {});\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const IdentityIdStorageKeys = {\n    identityId: 'identityId',\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger, } from '@aws-amplify/core';\nimport { assertIdentityPoolIdConfig } from '@aws-amplify/core/internals/utils';\nimport { getAuthStorageKeys } from '../tokenProvider/TokenStore';\nimport { IdentityIdStorageKeys } from './types';\nconst logger = new ConsoleLogger('DefaultIdentityIdStore');\nexport class DefaultIdentityIdStore {\n    setAuthConfig(authConfigParam) {\n        assertIdentityPoolIdConfig(authConfigParam.Cognito);\n        this.authConfig = authConfigParam;\n        this._authKeys = createKeysForAuthStorage('Cognito', authConfigParam.Cognito.identityPoolId);\n    }\n    constructor(keyValueStorage) {\n        this._authKeys = {};\n        this._hasGuestIdentityId = false;\n        this.keyValueStorage = keyValueStorage;\n    }\n    async loadIdentityId() {\n        assertIdentityPoolIdConfig(this.authConfig?.Cognito);\n        try {\n            if (this._primaryIdentityId) {\n                return {\n                    id: this._primaryIdentityId,\n                    type: 'primary',\n                };\n            }\n            else {\n                const storedIdentityId = await this.keyValueStorage.getItem(this._authKeys.identityId);\n                if (storedIdentityId) {\n                    this._hasGuestIdentityId = true;\n                    return {\n                        id: storedIdentityId,\n                        type: 'guest',\n                    };\n                }\n                return null;\n            }\n        }\n        catch (err) {\n            logger.log('Error getting stored IdentityId.', err);\n            return null;\n        }\n    }\n    async storeIdentityId(identity) {\n        assertIdentityPoolIdConfig(this.authConfig?.Cognito);\n        if (identity.type === 'guest') {\n            this.keyValueStorage.setItem(this._authKeys.identityId, identity.id);\n            // Clear in-memory storage of primary identityId\n            this._primaryIdentityId = undefined;\n            this._hasGuestIdentityId = true;\n        }\n        else {\n            this._primaryIdentityId = identity.id;\n            // Clear locally stored guest id\n            if (this._hasGuestIdentityId) {\n                this.keyValueStorage.removeItem(this._authKeys.identityId);\n                this._hasGuestIdentityId = false;\n            }\n        }\n    }\n    async clearIdentityId() {\n        this._primaryIdentityId = undefined;\n        await this.keyValueStorage.removeItem(this._authKeys.identityId);\n    }\n}\nconst createKeysForAuthStorage = (provider, identifier) => {\n    return getAuthStorageKeys(IdentityIdStorageKeys)(`com.amplify.${provider}`, identifier);\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { defaultStorage } from '@aws-amplify/core';\nimport { DefaultIdentityIdStore } from './IdentityIdStore';\nimport { CognitoAWSCredentialsAndIdentityIdProvider } from './credentialsProvider';\n/**\n * Cognito specific implmentation of the CredentialsProvider interface\n * that manages setting and getting of AWS Credentials.\n *\n * @throws configuration expections: `InvalidIdentityPoolIdException`\n *  - Auth errors that may arise from misconfiguration.\n * @throws service expections: {@link GetCredentialsForIdentityException}, {@link GetIdException}\n *\n */\nexport const cognitoCredentialsProvider = new CognitoAWSCredentialsAndIdentityIdProvider(new DefaultIdentityIdStore(defaultStorage));\nexport { CognitoAWSCredentialsAndIdentityIdProvider, DefaultIdentityIdStore };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const createUserPoolSerializer = (operation) => (input, endpoint) => {\n    const headers = getSharedHeaders(operation);\n    const body = JSON.stringify(input);\n    return buildHttpRpcRequest(endpoint, headers, body);\n};\nconst getSharedHeaders = (operation) => ({\n    'content-type': 'application/x-amz-json-1.1',\n    'x-amz-target': `AWSCognitoIdentityProviderService.${operation}`,\n});\nconst buildHttpRpcRequest = ({ url }, headers, body) => ({\n    headers,\n    url,\n    body,\n    method: 'POST',\n});\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { composeTransferHandler } from '@aws-amplify/core/internals/aws-client-utils/composers';\nimport { unauthenticatedHandler, } from '@aws-amplify/core/internals/aws-client-utils';\n/**\n * A Cognito Identity-specific middleware that disables caching for all requests.\n */\nconst disableCacheMiddlewareFactory = () => (next, _) => async function disableCacheMiddleware(request) {\n    request.headers['cache-control'] = 'no-store';\n    return next(request);\n};\n/**\n * A Cognito Identity-specific transfer handler that does NOT sign requests, and\n * disables caching.\n *\n * @internal\n */\nexport const cognitoUserPoolTransferHandler = composeTransferHandler(unauthenticatedHandler, [disableCacheMiddlewareFactory]);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * The service name used to sign requests if the API requires authentication.\n */\nexport const COGNITO_IDP_SERVICE_NAME = 'cognito-idp';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getRetryDecider, jitteredBackoff, parseJsonError, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { getAmplifyUserAgent } from '@aws-amplify/core/internals/utils';\nimport { COGNITO_IDP_SERVICE_NAME } from '../../../constants';\nexport const DEFAULT_SERVICE_CLIENT_API_CONFIG = {\n    service: COGNITO_IDP_SERVICE_NAME,\n    retryDecider: getRetryDecider(parseJsonError),\n    computeDelay: jitteredBackoff,\n    userAgentValue: getAmplifyUserAgent(),\n    cache: 'no-store',\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { composeServiceApi } from '@aws-amplify/core/internals/aws-client-utils/composers';\nimport { createUserPoolDeserializer, createUserPoolSerializer, } from './shared/serde';\nimport { cognitoUserPoolTransferHandler } from './shared/handler';\nimport { DEFAULT_SERVICE_CLIENT_API_CONFIG } from './constants';\nexport const createInitiateAuthClient = (config) => composeServiceApi(cognitoUserPoolTransferHandler, createUserPoolSerializer('InitiateAuth'), createUserPoolDeserializer(), {\n    ...DEFAULT_SERVICE_CLIENT_API_CONFIG,\n    ...config,\n});\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseJsonBody, parseJsonError, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { assertServiceError } from '../../../../../../errors/utils/assertServiceError';\nimport { AuthError } from '../../../../../../errors/AuthError';\nexport const createUserPoolDeserializer = () => async (response) => {\n    if (response.statusCode >= 300) {\n        const error = await parseJsonError(response);\n        assertServiceError(error);\n        throw new AuthError({\n            name: error.name,\n            message: error.message,\n            metadata: error.$metadata,\n        });\n    }\n    return parseJsonBody(response);\n};\n","import { AmplifyUrl } from '@aws-amplify/core/internals/utils';\nimport { cognitoUserPoolEndpointResolver } from '../../../foundation/cognitoUserPoolEndpointResolver';\nexport const createCognitoUserPoolEndpointResolver = ({ endpointOverride }) => (input) => {\n    if (endpointOverride) {\n        return { url: new AmplifyUrl(endpointOverride) };\n    }\n    return cognitoUserPoolEndpointResolver(input);\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getDnsSuffix, } from '@aws-amplify/core/internals/aws-client-utils';\nimport { AmplifyUrl } from '@aws-amplify/core/internals/utils';\nimport { COGNITO_IDP_SERVICE_NAME } from './constants';\nexport const cognitoUserPoolEndpointResolver = ({ region, }) => ({\n    url: new AmplifyUrl(`https://${COGNITO_IDP_SERVICE_NAME}.${region}.${getDnsSuffix(region)}`),\n});\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { assertTokenProviderConfig, deDupeAsyncFunction, decodeJWT, } from '@aws-amplify/core/internals/utils';\nimport { getRegionFromUserPoolId } from '../../../foundation/parsers';\nimport { assertAuthTokensWithRefreshToken } from '../utils/types';\nimport { AuthError } from '../../../errors/AuthError';\nimport { createInitiateAuthClient } from '../../../foundation/factories/serviceClients/cognitoIdentityProvider';\nimport { createCognitoUserPoolEndpointResolver } from '../factories';\nimport { getUserContextData } from './userContextData';\nconst refreshAuthTokensFunction = async ({ tokens, authConfig, username, }) => {\n    assertTokenProviderConfig(authConfig?.Cognito);\n    const { userPoolId, userPoolClientId, userPoolEndpoint } = authConfig.Cognito;\n    const region = getRegionFromUserPoolId(userPoolId);\n    assertAuthTokensWithRefreshToken(tokens);\n    const refreshTokenString = tokens.refreshToken;\n    const AuthParameters = {\n        REFRESH_TOKEN: refreshTokenString,\n    };\n    if (tokens.deviceMetadata?.deviceKey) {\n        AuthParameters.DEVICE_KEY = tokens.deviceMetadata.deviceKey;\n    }\n    const UserContextData = getUserContextData({\n        username,\n        userPoolId,\n        userPoolClientId,\n    });\n    const initiateAuth = createInitiateAuthClient({\n        endpointResolver: createCognitoUserPoolEndpointResolver({\n            endpointOverride: userPoolEndpoint,\n        }),\n    });\n    const { AuthenticationResult } = await initiateAuth({ region }, {\n        ClientId: userPoolClientId,\n        AuthFlow: 'REFRESH_TOKEN_AUTH',\n        AuthParameters,\n        UserContextData,\n    });\n    const accessToken = decodeJWT(AuthenticationResult?.AccessToken ?? '');\n    const idToken = AuthenticationResult?.IdToken\n        ? decodeJWT(AuthenticationResult.IdToken)\n        : undefined;\n    const { iat } = accessToken.payload;\n    // This should never happen. If it does, it's a bug from the service.\n    if (!iat) {\n        throw new AuthError({\n            name: 'iatNotFoundException',\n            message: 'iat not found in access token',\n        });\n    }\n    const clockDrift = iat * 1000 - new Date().getTime();\n    return {\n        accessToken,\n        idToken,\n        clockDrift,\n        refreshToken: refreshTokenString,\n        username,\n    };\n};\nexport const refreshAuthTokens = deDupeAsyncFunction(refreshAuthTokensFunction);\nexport const refreshAuthTokensWithoutDedupe = refreshAuthTokensFunction;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function getUserContextData({ username, userPoolId, userPoolClientId, }) {\n    if (typeof window === 'undefined') {\n        return undefined;\n    }\n    const amazonCognitoAdvancedSecurityData = window\n        .AmazonCognitoAdvancedSecurityData;\n    if (typeof amazonCognitoAdvancedSecurityData === 'undefined') {\n        return undefined;\n    }\n    const advancedSecurityData = amazonCognitoAdvancedSecurityData.getData(username, userPoolId, userPoolClientId);\n    if (advancedSecurityData) {\n        const userContextData = {\n            EncodedData: advancedSecurityData,\n        };\n        return userContextData;\n    }\n    return {};\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * returns in-flight promise if there is one\n *\n * @param asyncFunction - asyncFunction to be deduped.\n * @returns - the return type of the callback\n */\nexport const deDupeAsyncFunction = (asyncFunction) => {\n    let inflightPromise;\n    return async (...args) => {\n        if (inflightPromise)\n            return inflightPromise;\n        inflightPromise = new Promise((resolve, reject) => {\n            asyncFunction(...args)\n                .then(result => {\n                resolve(result);\n            })\n                .catch(error => {\n                reject(error);\n            })\n                .finally(() => {\n                inflightPromise = undefined;\n            });\n        });\n        return inflightPromise;\n    };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function isTokenExpired({ expiresAt, clockDrift, tolerance = 5000, }) {\n    const currentTime = Date.now();\n    return currentTime + clockDrift + tolerance > expiresAt;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { assertTokenProviderConfig } from '@aws-amplify/core/internals/utils';\nimport { getAuthStorageKeys } from '../tokenProvider/TokenStore';\nimport { OAuthStorageKeys } from './types';\nconst V5_HOSTED_UI_KEY = 'amplify-signin-with-hostedUI';\nconst name = 'CognitoIdentityServiceProvider';\nexport class DefaultOAuthStore {\n    constructor(keyValueStorage) {\n        this.keyValueStorage = keyValueStorage;\n    }\n    async clearOAuthInflightData() {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        await Promise.all([\n            this.keyValueStorage.removeItem(authKeys.inflightOAuth),\n            this.keyValueStorage.removeItem(authKeys.oauthPKCE),\n            this.keyValueStorage.removeItem(authKeys.oauthState),\n        ]);\n    }\n    async clearOAuthData() {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        await this.clearOAuthInflightData();\n        await this.keyValueStorage.removeItem(V5_HOSTED_UI_KEY); // remove in case a customer migrated an App from v5 to v6\n        return this.keyValueStorage.removeItem(authKeys.oauthSignIn);\n    }\n    loadOAuthState() {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        return this.keyValueStorage.getItem(authKeys.oauthState);\n    }\n    storeOAuthState(state) {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        return this.keyValueStorage.setItem(authKeys.oauthState, state);\n    }\n    loadPKCE() {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        return this.keyValueStorage.getItem(authKeys.oauthPKCE);\n    }\n    storePKCE(pkce) {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        return this.keyValueStorage.setItem(authKeys.oauthPKCE, pkce);\n    }\n    setAuthConfig(authConfigParam) {\n        this.cognitoConfig = authConfigParam;\n    }\n    async loadOAuthInFlight() {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        return ((await this.keyValueStorage.getItem(authKeys.inflightOAuth)) === 'true');\n    }\n    async storeOAuthInFlight(inflight) {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        await this.keyValueStorage.setItem(authKeys.inflightOAuth, `${inflight}`);\n    }\n    async loadOAuthSignIn() {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        const isLegacyHostedUISignIn = await this.keyValueStorage.getItem(V5_HOSTED_UI_KEY);\n        const [isOAuthSignIn, preferPrivateSession] = (await this.keyValueStorage.getItem(authKeys.oauthSignIn))?.split(',') ??\n            [];\n        return {\n            isOAuthSignIn: isOAuthSignIn === 'true' || isLegacyHostedUISignIn === 'true',\n            preferPrivateSession: preferPrivateSession === 'true',\n        };\n    }\n    async storeOAuthSignIn(oauthSignIn, preferPrivateSession = false) {\n        assertTokenProviderConfig(this.cognitoConfig);\n        const authKeys = createKeysForAuthStorage(name, this.cognitoConfig.userPoolClientId);\n        await this.keyValueStorage.setItem(authKeys.oauthSignIn, `${oauthSignIn},${preferPrivateSession}`);\n    }\n}\nconst createKeysForAuthStorage = (provider, identifier) => {\n    return getAuthStorageKeys(OAuthStorageKeys)(provider, identifier);\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { defaultStorage } from '@aws-amplify/core';\nimport { DefaultOAuthStore } from '../signInWithRedirectStore';\nexport const oAuthStore = new DefaultOAuthStore(defaultStorage);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst inflightPromises = [];\nexport const addInflightPromise = (resolver) => {\n    inflightPromises.push(resolver);\n};\nexport const resolveAndClearInflightPromises = () => {\n    while (inflightPromises.length) {\n        inflightPromises.pop()?.();\n    }\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Hub, } from '@aws-amplify/core';\nimport { AMPLIFY_SYMBOL, AmplifyErrorCode, assertTokenProviderConfig, isBrowser, isTokenExpired, } from '@aws-amplify/core/internals/utils';\nimport { assertServiceError } from '../../../errors/utils/assertServiceError';\nimport { AuthError } from '../../../errors/AuthError';\nimport { oAuthStore } from '../utils/oauth/oAuthStore';\nimport { addInflightPromise } from '../utils/oauth/inflightPromise';\nexport class TokenOrchestrator {\n    constructor() {\n        this.waitForInflightOAuth = isBrowser()\n            ? async () => {\n                if (!(await oAuthStore.loadOAuthInFlight())) {\n                    return;\n                }\n                if (this.inflightPromise) {\n                    return this.inflightPromise;\n                }\n                // when there is valid oauth config and there is an inflight oauth flow, try\n                // to block async calls that require fetching tokens before the oauth flow completes\n                // e.g. getCurrentUser, fetchAuthSession etc.\n                this.inflightPromise = new Promise((resolve, _reject) => {\n                    addInflightPromise(resolve);\n                });\n                return this.inflightPromise;\n            }\n            : async () => {\n                // no-op for non-browser environments\n            };\n    }\n    setAuthConfig(authConfig) {\n        oAuthStore.setAuthConfig(authConfig.Cognito);\n        this.authConfig = authConfig;\n    }\n    setTokenRefresher(tokenRefresher) {\n        this.tokenRefresher = tokenRefresher;\n    }\n    setAuthTokenStore(tokenStore) {\n        this.tokenStore = tokenStore;\n    }\n    getTokenStore() {\n        if (!this.tokenStore) {\n            throw new AuthError({\n                name: 'EmptyTokenStoreException',\n                message: 'TokenStore not set',\n            });\n        }\n        return this.tokenStore;\n    }\n    getTokenRefresher() {\n        if (!this.tokenRefresher) {\n            throw new AuthError({\n                name: 'EmptyTokenRefresherException',\n                message: 'TokenRefresher not set',\n            });\n        }\n        return this.tokenRefresher;\n    }\n    async getTokens(options) {\n        let tokens;\n        try {\n            assertTokenProviderConfig(this.authConfig?.Cognito);\n        }\n        catch (_err) {\n            // Token provider not configured\n            return null;\n        }\n        await this.waitForInflightOAuth();\n        this.inflightPromise = undefined;\n        tokens = await this.getTokenStore().loadTokens();\n        const username = await this.getTokenStore().getLastAuthUser();\n        if (tokens === null) {\n            return null;\n        }\n        const idTokenExpired = !!tokens?.idToken &&\n            isTokenExpired({\n                expiresAt: (tokens.idToken?.payload?.exp ?? 0) * 1000,\n                clockDrift: tokens.clockDrift ?? 0,\n            });\n        const accessTokenExpired = isTokenExpired({\n            expiresAt: (tokens.accessToken?.payload?.exp ?? 0) * 1000,\n            clockDrift: tokens.clockDrift ?? 0,\n        });\n        if (options?.forceRefresh || idTokenExpired || accessTokenExpired) {\n            tokens = await this.refreshTokens({\n                tokens,\n                username,\n            });\n            if (tokens === null) {\n                return null;\n            }\n        }\n        return {\n            accessToken: tokens?.accessToken,\n            idToken: tokens?.idToken,\n            signInDetails: tokens?.signInDetails,\n        };\n    }\n    async refreshTokens({ tokens, username, }) {\n        try {\n            const { signInDetails } = tokens;\n            const newTokens = await this.getTokenRefresher()({\n                tokens,\n                authConfig: this.authConfig,\n                username,\n            });\n            newTokens.signInDetails = signInDetails;\n            await this.setTokens({ tokens: newTokens });\n            Hub.dispatch('auth', { event: 'tokenRefresh' }, 'Auth', AMPLIFY_SYMBOL);\n            return newTokens;\n        }\n        catch (err) {\n            return this.handleErrors(err);\n        }\n    }\n    handleErrors(err) {\n        assertServiceError(err);\n        if (err.name !== AmplifyErrorCode.NetworkError) {\n            // TODO(v6): Check errors on client\n            this.clearTokens();\n        }\n        Hub.dispatch('auth', {\n            event: 'tokenRefresh_failure',\n            data: { error: err },\n        }, 'Auth', AMPLIFY_SYMBOL);\n        if (err.name.startsWith('NotAuthorizedException')) {\n            return null;\n        }\n        throw err;\n    }\n    async setTokens({ tokens }) {\n        return this.getTokenStore().storeTokens(tokens);\n    }\n    async clearTokens() {\n        return this.getTokenStore().clearTokens();\n    }\n    getDeviceMetadata(username) {\n        return this.getTokenStore().getDeviceMetadata(username);\n    }\n    clearDeviceMetadata(username) {\n        return this.getTokenStore().clearDeviceMetadata(username);\n    }\n    setOAuthMetadata(metadata) {\n        return this.getTokenStore().setOAuthMetadata(metadata);\n    }\n    getOAuthMetadata() {\n        return this.getTokenStore().getOAuthMetadata();\n    }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const isBrowser = () => typeof window !== 'undefined' && typeof window.document !== 'undefined';\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { CognitoUserPoolsTokenProvider } from './CognitoUserPoolsTokenProvider';\n/**\n * The default provider for the JWT access token and ID token issued from the configured Cognito user pool. It manages\n * the refresh and storage of the tokens. It stores the tokens in `window.localStorage` if available, and falls back to\n * in-memory storage if not.\n */\nexport const cognitoUserPoolsTokenProvider = new CognitoUserPoolsTokenProvider();\nexport const { tokenOrchestrator } = cognitoUserPoolsTokenProvider;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { defaultStorage, } from '@aws-amplify/core';\nimport { refreshAuthTokens } from '../utils/refreshAuthTokens';\nimport { DefaultTokenStore } from './TokenStore';\nimport { TokenOrchestrator } from './TokenOrchestrator';\nexport class CognitoUserPoolsTokenProvider {\n    constructor() {\n        this.authTokenStore = new DefaultTokenStore();\n        this.authTokenStore.setKeyValueStorage(defaultStorage);\n        this.tokenOrchestrator = new TokenOrchestrator();\n        this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore);\n        this.tokenOrchestrator.setTokenRefresher(refreshAuthTokens);\n    }\n    getTokens({ forceRefresh } = { forceRefresh: false }) {\n        return this.tokenOrchestrator.getTokens({ forceRefresh });\n    }\n    setKeyValueStorage(keyValueStorage) {\n        this.authTokenStore.setKeyValueStorage(keyValueStorage);\n    }\n    setAuthConfig(authConfig) {\n        this.authTokenStore.setAuthConfig(authConfig);\n        this.tokenOrchestrator.setAuthConfig(authConfig);\n    }\n}\n","/* eslint-disable */\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-east-2\"\n};\n\n\nexport default awsmobile;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Amplify, CookieStorage, defaultStorage, } from '@aws-amplify/core';\nimport { parseAmplifyConfig, } from '@aws-amplify/core/internals/utils';\nimport { CognitoAWSCredentialsAndIdentityIdProvider, DefaultIdentityIdStore, cognitoCredentialsProvider, cognitoUserPoolsTokenProvider, } from './auth/cognito';\nexport const DefaultAmplify = {\n    /**\n     * Configures Amplify with the {@link resourceConfig} and {@link libraryOptions}.\n     *\n     * @param resourceConfig The {@link ResourcesConfig} object that is typically imported from the\n     * `amplifyconfiguration.json` file. It can also be an object literal created inline when calling `Amplify.configure`.\n     * @param libraryOptions The {@link LibraryOptions} additional options for the library.\n     *\n     * @example\n     * import config from './amplifyconfiguration.json';\n     *\n     * Amplify.configure(config);\n     */\n    configure(resourceConfig, libraryOptions) {\n        const resolvedResourceConfig = parseAmplifyConfig(resourceConfig);\n        const cookieBasedKeyValueStorage = new CookieStorage({ sameSite: 'lax' });\n        const resolvedKeyValueStorage = libraryOptions?.ssr\n            ? cookieBasedKeyValueStorage\n            : defaultStorage;\n        const resolvedCredentialsProvider = libraryOptions?.ssr\n            ? new CognitoAWSCredentialsAndIdentityIdProvider(new DefaultIdentityIdStore(cookieBasedKeyValueStorage))\n            : cognitoCredentialsProvider;\n        // If no Auth config is provided, no special handling will be required, configure as is.\n        // Otherwise, we can assume an Auth config is provided from here on.\n        if (!resolvedResourceConfig.Auth) {\n            Amplify.configure(resolvedResourceConfig, libraryOptions);\n            return;\n        }\n        // If Auth options are provided, always just configure as is.\n        // Otherwise, we can assume no Auth libraryOptions were provided from here on.\n        if (libraryOptions?.Auth) {\n            Amplify.configure(resolvedResourceConfig, libraryOptions);\n            return;\n        }\n        // If no Auth libraryOptions were previously configured, then always add default providers.\n        if (!Amplify.libraryOptions.Auth) {\n            cognitoUserPoolsTokenProvider.setAuthConfig(resolvedResourceConfig.Auth);\n            cognitoUserPoolsTokenProvider.setKeyValueStorage(\n            // TODO: allow configure with a public interface\n            resolvedKeyValueStorage);\n            Amplify.configure(resolvedResourceConfig, {\n                ...libraryOptions,\n                Auth: {\n                    tokenProvider: cognitoUserPoolsTokenProvider,\n                    credentialsProvider: resolvedCredentialsProvider,\n                },\n            });\n            return;\n        }\n        // At this point, Auth libraryOptions would have been previously configured and no overriding\n        // Auth options were given, so we should preserve the currently configured Auth libraryOptions.\n        if (libraryOptions) {\n            const authLibraryOptions = Amplify.libraryOptions.Auth;\n            // If ssr is provided through libraryOptions, we should respect the intentional reconfiguration.\n            if (libraryOptions.ssr !== undefined) {\n                cognitoUserPoolsTokenProvider.setKeyValueStorage(\n                // TODO: allow configure with a public interface\n                resolvedKeyValueStorage);\n                authLibraryOptions.credentialsProvider = resolvedCredentialsProvider;\n            }\n            Amplify.configure(resolvedResourceConfig, {\n                Auth: authLibraryOptions,\n                ...libraryOptions,\n            });\n            return;\n        }\n        // Finally, if there were no libraryOptions given at all, we should simply not touch the currently\n        // configured libraryOptions.\n        Amplify.configure(resolvedResourceConfig);\n    },\n    /**\n     * Returns the {@link ResourcesConfig} object passed in as the `resourceConfig` parameter when calling\n     * `Amplify.configure`.\n     *\n     * @returns An {@link ResourcesConfig} object.\n     */\n    getConfig() {\n        return Amplify.getConfig();\n    },\n};\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Amplify } from 'aws-amplify';\r\nimport awsExports from './aws-exports';\r\n\r\nAmplify.configure(awsExports);\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);"],"names":["module","exports","REACT_ELEMENT_TYPE","Symbol","for","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","assign","Object","emptyObject","Component","props","context","updater","this","refs","ComponentDummy","PureComponent","prototype","isReactComponent","setState","partialState","callback","Error","forceUpdate","pureComponentPrototype","constructor","isPureReactComponent","isArrayImpl","Array","isArray","ReactSharedInternals","H","A","T","S","V","hasOwnProperty","ReactElement","type","key","self","source","owner","ref","$$typeof","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","element","index","escaperLookup","replace","match","escape","toString","noop$1","mapIntoArray","children","array","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","_init","_payload","c","push","maybeIterable","nextNamePrefix","i","length","call","next","done","value","then","thenable","status","reason","fulfilledValue","error","resolveThenable","String","keys","join","mapChildren","func","result","count","child","lazyInitializer","payload","_status","ctor","_result","moduleObject","default","reportGlobalError","reportError","window","ErrorEvent","event","bubbles","cancelable","message","dispatchEvent","process","emit","console","noop","Children","map","forEach","forEachFunc","forEachContext","apply","arguments","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","__COMPILER_RUNTIME","__proto__","size","useMemoCache","cache","fn","cloneElement","config","propName","childArray","createContext","defaultValue","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","createElement","childrenLength","defaultProps","createRef","current","forwardRef","render","lazy","memo","compare","startTransition","scope","prevTransition","currentTransition","returnValue","onStartTransitionFinish","unstable_useCacheRefresh","useCacheRefresh","use","usable","useActionState","action","initialState","permalink","useCallback","deps","useContext","Context","useDebugValue","useDeferredValue","initialValue","useEffect","create","createDeps","update","dispatcher","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useOptimistic","passthrough","reducer","useReducer","initialArg","init","useRef","useState","useSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","useTransition","version","React","require","formatProdErrorMessage","code","url","encodeURIComponent","Internals","d","f","r","D","C","L","m","X","M","p","findDOMNode","getCrossOriginStringAs","as","input","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","createPortal","container","nodeType","containerInfo","implementation","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","href","options","crossOrigin","prefetchDNS","preinit","integrity","fetchPriority","precedence","nonce","preinitModule","preload","referrerPolicy","imageSrcSet","imageSizes","media","preloadModule","requestFormReset","form","unstable_batchedUpdates","a","useFormState","useFormStatus","useHostTransitionStatus","jsxProd","maybeKey","jsx","jsxs","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","AmplifyError","_ref","name","recoverySuggestion","underlyingError","metadata","super","extendedRequestId","httpStatusCode","requestId","setPrototypeOf","ApiError","response","_response","replicateApiErrorResponse","params","headers","RestApiError","CanceledError","LogType","LOG_LEVELS","VERBOSE","DEBUG","INFO","WARN","ERROR","NONE","ConsoleLogger","level","_pluggables","_padding","_ts","dt","Date","getMinutes","getSeconds","getMilliseconds","configure","_config","_log","loggerLevelName","LOG_LEVEL","log","bind","warn","BIND_ALL_LOG_LEVELS","info","debug","prefix","_len","msg","_key","obj","slice","plugin","logEvent","timestamp","now","pushLogs","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","verbose","_len7","_key7","addPluggable","pluggable","getCategoryName","listPluggables","AMPLIFY_SYMBOL","logger","HubClass","listeners","Map","protectedChannels","_remove","channel","listener","holder","get","set","filter","dispatch","ampSymbol","indexOf","capsule","patternInfo","_toListeners","e","listen","cb","listenerName","Hub","deepFreeze","propNames","Reflect","ownKeys","freeze","ADD_OAUTH_LISTENER","authTypeMapping","API_KEY","AWS_IAM","AMAZON_COGNITO_USER_POOLS","OPENID_CONNECT","AWS_LAMBDA","LAMBDA","getRedirectUrl","redirectStr","split","getOAuthConfig","domain","redirectSignIn","redirectSignOut","responseType","scopes","parseSocialProviders","aws_cognito_social_providers","provider","updatedProvider","toLowerCase","charAt","toUpperCase","parseAmplifyOutputs","amplifyOutputs","resourcesConfig","storage","Storage","amplifyOutputsStorageProperties","bucket_name","aws_region","buckets","S3","bucket","region","createBucketInfoMap","parseStorage","auth","Auth","amplifyOutputsAuthProperties","user_pool_id","user_pool_client_id","identity_pool_id","password_policy","mfa_configuration","mfa_methods","unauthenticated_identities_enabled","oauth","username_attributes","standard_required_attributes","groups","authConfig","Cognito","userPoolId","userPoolClientId","identityPoolId","passwordFormat","requireLowercase","require_lowercase","requireNumbers","require_numbers","requireUppercase","require_uppercase","requireSpecialCharacters","require_symbols","minLength","min_length","mfa","getMfaStatus","smsEnabled","includes","totpEnabled","allowGuestAccess","loginWith","redirect_sign_in_uri","redirect_sign_out_uri","response_type","providers","getOAuthProviders","identity_providers","email","phone","username","userAttributes","reduce","acc","curr","required","parseAuth","analytics","Analytics","amplifyOutputsAnalyticsProperties","amazon_pinpoint","Pinpoint","appId","app_id","parseAnalytics","geo","Geo","geofence_collections","maps","search_indices","LocationService","searchIndices","geofenceCollections","parseGeo","data","API","amplifyOutputsDataProperties","default_authorization_type","api_key","model_introspection","GraphQL","endpoint","defaultAuthMode","getGraphQLAuthMode","apiKey","modelIntrospection","parseData","custom","customConfig","amplifyOutputsCustomProperties","events","Events","parseCustom","notifications","Notifications","amplifyOutputsNotificationsProperties","channels","amazon_pinpoint_app_id","hasInAppMessaging","hasPushNotification","notificationsConfig","InAppMessaging","PushNotification","parseNotifications","authModeNames","authType","providerNames","GOOGLE","LOGIN_WITH_AMAZON","FACEBOOK","SIGN_IN_WITH_APPLE","oAuthProviders","mfaConfiguration","mappedBuckets","bucketName","paths","sanitizedPaths","entries","_ref2","parseAmplifyConfig","amplifyConfig","some","startsWith","aws_appsync_apiKey","aws_appsync_authenticationType","aws_appsync_graphqlEndpoint","aws_appsync_region","aws_bots_config","aws_cognito_identity_pool_id","aws_cognito_sign_up_verification_method","aws_cognito_mfa_configuration","aws_cognito_mfa_types","aws_cognito_password_protection_settings","aws_cognito_verification_mechanisms","aws_cognito_signup_attributes","aws_cognito_username_attributes","aws_mandatory_sign_in","aws_mobile_analytics_app_id","aws_mobile_analytics_app_region","aws_user_files_s3_bucket","aws_user_files_s3_bucket_region","aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing","aws_user_pools_id","aws_user_pools_web_client_id","predictions","aws_cloud_logic_custom","Push","AWSPinpoint","Interactions","LexV1","fromEntries","bot","mfaConfig","passwordFormatConfig","passwordPolicyMinLength","passwordPolicyCharacters","from","Set","attributes","loginWithEmailEnabled","loginWithPhoneEnabled","signUpVerificationMethod","hasOAuthConfig","hasSocialProviderConfig","dangerouslyConnectToHttpEndpointForTesting","amazon_location_service","REST","api","service","VoiceId","voiceId","convert","speechGenerator","defaults","Predictions","parseAWSExports","isAmplifyOutputs","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","__generator","body","y","t","_","label","sent","trys","ops","g","Iterator","verb","v","op","TypeError","pop","SuppressedError","BLOCK_SIZE","KEY","Uint32Array","INIT","MAX_HASHABLE_LENGTH","Math","pow","RawSha256","state","Int32Array","temp","buffer","Uint8Array","bufferLength","bytesHashed","finished","position","byteLength","hashBuffer","digest","bitsHashed","bufferView","DataView","byteOffset","undecoratedLength","setUint8","setUint32","floor","out","state0","state1","state2","state3","state4","state5","state6","state7","u","t1_1","t2_1","t1","t2","fromUtf8","Buffer","TextEncoder","encode","convertToBuffer","ArrayBuffer","isView","BYTES_PER_ELEMENT","Sha256","secret","hash","reset","toHash","digestSync","outer","inner","bufferHash","bufferFromSecret","SHORT_TO_HEX","HEX_TO_SHORT","encodedByte","AuthClass","authResourcesConfig","authOptions","fetchAuthSession","credentialsAndIdentityId","userSub","tokens","getTokens","accessToken","sub","credentialsProvider","getCredentialsAndIdentityId","authenticated","forceRefresh","credentials","identityId","clearCredentials","clearCredentialsAndIdentityId","tokenProvider","Amplify","oAuthListener","libraryOptions","resolvedResourceConfig","notifyOAuthListener","getConfig","RestApiValidationErrorCode","validationErrorMap","InvalidApiName","parseMetadata","statusCode","isMetadataBearer","$metadata","cfId","parseJsonError","async","parseJsonBody","rawValue","cleanValue","sanitizeErrorCode","__type","Message","output","json","parseRestApiServiceError","parsedAwsError","stubErrorResponse","bodyText","text","buildRestApiError","bodyTextPromise","bodyProxy","Proxy","target","prop","receiver","JSON","parse","restApiError","DEFAULT_REST_IAM_SIGNING_SERVICE","DEFAULT_IAM_SIGNING_REGION","APIG_HOSTNAME_PATTERN","parseSigningInfo","restApiOptions","signingService","signingRegion","amplify","apiName","hostname","exec","AmplifyUrl","URL","AmplifyUrlSearchParams","URLSearchParams","resolveApiUrl","path","queryParams","urlStr","assertion","assertValidationError","mergedQueryParams","searchParams","search","isIamAuthApplicableForRest","signingServiceInfo","authorization","DEFAULT_RETRY_ATTEMPTS","AMZ_SDK_INVOCATION_ID_HEADER","DEFAULT_MAX_DELAY_MS","jitteredBackoff","attempt","delayFunction","maxDelayMs","delay","random","jitteredBackoff$1","AmplifyErrorCode","CLOCK_SKEW_ERROR_CODES","getRetryDecider","errorParser","parsedError","errorCode","retryable","isConnectionError","isThrottlingError","isClockSkewError","isServerSideError","THROTTLING_ERROR_CODES","TIMEOUT_ERROR_CODES","NetworkError","withMemoization","payloadAccessor","cached","shouldSendBody","method","fetchTransferHandler","resp","abortSignal","withCrossDomainCredentials","fetch","signal","responseHeaders","blob","userAgentMiddlewareFactory","userAgentHeader","userAgentValue","request","trim","headerName","retryMiddlewareFactory","maxAttempts","retryDecider","computeDelay","attemptsCount","handleTerminalErrorOrResponse","addOrIncrementMetadataAttempts","aborted","isCredentialsExpiredError","isCredentialsExpired","cancellableSleep","timeoutMs","timeoutId","sleepPromiseResolveFn","sleepPromise","setTimeout","addEventListener","cancelSleep","clearTimeout","removeEventListener","nextHandlerOutput","attempts","getSignedHeaders","sort","AMZ_DATE_HEADER","TOKEN_HEADER","KEY_TYPE_IDENTIFIER","SHA256_ALGORITHM_IDENTIFIER","getSigningValues","signingDate","uriEscapePath","accessKeyId","secretAccessKey","sessionToken","longDate","shortDate","date","toISOString","getFormattedDates","credentialScope","getHashedData","sha256","getHashedDataAsHex","bytes","toHex","getCanonicalHeaders","b","entry","escapeUri","uri","hexEncode","charCodeAt","getCanonicalUri","pathname","getHashedPayload","isSourceData","isArrayBuffer","arg","getSignature","canonicalRequest","keyA","valA","keyB","valB","_ref3","val","getCanonicalRequest","stringToSign","getStringToSign","hashedRequest","signature","getSigningKey","dateKey","regionKey","serviceKey","getSkewCorrectedDate","systemClockOffset","getUpdatedSystemClockOffset","clockTimeInMilliseconds","currentSystemClockOffset","isClockSkewed","clockOffsetInMilliseconds","abs","getTime","getDateHeader","composeTransferHandler","coreHandler","middleware","composedHandler","composeHandlerRequest","resolvedMiddleware","authenticatedHandler","signRequestOptions","signedRequest","signRequest","signingValues","host","requestToSign","credentialEntry","signedHeadersEntry","signatureEntry","dateString","unauthenticatedHandler","transferHandler","iamAuthApplicable","withCredentials","retryStrategy","resolvedBody","FormData","stringify","resolvedHeaders","resolveHeaders","normalizedHeaders","baseOptions","getRetryDeciderFromStrategy","isIamAuthApplicable","resolveCredentials","signingInfoFromUrl","strategy","publicHandler","handler","abortController","isInternalPost","targetHandler","publicApisAbortController","AbortController","publicApisAbortSignal","internalPostAbortSignal","abortReason","job","canceledError","cancel","abortMessage","abort","createCancellableOperation","apiOptions","apiPath","libraryConfigHeaders","invocationHeaders","get$1","post","post$1","states","setStates","cities","setCities","years","setYears","selectedState","setSelectedState","selectedCity","setSelectedCity","selectedYear","setSelectedYear","prediction","setPrediction","fetchStates","generateYears","currentYear","getFullYear","_jsxs","className","_jsx","onSubmit","preventDefault","city","year","predicted_price","_error$response","_error$response$data","onChange","fetchCities","disabled","Number","toLocaleString","converter","defaultAttributes","document","expires","toUTCString","decodeURIComponent","stringifiedAttributes","attributeName","cookie","write","cookies","jar","parts","found","read","remove","withAttributes","withConverter","CookieStorage","sameSite","secure","setItem","JsCookie","getData","getItem","removeItem","clear","promises","all","PlatformNotSupportedError","PlatformNotSupported","KeyValueStorage","InMemoryStorage","delete","getSessionStorageWithFallback","sessionStorage","SyncKeyValueStorage","_storage","defaultStorage","getLocalStorageWithFallback","localStorage","composeServiceApi","serializer","deserializer","defaultConfig","resolvedConfig","endpointResolver","defaultPartition","id","outputs","dnsSuffix","regionRegex","regions","partitionsInfo","partitions","getDnsSuffix","regex","RegExp","test","randomUUID","crypto","getRandomValues","rnds8","rng","byteToHex","unsafeStringify","arr","offset","amplifyUuid","buf","native","rnds","amzSdkInvocationIdHeaderMiddlewareFactory","Framework","Category","AiAction","AnalyticsAction","ApiAction","AuthAction","DataStoreAction","GeoAction","InAppMessagingAction","InteractionsAction","PredictionsAction","PubSubAction","PushNotificationAction","StorageAction","globalExists","global","windowExists","documentExists","processExists","keyPrefixMatch","find","detectionMap","platform","Expo","detectionMethod","expo","ReactNative","navigator","product","NextJs","Nuxt","__NUXT__","$nuxt","Angular","angularVersionSetInDocument","Boolean","querySelector","angularContentSetInWindow","ng","elementKeyPrefixedWithReact","querySelectorAll","VueJs","Svelte","WebUnknown","NextJsSSR","NuxtSSR","__NUXT_PATHS__","ReactSSR","VueJsSSR","AngularSSR","npm_lifecycle_script","SvelteSSR","frameworkCache","frameworkChangeObservers","resetTriggered","detectFramework","detectionEntry","ServerSideUnknown","fcn","resetTimeout","observeFrameworkChanges","framework","customUserAgentState","BASE_USER_AGENT","sanitizeAmplifyVersion","amplifyVersion","userAgent","isReactNative","getAmplifyUserAgentObject","category","customState","getCustomUserAgent","additionalDetails","getAmplifyUserAgent","customUserAgentDetails","agentKey","agentValue","cognitoIdentityTransferHandler","disableCacheMiddlewareFactory","getSharedHeaders","operation","buildHttpRpcRequest","deserializeCredentials","AccessKeyId","SecretKey","SessionToken","Expiration","getCredentialsForIdentity","getCredentialsForIdentitySerializer","IdentityId","Credentials","base64Decoder","inputStr","urlSafe","getAtob","atob","createAssertionFunction","errorMap","AssertionError","additionalContext","AuthConfigurationErrorCode","assert","AuthTokenConfigException","AuthUserPoolAndIdentityPoolException","AuthUserPoolException","InvalidIdentityPoolIdException","OAuthNotConfigureException","assertTokenProviderConfig","cognitoConfig","assertionValid","assertIdentityPoolIdConfig","decodeJWT","token","tokenParts","base64","jsonStr","char","AuthError","assertServiceError","Unknown","getRegionFromIdentityPoolId","USER_UNAUTHENTICATED_EXCEPTION","oAuthTokenRefreshException","tokenRefreshException","assertAuthTokensWithRefreshToken","isAuthenticated","refreshToken","isAuthenticatedWithImplicitOauthFlow","isAuthenticatedWithRefreshToken","OAuthStorageKeys","inflightOAuth","oauthSignIn","oauthPKCE","oauthState","idToken","getId","getIdSerializer","formLoginsMap","issuer","iss","res","cognitoIdentityIdProvider","identityIdStore","setAuthConfig","loadIdentityId","logins","generatedIdentityId","idResult","IdentityPoolId","Logins","generateIdentityId","storeIdentityId","CREDENTIALS_TTL","CognitoAWSCredentialsAndIdentityIdProvider","_nextCredentialsRefresh","_identityIdStore","_credentialsAndIdentityId","clearIdentityId","getCredentialsOptions","tokenHasChanged","hasTokenChanged","assertIdTokenInAuthTokens","credsForOIDCTokens","getGuestCredentials","isPastTTL","isAuthenticatedCreds","clientResult","expiration","authTokens","associatedIdToken","AuthTokenStorageKeys","oidcProvider","clockDrift","deviceKey","randomPasswordKey","deviceGroupKey","signInDetails","oauthMetadata","TokenProviderErrorCode","InvalidAuthTokens","AUTH_KEY_PREFIX","DefaultTokenStore","getKeyValueStorage","keyValueStorage","setKeyValueStorage","loadTokens","authKeys","getAuthKeys","accessTokenString","itString","clockDriftString","parseInt","deviceMetadata","getDeviceMetadata","getLastAuthUser","storeTokens","lastAuthUser","getLastAuthUserKey","randomPassword","clearTokens","clearDeviceMetadata","createKeysForAuthStorage","identifier","setOAuthMetadata","oauthMetadataKey","getOAuthMetadata","getAuthStorageKeys","values","authKey","IdentityIdStorageKeys","DefaultIdentityIdStore","authConfigParam","_authKeys","_hasGuestIdentityId","_primaryIdentityId","storedIdentityId","identity","cognitoCredentialsProvider","cognitoUserPoolTransferHandler","COGNITO_IDP_SERVICE_NAME","DEFAULT_SERVICE_CLIENT_API_CONFIG","createInitiateAuthClient","createCognitoUserPoolEndpointResolver","endpointOverride","cognitoUserPoolEndpointResolver","refreshAuthTokensFunction","userPoolEndpoint","getRegionFromUserPoolId","refreshTokenString","AuthParameters","REFRESH_TOKEN","DEVICE_KEY","UserContextData","amazonCognitoAdvancedSecurityData","AmazonCognitoAdvancedSecurityData","advancedSecurityData","EncodedData","getUserContextData","initiateAuth","AuthenticationResult","ClientId","AuthFlow","AccessToken","IdToken","iat","refreshAuthTokens","asyncFunction","inflightPromise","args","catch","finally","deDupeAsyncFunction","isTokenExpired","expiresAt","tolerance","V5_HOSTED_UI_KEY","oAuthStore","clearOAuthInflightData","clearOAuthData","loadOAuthState","storeOAuthState","loadPKCE","storePKCE","pkce","loadOAuthInFlight","storeOAuthInFlight","inflight","loadOAuthSignIn","isLegacyHostedUISignIn","isOAuthSignIn","preferPrivateSession","storeOAuthSignIn","inflightPromises","TokenOrchestrator","waitForInflightOAuth","_reject","resolver","setTokenRefresher","tokenRefresher","setAuthTokenStore","tokenStore","getTokenStore","getTokenRefresher","_err","idTokenExpired","exp","accessTokenExpired","refreshTokens","newTokens","setTokens","handleErrors","cognitoUserPoolsTokenProvider","authTokenStore","tokenOrchestrator","resourceConfig","cookieBasedKeyValueStorage","resolvedKeyValueStorage","ssr","resolvedCredentialsProvider","authLibraryOptions","awsExports","ReactDOM","createRoot","getElementById","App"],"sourceRoot":""}