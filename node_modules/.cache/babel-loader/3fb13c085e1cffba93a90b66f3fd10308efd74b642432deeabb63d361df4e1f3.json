{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Amplify}from'aws-amplify';import{get,post}from'@aws-amplify/api-rest';// Correct import\nimport'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[states,setStates]=useState([]);const[cities,setCities]=useState([]);const[years,setYears]=useState([]);const[selectedState,setSelectedState]=useState('');const[selectedCity,setSelectedCity]=useState('');const[selectedYear,setSelectedYear]=useState('');const[prediction,setPrediction]=useState(null);useEffect(()=>{fetchStates();generateYears();},[]);const fetchStates=async()=>{try{const response=await get({apiName:'RealEstatePredictorAPI',path:'/states',options:{}});const data=await response.json();setStates(data.states||[]);}catch(error){console.error('Error fetching states:',error);}};const fetchCities=async state=>{if(state){try{const response=await get({apiName:'RealEstatePredictorAPI',path:`/cities/${state}`,options:{}});const data=await response.json();setCities(data.cities||[]);setSelectedCity('');}catch(error){console.error('Error fetching cities:',error);}}};const generateYears=()=>{const currentYear=new Date().getFullYear();setYears([...Array(11).keys()].map(i=>currentYear-5+i));};const handleStateChange=e=>{const state=e.target.value;setSelectedState(state);fetchCities(state);};const handleSubmit=async e=>{e.preventDefault();const body={city:selectedCity,state:selectedState,year:selectedYear};try{const response=await post({apiName:'RealEstatePredictorAPI',path:'/predict',options:{body}});const data=await response.json();setPrediction(data.predicted_price);}catch(error){var _error$response,_error$response$data;setPrediction(`Error: ${((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message}`);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Real Estate Price Predictor\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"State: \"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedState,onChange:handleStateChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select State\"}),states.map(state=>/*#__PURE__*/_jsx(\"option\",{value:state,children:state},state))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"City: \"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCity,onChange:e=>setSelectedCity(e.target.value),disabled:!selectedState,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select City\"}),cities.map(city=>/*#__PURE__*/_jsx(\"option\",{value:city,children:city},city))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Year: \"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedYear,onChange:e=>setSelectedYear(e.target.value),disabled:!selectedCity,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Year\"}),years.map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!selectedYear,children:\"Predict\"})]}),prediction&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Predicted Price: $\",Number(prediction).toLocaleString()]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Amplify","get","post","jsx","_jsx","jsxs","_jsxs","App","states","setStates","cities","setCities","years","setYears","selectedState","setSelectedState","selectedCity","setSelectedCity","selectedYear","setSelectedYear","prediction","setPrediction","fetchStates","generateYears","response","apiName","path","options","data","json","error","console","fetchCities","state","currentYear","Date","getFullYear","Array","keys","map","i","handleStateChange","e","target","value","handleSubmit","preventDefault","body","city","year","predicted_price","_error$response","_error$response$data","message","className","children","onSubmit","onChange","disabled","type","Number","toLocaleString"],"sources":["D:/real-estate-ui/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Amplify } from 'aws-amplify';\r\nimport { get, post } from '@aws-amplify/api-rest'; // Correct import\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [states, setStates] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [years, setYears] = useState([]);\r\n  const [selectedState, setSelectedState] = useState('');\r\n  const [selectedCity, setSelectedCity] = useState('');\r\n  const [selectedYear, setSelectedYear] = useState('');\r\n  const [prediction, setPrediction] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchStates();\r\n    generateYears();\r\n  }, []);\r\n\r\n  const fetchStates = async () => {\r\n    try {\r\n      const response = await get({\r\n        apiName: 'RealEstatePredictorAPI',\r\n        path: '/states',\r\n        options: {}\r\n      });\r\n      const data = await response.json();\r\n      setStates(data.states || []);\r\n    } catch (error) {\r\n      console.error('Error fetching states:', error);\r\n    }\r\n  };\r\n\r\n  const fetchCities = async (state) => {\r\n    if (state) {\r\n      try {\r\n        const response = await get({\r\n          apiName: 'RealEstatePredictorAPI',\r\n          path: `/cities/${state}`,\r\n          options: {}\r\n        });\r\n        const data = await response.json();\r\n        setCities(data.cities || []);\r\n        setSelectedCity('');\r\n      } catch (error) {\r\n        console.error('Error fetching cities:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const generateYears = () => {\r\n    const currentYear = new Date().getFullYear();\r\n    setYears([...Array(11).keys()].map(i => currentYear - 5 + i));\r\n  };\r\n\r\n  const handleStateChange = (e) => {\r\n    const state = e.target.value;\r\n    setSelectedState(state);\r\n    fetchCities(state);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const body = { city: selectedCity, state: selectedState, year: selectedYear };\r\n    try {\r\n      const response = await post({\r\n        apiName: 'RealEstatePredictorAPI',\r\n        path: '/predict',\r\n        options: {\r\n          body\r\n        }\r\n      });\r\n      const data = await response.json();\r\n      setPrediction(data.predicted_price);\r\n    } catch (error) {\r\n      setPrediction(`Error: ${error.response?.data?.error || error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Real Estate Price Predictor</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>State: </label>\r\n          <select value={selectedState} onChange={handleStateChange}>\r\n            <option value=\"\">Select State</option>\r\n            {states.map(state => (\r\n              <option key={state} value={state}>{state}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>City: </label>\r\n          <select value={selectedCity} onChange={e => setSelectedCity(e.target.value)} disabled={!selectedState}>\r\n            <option value=\"\">Select City</option>\r\n            {cities.map(city => (\r\n              <option key={city} value={city}>{city}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Year: </label>\r\n          <select value={selectedYear} onChange={e => setSelectedYear(e.target.value)} disabled={!selectedCity}>\r\n            <option value=\"\">Select Year</option>\r\n            {years.map(year => (\r\n              <option key={year} value={year}>{year}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <button type=\"submit\" disabled={!selectedYear}>Predict</button>\r\n      </form>\r\n      {prediction && <div>Predicted Price: ${Number(prediction).toLocaleString()}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}